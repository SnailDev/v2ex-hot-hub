[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/b789/2fb3/937_large.png?m=1584298330", "name": "zhihu", "avatar_normal": "https://cdn.v2ex.com/navatar/b789/2fb3/937_normal.png?m=1584298330", "title": "知乎", "url": "https://www.v2ex.com/go/zhihu", "topics": 366, "footer": "", "header": "知乎创建于 2010 年，是一个用户产生内容的问答社区", "title_alternative": "Zhihu", "avatar_mini": "https://cdn.v2ex.com/navatar/b789/2fb3/937_mini.png?m=1584298330", "stars": 97, "aliases": [], "root": false, "id": 937, "parent_node_name": "internet"}, "member": {"id": 327820, "username": "627Ryan", "url": "https://www.v2ex.com/u/627Ryan", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/d56c/fc74/327820_mini.png?m=1643204936", "avatar_normal": "https://cdn.v2ex.com/avatar/d56c/fc74/327820_normal.png?m=1643204936", "avatar_large": "https://cdn.v2ex.com/avatar/d56c/fc74/327820_large.png?m=1643204936", "created": 1531069534, "last_modified": 1643204936}, "last_reply_by": "wq2016", "last_touched": 1643277611, "title": "大家对 「少数派」 是数码圈「小红书」的说法有什么看法?", "url": "https://www.v2ex.com/t/830801", "created": 1643204943, "deleted": 0, "content": "<img src=\"https://tva1.sinaimg.cn/large/006S3eYJgy1gyrevittmej30u00j6adc.jpg\" alt=\"IMAGE 2022-01-26 21:48:49\" width=\"1080\" data-width=\"1080\" data-height=\"690\">", "content_rendered": "<img alt=\"IMAGE 2022-01-26 21:48:49\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://tva1.sinaimg.cn/large/006S3eYJgy1gyrevittmej30u00j6adc.jpg\"/>", "last_modified": 1643271446, "replies": 159, "id": 830801}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/9f61/408e/56_large.png?m=1628212285", "name": "internet", "avatar_normal": "https://cdn.v2ex.com/navatar/9f61/408e/56_normal.png?m=1628212285", "title": "互联网", "url": "https://www.v2ex.com/go/internet", "topics": 3026, "footer": "", "header": "In Internet we trust", "title_alternative": "Internet", "avatar_mini": "https://cdn.v2ex.com/navatar/9f61/408e/56_mini.png?m=1628212285", "stars": 937, "aliases": [], "root": false, "id": 56, "parent_node_name": "computer"}, "member": {"id": 556900, "username": "V9NN", "url": "https://www.v2ex.com/u/V9NN", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/ab5a7987d56e681a68ed920468ec7186?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/ab5a7987d56e681a68ed920468ec7186?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/ab5a7987d56e681a68ed920468ec7186?s=73&d=retro", "created": 1632620580, "last_modified": 1639018103}, "last_reply_by": "123abcdf11345", "last_touched": 1643283815, "title": "过年了求推荐好看的网文小说", "url": "https://www.v2ex.com/t/830836", "created": 1643242959, "deleted": 0, "content": "旅途无聊，再加上回家应该大把空闲时间，突然想看看网文（爽文），求推荐质量不错的作品。\r\n如果能说说好在哪里则更好，感谢！\r\n\r\n提前祝各位大佬新春愉快！", "content_rendered": "旅途无聊，再加上回家应该大把空闲时间，突然想看看网文（爽文），求推荐质量不错的作品。<br />如果能说说好在哪里则更好，感谢！<br /><br />提前祝各位大佬新春愉快！", "last_modified": 1643282409, "replies": 84, "id": 830836}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/70ef/df2e/17_large.png?m=1629391403", "name": "create", "avatar_normal": "https://cdn.v2ex.com/navatar/70ef/df2e/17_normal.png?m=1629391403", "title": "分享创造", "url": "https://www.v2ex.com/go/create", "topics": 17235, "footer": "", "header": "欢迎你在这里发布自己的最新作品！", "title_alternative": "Create", "avatar_mini": "https://cdn.v2ex.com/navatar/70ef/df2e/17_mini.png?m=1629391403", "stars": 4172, "aliases": [], "root": false, "id": 17, "parent_node_name": "geek"}, "member": {"id": 120647, "username": "44670", "url": "https://www.v2ex.com/u/44670", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/4c89/9d83/120647_mini.png?m=1610468758", "avatar_normal": "https://cdn.v2ex.com/avatar/4c89/9d83/120647_normal.png?m=1610468758", "avatar_large": "https://cdn.v2ex.com/avatar/4c89/9d83/120647_large.png?m=1610468758", "created": 1433463632, "last_modified": 1610468758}, "last_reply_by": "parametrix", "last_touched": 1643282234, "title": "做了一个用于登录 SSH 的 USB Key，成本低至 9.9 元", "url": "https://www.v2ex.com/t/830808", "created": 1643208421, "deleted": 0, "content": "由于直接用密码不方便并且不安全，相信很多人都会配置使用公私钥来登录 SSH 主机。\r\n然而，直接在电脑里存储私钥文件实际上是非常不安全的：电脑上任何一个能读取用户目录的软件都有可能偷走私钥然后做坏事。\r\n比较可信赖的方式是做一个专门的 USB Key 设备，实现 SSH 登录时用到的公私钥认证算法，这样一来电脑上就不会存储私钥了。\r\nYubiKey 支持 SSH 登录，但是除了价格问题以外，另一个问题是 YubiKey 对 SSH 登录的支持不是原生的，在 Windows 下需要依赖 Windows Crypto API/SmartCard API 这些黑箱，其它平台上也需要 OpenPGP 这样的软件套一至多层实现，配置起来可能会很复杂并且总觉得不够可靠。\r\n\r\n所以我觉得有必要自己做一个专门用于登录 SSH 的 USB Key ，并且尽量简化功能和降低成本。\r\n\r\n基于以下几点原因，最后选择了 ESP32/ESP32-C3 芯片：\r\n1. ESP32 系列自带安全启动、存储加密功能，一定程度上可以防止硬件上的秘密被物理读取。\r\n2. 价格非常便宜，目前淘宝上卖得最多的一家 ESP32-C3 开发板只需 9.9 元（限购 10 件）。\r\n3. 有 WiFi/BLE 功能，未来或许可以做成无线的。\r\n\r\n已经在 ESP32 开发板上测试通过，几乎所有的 ESP32/ESP32-C3 开发板都可以直接使用。\r\n\r\n也在计划做自己的硬件，打算提供一个带灯的按钮，用户按下物理按钮可以确认登录操作。\r\n\r\nPC 端用 Go 实现了一个 ssh-agent ，可以转发 SSH 身份认证请求到设备端、由设备端完成签名操作。\r\n\r\n特点：\r\n1. 设备端只专注 ed25519 签名一件事情，代码<1K LOC （不含第三方库），容易审计。\r\n2. 私钥完全在设备端产生，不会传递到外部，不依赖 Windows Crypto API/SmartCard API 之类的黑箱。\r\n3. 私钥通过 SHA256 算法，结合设备端存储的随机种子+用户密码产生。设备本身不存储 /验证某个特定的用户密码，用户每次输入不同的密码即可以直接使用不同的 ed25519 公私钥对。\r\n4. 使用外部的独立 USB 转串口芯片，避免软件 USB 协议栈的潜在漏洞影响设备的安全性。\r\n5. 可以通过单一的 Go 写的工具，实现设备的初始化、ssh-agent 等全部功能，不需要安装额外的软件。\r\n\r\n使用方法：\r\n1. 安装 ESP-IDF 环境、构建 44Key 项目后刷入任意一个 ESP32/ESP32-C3 开发板里。\r\n2. 运行 44KeyTool -port COMx -format ，初始化设备。需要在键盘上随便输入些字符，用于给设备端生成随机种子提供一部分熵。（在设备管理器里确认具体的串口号，替换 COMx ）\r\n3. 运行 44KeyTool -port COMx ，输入自己的密码后，即可开启 ssh-agent ，此时终端会显示输出公钥。\r\n4. 把公钥添加到目标服务器的~/.ssh/authorized_keys ，下次就可以直接用 USB Key 登录啦。\r\n\r\n项目地址：\r\n硬件（准备中）： https://oshwhub.com/44670/miniusbkey\r\n固件： https://github.com/44670/44Key\r\nPC 端软件： https://github.com/44670/44KeyTool\r\n\r\n目前是一个可以在 Windows 上工作的原型，实现了 SSH 认证所需的全部功能，不过安全启动和存储加密还没默认启用。\r\n\r\n欢迎提供各种想法！", "content_rendered": "由于直接用密码不方便并且不安全，相信很多人都会配置使用公私钥来登录 SSH 主机。<br />然而，直接在电脑里存储私钥文件实际上是非常不安全的：电脑上任何一个能读取用户目录的软件都有可能偷走私钥然后做坏事。<br />比较可信赖的方式是做一个专门的 USB Key 设备，实现 SSH 登录时用到的公私钥认证算法，这样一来电脑上就不会存储私钥了。<br />YubiKey 支持 SSH 登录，但是除了价格问题以外，另一个问题是 YubiKey 对 SSH 登录的支持不是原生的，在 Windows 下需要依赖 Windows Crypto API/SmartCard API 这些黑箱，其它平台上也需要 OpenPGP 这样的软件套一至多层实现，配置起来可能会很复杂并且总觉得不够可靠。<br /><br />所以我觉得有必要自己做一个专门用于登录 SSH 的 USB Key ，并且尽量简化功能和降低成本。<br /><br />基于以下几点原因，最后选择了 ESP32/ESP32-C3 芯片：<br />1. ESP32 系列自带安全启动、存储加密功能，一定程度上可以防止硬件上的秘密被物理读取。<br />2. 价格非常便宜，目前淘宝上卖得最多的一家 ESP32-C3 开发板只需 9.9 元（限购 10 件）。<br />3. 有 WiFi/BLE 功能，未来或许可以做成无线的。<br /><br />已经在 ESP32 开发板上测试通过，几乎所有的 ESP32/ESP32-C3 开发板都可以直接使用。<br /><br />也在计划做自己的硬件，打算提供一个带灯的按钮，用户按下物理按钮可以确认登录操作。<br /><br />PC 端用 Go 实现了一个 ssh-agent ，可以转发 SSH 身份认证请求到设备端、由设备端完成签名操作。<br /><br />特点：<br />1. 设备端只专注 ed25519 签名一件事情，代码&lt;1K LOC （不含第三方库），容易审计。<br />2. 私钥完全在设备端产生，不会传递到外部，不依赖 Windows Crypto API/SmartCard API 之类的黑箱。<br />3. 私钥通过 SHA256 算法，结合设备端存储的随机种子+用户密码产生。设备本身不存储 /验证某个特定的用户密码，用户每次输入不同的密码即可以直接使用不同的 ed25519 公私钥对。<br />4. 使用外部的独立 USB 转串口芯片，避免软件 USB 协议栈的潜在漏洞影响设备的安全性。<br />5. 可以通过单一的 Go 写的工具，实现设备的初始化、ssh-agent 等全部功能，不需要安装额外的软件。<br /><br />使用方法：<br />1. 安装 ESP-IDF 环境、构建 44Key 项目后刷入任意一个 ESP32/ESP32-C3 开发板里。<br />2. 运行 44KeyTool -port COMx -format ，初始化设备。需要在键盘上随便输入些字符，用于给设备端生成随机种子提供一部分熵。（在设备管理器里确认具体的串口号，替换 COMx ）<br />3. 运行 44KeyTool -port COMx ，输入自己的密码后，即可开启 ssh-agent ，此时终端会显示输出公钥。<br />4. 把公钥添加到目标服务器的~/.ssh/authorized_keys ，下次就可以直接用 USB Key 登录啦。<br /><br />项目地址：<br />硬件（准备中）： <a target=\"_blank\" href=\"https://oshwhub.com/44670/miniusbkey\" rel=\"nofollow noopener\">https://oshwhub.com/44670/miniusbkey</a><br />固件： <a target=\"_blank\" href=\"https://github.com/44670/44Key\" rel=\"nofollow noopener\">https://github.com/44670/44Key</a><br />PC 端软件： <a target=\"_blank\" href=\"https://github.com/44670/44KeyTool\" rel=\"nofollow noopener\">https://github.com/44670/44KeyTool</a><br /><br />目前是一个可以在 Windows 上工作的原型，实现了 SSH 认证所需的全部功能，不过安全启动和存储加密还没默认启用。<br /><br />欢迎提供各种想法！", "last_modified": 1643208459, "replies": 74, "id": 830808}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/069d/3bb0/580_large.png?m=1642059941", "name": "ios", "avatar_normal": "https://cdn.v2ex.com/navatar/069d/3bb0/580_normal.png?m=1642059941", "title": "iOS", "url": "https://www.v2ex.com/go/ios", "topics": 2945, "footer": "", "header": "运行于 Apple 移动设备上的操作系统。", "title_alternative": "iOS", "avatar_mini": "https://cdn.v2ex.com/navatar/069d/3bb0/580_mini.png?m=1642059941", "stars": 738, "aliases": [], "root": false, "id": 580, "parent_node_name": "apple"}, "member": {"id": 163414, "username": "zhoudaiyu", "url": "https://www.v2ex.com/u/zhoudaiyu", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/b75f/9ee0/163414_mini.png?m=1638267611", "avatar_normal": "https://cdn.v2ex.com/avatar/b75f/9ee0/163414_normal.png?m=1638267611", "avatar_large": "https://cdn.v2ex.com/avatar/b75f/9ee0/163414_large.png?m=1638267611", "created": 1458024699, "last_modified": 1638267611}, "last_reply_by": "crack105", "last_touched": 1643280109, "title": "iOS 15.3 来了", "url": "https://www.v2ex.com/t/830839", "created": 1643245848, "deleted": 0, "content": "有更新的 XD 吗？", "content_rendered": "<p>有更新的 XD 吗？</p>\n", "last_modified": 1643245848, "replies": 58, "id": 830839}, {"node": {"avatar_large": "/static/img/node_default_large.png", "name": "fit", "avatar_normal": "/static/img/node_default_normal.png", "title": "健康", "url": "https://www.v2ex.com/go/fit", "topics": 784, "footer": "", "header": "这个节点的设立，是为了让大家可以分享关于健身和健康生活方式的经验。如果你有什么正在困扰自己的身体症状，请立刻寻求正规医院的帮助。", "title_alternative": "Fit", "avatar_mini": "/static/img/node_default_mini.png", "stars": 252, "aliases": [], "root": false, "id": 700, "parent_node_name": "life"}, "member": {"id": 377574, "username": "rick2c", "url": "https://www.v2ex.com/u/rick2c", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/980a/9ee4/377574_mini.png?m=1639534571", "avatar_normal": "https://cdn.v2ex.com/avatar/980a/9ee4/377574_normal.png?m=1639534571", "avatar_large": "https://cdn.v2ex.com/avatar/980a/9ee4/377574_large.png?m=1639534571", "avatar_xlarge": "https://cdn.v2ex.com/avatar/980a/9ee4/377574_xlarge.png?m=1639534571", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/980a/9ee4/377574_xlarge.png?m=1639534571", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/980a/9ee4/377574_xlarge.png?m=1639534571", "created": 1547523231, "last_modified": 1639534571}, "last_reply_by": "fyxtc", "last_touched": 1643285161, "title": "突然耳鸣了怎么办", "url": "https://www.v2ex.com/t/830852", "created": 1643248994, "deleted": 0, "content": "昨晚突然睡前耳鸣，有很大的白噪音，睡醒就好了一点", "content_rendered": "<p>昨晚突然睡前耳鸣，有很大的白噪音，睡醒就好了一点</p>\n", "last_modified": 1643248994, "replies": 54, "id": 830852}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1639060795", "name": "career", "avatar_normal": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1639060795", "title": "职场话题", "url": "https://www.v2ex.com/go/career", "topics": 12601, "footer": "", "header": "这里，我们聊聊那些工作中遇到的开心和不开心的事。", "title_alternative": "Career", "avatar_mini": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1639060795", "stars": 2252, "aliases": [], "root": false, "id": 770, "parent_node_name": "work"}, "member": {"id": 102543, "username": "soinman", "url": "https://www.v2ex.com/u/soinman", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/40b1/08e2/102543_mini.png?m=1425525249", "avatar_normal": "https://cdn.v2ex.com/avatar/40b1/08e2/102543_normal.png?m=1425525249", "avatar_large": "https://cdn.v2ex.com/avatar/40b1/08e2/102543_large.png?m=1425525249", "created": 1425525186, "last_modified": 1425525249}, "last_reply_by": "arvinsilm", "last_touched": 1643276735, "title": "看到对抗大厂加班有感，体制内加班是否也日益严重。", "url": "https://www.v2ex.com/t/830822", "created": 1643214962, "deleted": 0, "content": "体制内分公务员和事业编，公务员有公务员法，事业编有个条例，虽然有说明，未在条例中说明的，以劳动法为准。但实际宣传的都是不受劳动法保护，也鲜有劳动仲裁的。\n        但目前我所了解的公务员和事业编工作人员加班现象很严重，而且隐性加班也很频繁，党内活动更是经常放在节假日。一般职工可以选择 run 或者发帖抱怨两句，体制内员工有什么办法可以改善自己的处境吗？\n        PS:这里就不讨论他们是否是既得利益者了，也不讨论 run 了，仅探讨是否有从内部改善的办法，或者大家一般怎么做。", "content_rendered": "体制内分公务员和事业编，公务员有公务员法，事业编有个条例，虽然有说明，未在条例中说明的，以劳动法为准。但实际宣传的都是不受劳动法保护，也鲜有劳动仲裁的。<br />        但目前我所了解的公务员和事业编工作人员加班现象很严重，而且隐性加班也很频繁，党内活动更是经常放在节假日。一般职工可以选择 run 或者发帖抱怨两句，体制内员工有什么办法可以改善自己的处境吗？<br />        PS:这里就不讨论他们是否是既得利益者了，也不讨论 run 了，仅探讨是否有从内部改善的办法，或者大家一般怎么做。", "last_modified": 1643214962, "replies": 46, "id": 830822}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1641688451", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1641688451", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 47262, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1641688451", "stars": 7685, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 421713, "username": "breadykidliu", "url": "https://www.v2ex.com/u/breadykidliu", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/d7abc5d0d44ee416bb77f4b56e94c8fd?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/d7abc5d0d44ee416bb77f4b56e94c8fd?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/d7abc5d0d44ee416bb77f4b56e94c8fd?s=73&d=retro", "created": 1560492731, "last_modified": 1560492731}, "last_reply_by": "dingdayu", "last_touched": 1643279249, "title": "发现自己公司没有注册.dev 域名，如果我买下，能被公司高价回收吗？", "url": "https://www.v2ex.com/t/830858", "created": 1643250618, "deleted": 0, "content": "昨天在看最新出的.day 域名的时候，  \r\n顺便搜了下公司的域名，  \r\nxx.com 和 xx.cn 都有,但是 xx.dev 却没有，  \r\n作为一家上市技术公司，是不是缺觉悟了，  \r\n我把这 dev 域名买下，公司会高价回收吗？", "content_rendered": "<p>昨天在看最新出的.day 域名的时候，<br/>\n顺便搜了下公司的域名，<br/>\n<a href=\"http://xx.com\" rel=\"nofollow\">xx.com</a> 和 <a href=\"http://xx.cn\" rel=\"nofollow\">xx.cn</a> 都有,但是 xx.dev 却没有，<br/>\n作为一家上市技术公司，是不是缺觉悟了，<br/>\n我把这 dev 域名买下，公司会高价回收吗？</p>\n", "last_modified": 1643250618, "replies": 46, "id": 830858}]