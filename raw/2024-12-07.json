[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1727604371", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1727604371", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 64992, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1727604371", "stars": 9156, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 530643, "username": "Karte", "url": "https://www.v2ex.com/u/Karte", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "北京", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/fd11/25aa/530643_mini.png?m=1732256154", "avatar_normal": "https://cdn.v2ex.com/avatar/fd11/25aa/530643_normal.png?m=1732256154", "avatar_large": "https://cdn.v2ex.com/avatar/fd11/25aa/530643_large.png?m=1732256154", "avatar_xlarge": "https://cdn.v2ex.com/avatar/fd11/25aa/530643_xlarge.png?m=1732256154", "created": 1611709674, "last_modified": 1732256154}, "last_reply_by": "leega0", "last_touched": 1733471501, "title": "前端真的可以这么水吗？", "url": "https://www.v2ex.com/t/1095486", "created": 1733460070, "deleted": 0, "content": "如题，OP 在一家小公司。公司里面有几位前端，现在有前端对接蓝牙设备的需求。且通讯格式已经固定。\r\n\r\n在最近他们开发时在百度或者 chatgpt 搜索如何编解码 16 进制，而且和其他前端讨论这个问题。\r\n\r\n然后我就看到了令人震惊的代码，他们把收到的数组数据转成字符串，然后再通过截取字符，通过字符串匹配解码，或者在把这字符通过 parse 转为 实际的十进制\r\n\r\n\r\n最离谱的是，当你问起为什么不用位运算，与或非，数组之类的。他们很有气势的说:前端不学进制转换。\r\n\r\n离谱吧，当看到他们的命名更高血压，都是拼音首字母。不过！还好加了备注。", "content_rendered": "<p>如题，OP 在一家小公司。公司里面有几位前端，现在有前端对接蓝牙设备的需求。且通讯格式已经固定。</p>\n<p>在最近他们开发时在百度或者 chatgpt 搜索如何编解码 16 进制，而且和其他前端讨论这个问题。</p>\n<p>然后我就看到了令人震惊的代码，他们把收到的数组数据转成字符串，然后再通过截取字符，通过字符串匹配解码，或者在把这字符通过 parse 转为 实际的十进制</p>\n<p>最离谱的是，当你问起为什么不用位运算，与或非，数组之类的。他们很有气势的说:前端不学进制转换。</p>\n<p>离谱吧，当看到他们的命名更高血压，都是拼音首字母。不过！还好加了备注。</p>\n", "last_modified": 1733460070, "replies": 119, "id": 1095486}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/1543/843a/395_large.png?m=1466398352", "name": "opensource", "avatar_normal": "https://cdn.v2ex.com/navatar/1543/843a/395_normal.png?m=1466398352", "title": "开源软件", "url": "https://www.v2ex.com/go/opensource", "topics": 545, "footer": "", "header": "", "title_alternative": "Open Source", "avatar_mini": "https://cdn.v2ex.com/navatar/1543/843a/395_mini.png?m=1466398352", "stars": 359, "aliases": [], "root": false, "id": 395, "parent_node_name": "programmer"}, "member": {"id": 626036, "username": "mereith", "url": "https://www.v2ex.com/u/mereith", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/b06e25287ef11e5dadd1d1b330f5a511?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/b06e25287ef11e5dadd1d1b330f5a511?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/b06e25287ef11e5dadd1d1b330f5a511?s=73&d=retro", "created": 1682489155, "last_modified": 1682489155}, "last_reply_by": "punish19", "last_touched": 1733544481, "title": "写开源项目被骂了", "url": "https://www.v2ex.com/t/1095488", "created": 1733460644, "deleted": 0, "content": "如题，不是第一次被骂，有点扎心，给大家看个乐子\r\n\r\nhttps://github.com/Mereithhh/vanblog/issues/472", "content_rendered": "<p>如题，不是第一次被骂，有点扎心，给大家看个乐子</p>\n<p><a href=\"https://github.com/Mereithhh/vanblog/issues/472\" rel=\"nofollow\">https://github.com/Mereithhh/vanblog/issues/472</a></p>\n", "last_modified": 1733460644, "replies": 97, "id": 1095488}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 226165, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 4279, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 624972, "username": "YaNanGe", "url": "https://www.v2ex.com/u/YaNanGe", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/e409/2597/624972_mini.png?m=1730697636", "avatar_normal": "https://cdn.v2ex.com/avatar/e409/2597/624972_normal.png?m=1730697636", "avatar_large": "https://cdn.v2ex.com/avatar/e409/2597/624972_large.png?m=1730697636", "avatar_xlarge": "https://cdn.v2ex.com/avatar/e409/2597/624972_xlarge.png?m=1730697636", "created": 1681959737, "last_modified": 1730697636}, "last_reply_by": "Altairvelvet", "last_touched": 1733521033, "title": "为啥今年汽车保费突然上涨了好多", "url": "https://www.v2ex.com/t/1095495", "created": 1733462558, "deleted": 0, "content": "今天早上销售发的消息 ：\r\n\r\n最新消息\r\n更新目前保险费用:\r\n标配:7000 左右\r\n pro:8000+ \r\nMAX:9600 左右\r\n昨天交付中心保险系数调整，基本上调 2000 ，", "content_rendered": "今天早上销售发的消息 ：<br /><br />最新消息<br />更新目前保险费用:<br />标配:7000 左右<br /> pro:8000+ <br />MAX:9600 左右<br />昨天交付中心保险系数调整，基本上调 2000 ，", "last_modified": 1733462558, "replies": 71, "id": 1095495}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 226165, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 4279, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 254026, "username": "alphardex", "url": "https://www.v2ex.com/u/alphardex", "website": "https://haobinwang-2023.netlify.app/", "twitter": "alphardex007", "psn": "", "github": "alphardex", "btc": "", "location": "", "tagline": "個性捨てたら死んでるのと一緒だよ", "bio": "ISTP-A | 宅 | 前端 | Shader | 日语N2 | 冻鳗 | BTR | MyGO | 原批 | 魂学 | 理想主义者", "avatar_mini": "https://cdn.v2ex.com/avatar/97d2/4647/254026_mini.png?m=1727679981", "avatar_normal": "https://cdn.v2ex.com/avatar/97d2/4647/254026_normal.png?m=1727679981", "avatar_large": "https://cdn.v2ex.com/avatar/97d2/4647/254026_large.png?m=1727679981", "avatar_xlarge": "https://cdn.v2ex.com/avatar/97d2/4647/254026_xlarge.png?m=1727679981", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/97d2/4647/254026_xlarge.png?m=1727679981", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/97d2/4647/254026_xlarge.png?m=1727679981", "created": 1505222426, "last_modified": 1727679981}, "last_reply_by": "PTLin", "last_touched": 1733519797, "title": "有多少人感觉自己并没长大", "url": "https://www.v2ex.com/t/1095520", "created": 1733467110, "deleted": 0, "content": "看到身边的人几乎都结婚生子了，依旧单身的我突然有点感慨\r\n自己尽管生理上年龄很大了（明年 28 ），精神状态却依旧像青少年一样\r\n父母老是说我不够成熟，长得像个小弟弟一样，一点大男子气质都没有\r\n周围的人基本都在谈论房子、车子、孩子等，我却对这些根本就不感兴趣\r\n我最关心的还是番剧、游戏、甚至还有二偶企划、吃谷等\r\n那到底怎么才算长大、成熟呢？你觉得自己算长大了吗？", "content_rendered": "看到身边的人几乎都结婚生子了，依旧单身的我突然有点感慨<br />自己尽管生理上年龄很大了（明年 28 ），精神状态却依旧像青少年一样<br />父母老是说我不够成熟，长得像个小弟弟一样，一点大男子气质都没有<br />周围的人基本都在谈论房子、车子、孩子等，我却对这些根本就不感兴趣<br />我最关心的还是番剧、游戏、甚至还有二偶企划、吃谷等<br />那到底怎么才算长大、成熟呢？你觉得自己算长大了吗？", "last_modified": 1733467110, "replies": 71, "id": 1095520}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/f61d/6947/375_large.png?m=1658910399", "name": "go", "avatar_normal": "https://cdn.v2ex.com/navatar/f61d/6947/375_normal.png?m=1658910399", "title": "Go 编程语言", "url": "https://www.v2ex.com/go/go", "topics": 3133, "footer": "", "header": "Go 是一个开源的编程语言，它能让构造简单、可靠且高效的软件变得容易。", "title_alternative": "The Go Programming Language", "avatar_mini": "https://cdn.v2ex.com/navatar/f61d/6947/375_mini.png?m=1658910399", "stars": 3999, "aliases": [], "root": false, "id": 375, "parent_node_name": "programming"}, "member": {"id": 71762, "username": "assiadamo", "url": "https://www.v2ex.com/u/assiadamo", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/2a654c559425eae4357d1f9f04d824cf?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/2a654c559425eae4357d1f9f04d824cf?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/2a654c559425eae4357d1f9f04d824cf?s=73&d=retro", "created": 1408793725, "last_modified": 1408793725}, "last_reply_by": "yoyolichen", "last_touched": 1733517980, "title": "被 Java 毒害的脑子想在 Go 中实现一个操作，望打醒", "url": "https://www.v2ex.com/t/1095483", "created": 1733459162, "deleted": 0, "content": "以前接触过的一个 Java 项目，实现了一种在我看来很新的做法：\r\n1. 代码生成的协议类，里面自带了一个未实现的 process 方法\r\n```\r\npublic class Echo extend Msg {\r\n\tString msg;\r\n  \tpublic void decode(){}\r\n  \tpublic void encode(){}\r\n  \tpublic void process() throws Exception {\r\n  \t\tthrow new UnsupportedOperationException();\r\n  \t}\r\n}\r\n```\r\n2. 代码生成的协议处理类，格式是这样的\r\n```\r\n@MsgProcess\r\npublic static boolean process(Echo echo) {\r\n\treturn true;\r\n}\r\n```\r\n3. 框架启动的时候，会反射获取到注解`@MsgProcess`的 Metchod 和他的参数，然后用 javaassist 的字节码操作，将协议类`Echo`的`process`方法给<b>替换</b>掉！这样框架层调用协议的`msg.process()`就可以直接执行业务逻辑！\r\n\r\nJava 写了 10 年，一说起框架，自然想到的就是各种设计模式抽象继承与反射之类，当写 Go 的时候，也受到影响，我现在想用 Go 实现类似的操作，实践的效果如下\r\n\r\n1. 代码生成了 Echo 协议类\r\n```\r\npackage proto\r\ntype Echo struct {\r\n\tBaseMsg\r\n\tMsg string\r\n}\r\nfunc (msg *Echo) Decode(src *bytes.Buffer) error {}\r\nfunc (msg *Echo) Encode(dst *bytes.Buffer) error {}\r\nfunc (msg *Echo) Process() {\r\n\tpanic(\"implement me\")\r\n}\r\n```\r\n2. 代码生成了业务逻辑类\r\n```\r\npackage logic\r\nimport proto\r\nfunc ProcessEcho(msg *proto.Echo) {}\r\n```\r\n\r\n3. 使用 ast/parser 将`Echo`的`process`的方法体替换为`ProcessEcho`\r\n```\r\nfunc (msg *Echo) Process() {\r\n\tlogic.ProcessEcho(msg)\r\n}\r\n```\r\n\r\n但重新生成的 Echo 类，有一些问题，首先生成出来的文件，我将其保存为`echo_override.go`放在另一个 package ，相关的 import 都可能有问题，然后`Process`import 了 logic ，而 logic 自然要 import echo ，非常经典的 import cycle 。\r\n\r\n这是第一步遇到的问题，我打算先用 interface 解决看看，为什么不用 func 替换，我觉得好丑啊！各位 Go 大神有没有什么建议？我这种思路，符合 Go 的设计哲学吗？", "content_rendered": "<p>以前接触过的一个 Java 项目，实现了一种在我看来很新的做法：</p>\n<ol>\n<li>代码生成的协议类，里面自带了一个未实现的 process 方法</li>\n</ol>\n<pre><code>public class Echo extend Msg {\n\tString msg;\n  \tpublic void decode(){}\n  \tpublic void encode(){}\n  \tpublic void process() throws Exception {\n  \t\tthrow new UnsupportedOperationException();\n  \t}\n}\n</code></pre>\n<ol>\n<li>代码生成的协议处理类，格式是这样的</li>\n</ol>\n<pre><code>@MsgProcess\npublic static boolean process(Echo echo) {\n\treturn true;\n}\n</code></pre>\n<ol>\n<li>框架启动的时候，会反射获取到注解<code>@MsgProcess</code>的 Metchod 和他的参数，然后用 javaassist 的字节码操作，将协议类<code>Echo</code>的<code>process</code>方法给<b>替换</b>掉！这样框架层调用协议的<code>msg.process()</code>就可以直接执行业务逻辑！</li>\n</ol>\n<p>Java 写了 10 年，一说起框架，自然想到的就是各种设计模式抽象继承与反射之类，当写 Go 的时候，也受到影响，我现在想用 Go 实现类似的操作，实践的效果如下</p>\n<ol>\n<li>代码生成了 Echo 协议类</li>\n</ol>\n<pre><code>package proto\ntype Echo struct {\n\tBaseMsg\n\tMsg string\n}\nfunc (msg *Echo) Decode(src *bytes.Buffer) error {}\nfunc (msg *Echo) Encode(dst *bytes.Buffer) error {}\nfunc (msg *Echo) Process() {\n\tpanic(\"implement me\")\n}\n</code></pre>\n<ol>\n<li>代码生成了业务逻辑类</li>\n</ol>\n<pre><code>package logic\nimport proto\nfunc ProcessEcho(msg *proto.Echo) {}\n</code></pre>\n<ol>\n<li>使用 ast/parser 将<code>Echo</code>的<code>process</code>的方法体替换为<code>ProcessEcho</code></li>\n</ol>\n<pre><code>func (msg *Echo) Process() {\n\tlogic.ProcessEcho(msg)\n}\n</code></pre>\n<p>但重新生成的 Echo 类，有一些问题，首先生成出来的文件，我将其保存为<code>echo_override.go</code>放在另一个 package ，相关的 import 都可能有问题，然后<code>Process</code>import 了 logic ，而 logic 自然要 import echo ，非常经典的 import cycle 。</p>\n<p>这是第一步遇到的问题，我打算先用 interface 解决看看，为什么不用 func 替换，我觉得好丑啊！各位 Go 大神有没有什么建议？我这种思路，符合 Go 的设计哲学吗？</p>\n", "last_modified": 1733459162, "replies": 62, "id": 1095483}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c74d/97b0/16_large.png?m=1727584731", "name": "share", "avatar_normal": "https://cdn.v2ex.com/navatar/c74d/97b0/16_normal.png?m=1727584731", "title": "分享发现", "url": "https://www.v2ex.com/go/share", "topics": 42479, "footer": "", "header": "分享你看到的好玩的，有信息量的，欢迎从这里获取灵感。", "title_alternative": "Share", "avatar_mini": "https://cdn.v2ex.com/navatar/c74d/97b0/16_mini.png?m=1727584731", "stars": 5933, "aliases": [], "root": false, "id": 16, "parent_node_name": "v2ex"}, "member": {"id": 599423, "username": "liulicaixiao", "url": "https://www.v2ex.com/u/liulicaixiao", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/8818/6464/599423_mini.png?m=1732329733", "avatar_normal": "https://cdn.v2ex.com/avatar/8818/6464/599423_normal.png?m=1732329733", "avatar_large": "https://cdn.v2ex.com/avatar/8818/6464/599423_large.png?m=1732329733", "avatar_xlarge": "https://cdn.v2ex.com/avatar/8818/6464/599423_xlarge.png?m=1732329733", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/8818/6464/599423_xlarge.png?m=1732329733", "created": 1666941069, "last_modified": 1732329733}, "last_reply_by": "bmpidev2019", "last_touched": 1733526987, "title": "一觉醒来 claude 被封了", "url": "https://www.v2ex.com/t/1095497", "created": 1733463031, "deleted": 0, "content": "还以为这种事不会发生在我身上，从 claude 刚出来就注册了账号，一直用到昨天，已经有五六个月的 pro 订阅一直很稳定，今天起来发现账号被封了，邮箱里还有一封退款信，国内想用个原生的大模型真不容易", "content_rendered": "还以为这种事不会发生在我身上，从 claude 刚出来就注册了账号，一直用到昨天，已经有五六个月的 pro 订阅一直很稳定，今天起来发现账号被封了，邮箱里还有一封退款信，国内想用个原生的大模型真不容易", "last_modified": 1733463031, "replies": 49, "id": 1095497}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 226165, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 4279, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 343333, "username": "aisles1", "url": "https://www.v2ex.com/u/aisles1", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/778a/1d85/343333_mini.png?m=1556428642", "avatar_normal": "https://cdn.v2ex.com/avatar/778a/1d85/343333_normal.png?m=1556428642", "avatar_large": "https://cdn.v2ex.com/avatar/778a/1d85/343333_large.png?m=1556428642", "created": 1534852738, "last_modified": 1556428642}, "last_reply_by": "potatouu", "last_touched": 1733543559, "title": "怎么应对公共厕所抽烟的畜生？", "url": "https://www.v2ex.com/t/1095576", "created": 1733476271, "deleted": 0, "content": "办公楼厕所总有这种傻逼在厕所抽烟，真是人麻了，有没有什么保命的手段", "content_rendered": "<p>办公楼厕所总有这种傻逼在厕所抽烟，真是人麻了，有没有什么保命的手段</p>\n", "last_modified": 1733476271, "replies": 39, "id": 1095576}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/b789/2fb3/937_large.png?m=1584298330", "name": "zhihu", "avatar_normal": "https://cdn.v2ex.com/navatar/b789/2fb3/937_normal.png?m=1584298330", "title": "知乎", "url": "https://www.v2ex.com/go/zhihu", "topics": 415, "footer": "", "header": "知乎创建于 2010 年，是一个用户产生内容的问答社区", "title_alternative": "Zhihu", "avatar_mini": "https://cdn.v2ex.com/navatar/b789/2fb3/937_mini.png?m=1584298330", "stars": 124, "aliases": [], "root": false, "id": 937, "parent_node_name": "internet"}, "member": {"id": 276489, "username": "sakitamFDD", "url": "https://www.v2ex.com/u/sakitamFDD", "website": "", "twitter": "", "psn": "", "github": "sakitam-fdd", "btc": "beijing", "location": "BeiJing", "tagline": "我执意左转,你亦心如钢铁,在漫漫长旅,每个人都在孤独跋涉.", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/c6de/07d4/276489_mini.png?m=1733460072", "avatar_normal": "https://cdn.v2ex.com/avatar/c6de/07d4/276489_normal.png?m=1733460072", "avatar_large": "https://cdn.v2ex.com/avatar/c6de/07d4/276489_large.png?m=1733460072", "created": 1514018783, "last_modified": 1733460072}, "last_reply_by": "euclidhuang", "last_touched": 1733523337, "title": "知乎从今天开始禁止手机网页端浏览文章详情", "url": "https://www.v2ex.com/t/1095487", "created": 1733460318, "deleted": 0, "content": "知乎这是彻底禁止手机网页端浏览了啊，从今天开始，打开文章详情就开始弹 '此网站正在尝试打开另一款应用'\r\n点击不允许就跳回上一页面了\r\n\r\n![IMG_088DA216FDB7-1.jpeg]( https://s2.loli.net/2024/12/06/MrtpHS4IyEqBiG9.jpg)", "content_rendered": "<p>知乎这是彻底禁止手机网页端浏览了啊，从今天开始，打开文章详情就开始弹 '此网站正在尝试打开另一款应用'\n点击不允许就跳回上一页面了</p>\n<p><img alt=\"IMG_088DA216FDB7-1.jpeg\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://s2.loli.net/2024/12/06/MrtpHS4IyEqBiG9.jpg\"/></p>\n", "last_modified": 1733460318, "replies": 35, "id": 1095487}]