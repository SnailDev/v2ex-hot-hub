[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 5020, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785", "stars": 1250, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 350395, "username": "ldlywt", "url": "https://www.v2ex.com/u/ldlywt", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/b526/fb4a/350395_mini.png?m=1542185154", "avatar_normal": "https://cdn.v2ex.com/avatar/b526/fb4a/350395_normal.png?m=1542185154", "avatar_large": "https://cdn.v2ex.com/avatar/b526/fb4a/350395_large.png?m=1542185154", "created": 1537260791, "last_modified": 1542185154}, "last_reply_by": "redtech", "last_touched": 1698509655, "title": "结婚几年，已经没有感情了，有没有年龄大一点的过来人聊聊怎么熬下去的。", "url": "https://www.v2ex.com/t/986200", "created": 1698460781, "deleted": 0, "content": "结婚 5 年，当初年少不懂事，没怎么谈过恋爱，一年后结婚的。其实在那一年前面几个月很甜蜜，但是后面经常吵架，一个星期都能吵一次，一吵架半夜不能睡觉。\n\n后面怀了孩子，还是吵架，一言不合就要自杀跳楼，我怕真的出事，内心也是喜欢的，就结婚了。\n\n现在第五个年头，两个人的爱好，饮食习惯，生活方式其实一直都差距很大。\n\n平常下完班，近 8 点到家，我吃饭洗碗，她在边上玩三国杀，娃有时自己在玩，有时在看宝宝巴士。\n吃完饭洗完碗有时扫一下地，然后给娃洗澡，9 点多。\n\n等娃睡了 2 个人也没太多的交流了，她玩三国杀刷抖音，我有时玩会游戏，有事看会视频，她玩游戏会一直喊我做事，隔几分钟倒水，隔几分钟拿个纸巾，隔几分钟洗点水果之类的，我有时在和朋友开黑，有时很烦，有时说你自己拿一下，她就发飙了。\n\n平常家里有什么事情，她提出来，我稍微一提不同的意见，她就炸了，说我什么都不懂，还来反对，巴拉巴拉能说很久。\n\n还有现在差不多是无性婚姻了，好好跟她聊这个事情，她就开始一哭二闹，说她这么累了，还要满足我的兽欲。\n\n现在娃白天上幼儿园，下午阿姨 5 点多来做饭搞卫生，她也没上班，中午她点外卖，也没做什么家务。\n\n事业遥遥无期，家庭不顺，离婚又担心小孩的成长。\n每天情绪低落，啥都不想做，回到家话也不想说，说话又怕吵架。现在感觉对所有的事情都失去了兴趣，游戏也不想玩了，看剧也没什么意思，旅游也不想去。\n\n以后 70 岁才退休，但是最近的新闻，这么有权，这\n么厉害的医生没到 70 就没了。也不知道生活有什么意义，阶级已经定好，靠上班基本不能改变。\n\n有没有过来人，我这是不是抑郁症前期？\n\n有没有过来人，这种婚姻该怎么继续下去？\n\n如果可以重开，我再也不会结婚买房生小孩了。", "content_rendered": "结婚 5 年，当初年少不懂事，没怎么谈过恋爱，一年后结婚的。其实在那一年前面几个月很甜蜜，但是后面经常吵架，一个星期都能吵一次，一吵架半夜不能睡觉。<br /><br />后面怀了孩子，还是吵架，一言不合就要自杀跳楼，我怕真的出事，内心也是喜欢的，就结婚了。<br /><br />现在第五个年头，两个人的爱好，饮食习惯，生活方式其实一直都差距很大。<br /><br />平常下完班，近 8 点到家，我吃饭洗碗，她在边上玩三国杀，娃有时自己在玩，有时在看宝宝巴士。<br />吃完饭洗完碗有时扫一下地，然后给娃洗澡，9 点多。<br /><br />等娃睡了 2 个人也没太多的交流了，她玩三国杀刷抖音，我有时玩会游戏，有事看会视频，她玩游戏会一直喊我做事，隔几分钟倒水，隔几分钟拿个纸巾，隔几分钟洗点水果之类的，我有时在和朋友开黑，有时很烦，有时说你自己拿一下，她就发飙了。<br /><br />平常家里有什么事情，她提出来，我稍微一提不同的意见，她就炸了，说我什么都不懂，还来反对，巴拉巴拉能说很久。<br /><br />还有现在差不多是无性婚姻了，好好跟她聊这个事情，她就开始一哭二闹，说她这么累了，还要满足我的兽欲。<br /><br />现在娃白天上幼儿园，下午阿姨 5 点多来做饭搞卫生，她也没上班，中午她点外卖，也没做什么家务。<br /><br />事业遥遥无期，家庭不顺，离婚又担心小孩的成长。<br />每天情绪低落，啥都不想做，回到家话也不想说，说话又怕吵架。现在感觉对所有的事情都失去了兴趣，游戏也不想玩了，看剧也没什么意思，旅游也不想去。<br /><br />以后 70 岁才退休，但是最近的新闻，这么有权，这<br />么厉害的医生没到 70 就没了。也不知道生活有什么意义，阶级已经定好，靠上班基本不能改变。<br /><br />有没有过来人，我这是不是抑郁症前期？<br /><br />有没有过来人，这种婚姻该怎么继续下去？<br /><br />如果可以重开，我再也不会结婚买房生小孩了。", "last_modified": 1698465801, "replies": 153, "id": 986200}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 5020, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785", "stars": 1250, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 345358, "username": "hero158", "url": "https://www.v2ex.com/u/hero158", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/8265aa3d5fbfdc10f2edc2cb4684d758?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/8265aa3d5fbfdc10f2edc2cb4684d758?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/8265aa3d5fbfdc10f2edc2cb4684d758?s=73&d=retro", "created": 1535527887, "last_modified": 1535527887}, "last_reply_by": "hqzx21", "last_touched": 1698512930, "title": "36 岁一事无成，是不是非常失败", "url": "https://www.v2ex.com/t/986206", "created": 1698462312, "deleted": 0, "content": "目前失业，还负债 10w", "content_rendered": "目前失业，还负债 10w", "last_modified": 1698462312, "replies": 92, "id": 986206}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/d67d/8ab4/39_large.png?m=1651385965", "name": "android", "avatar_normal": "https://cdn.v2ex.com/navatar/d67d/8ab4/39_normal.png?m=1651385965", "title": "Android", "url": "https://www.v2ex.com/go/android", "topics": 10746, "footer": "", "header": "来自 <a href=\"/go/google\">Google</a> 的开放源代码智能手机平台。", "title_alternative": "Android", "avatar_mini": "https://cdn.v2ex.com/navatar/d67d/8ab4/39_mini.png?m=1651385965", "stars": 5574, "aliases": [], "root": false, "id": 39, "parent_node_name": "hardware"}, "member": {"id": 587444, "username": "thiiadoewjwe", "url": "https://www.v2ex.com/u/thiiadoewjwe", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/d48a/466e/587444_mini.png?m=1665058635", "avatar_normal": "https://cdn.v2ex.com/avatar/d48a/466e/587444_normal.png?m=1665058635", "avatar_large": "https://cdn.v2ex.com/avatar/d48a/466e/587444_large.png?m=1665058635", "avatar_xlarge": "https://cdn.v2ex.com/avatar/d48a/466e/587444_xlarge.png?m=1665058635", "created": 1657342166, "last_modified": 1665058635}, "last_reply_by": "kingjpa", "last_touched": 1698508395, "title": "双十一买手机求购推荐&大家分享自己使用体验", "url": "https://www.v2ex.com/t/986198", "created": 1698460440, "deleted": 0, "content": "双十一想买个手机，按优先级需求是这样的\r\n\r\n1.系统流畅稳定,不杀后台\r\n\r\n2.续航\r\n之前用的苹果 XS 和 12 ，让我觉得续航还是很重要\r\n\r\n3.拍照\r\n\r\n另外自己不打游戏，预算没要求\r\n\r\n目前看的有\r\n- 一加 ace2pro  处理器好\r\n- 荣耀 X50      续航长\r\n- 红米 12turbo  看 V 站大家评价都不错\r\n- 等等华为发布 nova12\r\n\r\n各位老哥有其他推荐的不，或者分享下自己最新买的手机使用体验", "content_rendered": "<p>双十一想买个手机，按优先级需求是这样的</p>\n<p>1.系统流畅稳定,不杀后台</p>\n<p>2.续航\n之前用的苹果 XS 和 12 ，让我觉得续航还是很重要</p>\n<p>3.拍照</p>\n<p>另外自己不打游戏，预算没要求</p>\n<p>目前看的有</p>\n<ul>\n<li>一加 ace2pro  处理器好</li>\n<li>荣耀 X50      续航长</li>\n<li>红米 12turbo  看 V 站大家评价都不错</li>\n<li>等等华为发布 nova12</li>\n</ul>\n<p>各位老哥有其他推荐的不，或者分享下自己最新买的手机使用体验</p>\n", "last_modified": 1698460440, "replies": 52, "id": 986198}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1692078075", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1692078075", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 59672, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1692078075", "stars": 8691, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 475074, "username": "gridsah", "url": "https://www.v2ex.com/u/gridsah", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/55c27fecd253324ff52056ebd26cc057?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/55c27fecd253324ff52056ebd26cc057?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/55c27fecd253324ff52056ebd26cc057?s=73&d=retro", "created": 1583634919, "last_modified": 1667397840}, "last_reply_by": "gridsah", "last_touched": 1698510240, "title": "从最近发的一个工单来吐槽一下群晖的技术支持和 DSM Raid", "url": "https://www.v2ex.com/t/986195", "created": 1698459176, "deleted": 0, "content": "以下内容纯主观吐槽，各位看个乐即可，也给双 11 准备买群晖的朋友提供一点 FS 方面的参考。\r\n\r\n事情起因是，我把自用的存储从 zfs/ext4 迁移到了 btrfs: Gen10 从 zfs 迁到了 btrfs raid10 ，白群晖从 ext4 切到了 btrfs 。\r\n\r\n然后我就开始读 btrfs 的文档。(btrfs 和 zfs 的区别还挺大，这点等我下次摸鱼的时候再开帖子唠\r\n\r\n我要吐槽的是:\r\n\r\na. 群晖在销售页面关于 btrfs 如何保护用户数据吹得有点过。zfs/btrfs 实现 self-healing 功能的前提是，数据有热冗余，单凭 checksum 只能检测出 data corruption 但无法修复。而群晖的销售给用户的印象是，他们有黑科技能恢复损坏的数据，但实际上他们只是尽量让 mdadm 和 btrfs 不出问题，至于用户的数据，坏了就坏了，修不了\r\n\r\nb. 群晖的技术支持的客服，不知道是水平不行，还是警惕心太强，回复不但笼统，而且敷衍，甚至有时是错的。这个工单中，可能认为我是他们竞争对手的人，来套他们的方案...... 但我只是想知道他们如何保护我的数据。以上情况也不是第一次出现在我提的工单里了\r\n\r\n下面贴一下工单对话，主题是 \"关于存储池'数据清理'功能可以修复 checksum 异常的数据的疑惑\":\r\n\r\n```\r\n看了一下我的设备所使用的存储空间的结构，先用 mdadm 创建 raid1 ，再将映射为 md2 的设备作为 pv 交由 lvm 管理，lvm 在 pv 上创建 vg ，进而创建 lv ，最后把 btrfs 放在 lv 上。\r\n\r\n据我所知，btrfs 会记录每个 extent 的 checksum 值用于验证这个 extent 中的数据是否完整。而修复 checksum 有异常的数据需要额外的，具有正常的 checksum 的另一份数据。\r\n\r\n比如在 Linux 上 btrfs 默认存储两份 metadata 用于在 metadata 损坏时修复这些损坏的 metadata ，而 data 则只存了一份，所以在这种情况下，如果 data 的 checksum 出现异常则无法修复。\r\n\r\n而群晖 btrfs 文件系统中也使用了一样的配置，即，2 份 metadata 和 1 份 data 。所以我的理解是数据清理这个功能只能修复 btrfs 中的 metadata ，而不能修复 data 。是这样的吗？\r\n\r\n如果不是的话，数据清理的行为和结果是什么样的？\r\n```\r\n\r\n```\r\n您对于数据清理中 FS scrubbing 这个部分理解没有问题，但是执行数据清理这个操作会包含两个操作，FS scrubbing 和 RAID scrubbing 。\r\n\r\n理论上如果 Btrfs 不开 COW 的话其实并不会知道某个 data 有损坏，只有读到这个文件才会知道文件损坏了。\r\n\r\n而当文件系统在进行 FS scrubbing 的时候如果查到某个文档 data 真的坏了，那就会去做 RAID scrubbing 然后用 RAID parity 来修修看（不管有没有开 COW ）。\r\n```\r\n\r\n```\r\n数据清理如果包含 btrfs scrub & mdadm scrub 两个操作的话，它们的执行逻辑是怎样的？\r\n先 btrfs scrub ，再 mdadm scrub ，这两个步骤一定会按这样的顺序发生？\r\n或者像你说的那样，btrfs scrub 遇到 data checksum 不一致时才发生 mdadm scrub ？\r\n\r\n我注意到，对于 mdadm scrub 来说:\r\n1. mdadm raid5/6 在遇到数据不一致时会假定 checksum 错误，然后根据(尽管可能已经损坏的)已有数据重新计算 checksum\r\n2. mdadm raid1 遇到数据不一致时会假定第一个硬盘的数据是正确的，然后覆写到其他的硬盘中\r\n如果发生 data checksum 不一致的情况，那么 mdadm scrub 为什么可以修复 btrfs 中的数据？\r\n\r\n按照我的理解来看，mdadm scrub 所更新的数据只是用于构成 mdadm 的数据。mdadm 暴露给 btrfs 的，btrfs 可以看到的数据并没有变化，所以我认为 mdadm scrub 无法修复 btrfs 中 data checksum 不一致的问题。这个推断的过程哪里有问题？\r\n```\r\n\r\n```\r\n抱歉让您久等了，目前这边有与相关工程师讨论，回复如下：\r\n\r\n目前 DSM 在执行数据清理的时候是会先执行 FS scrubbing 再执行 RAID scrubbing ，但由于您当前的许多问题涉及到 Btrfs 的底层原理及行为，由于 Btrfs 是 Oracle 所研发，因此对于此文件系统的具体原理与技术规范的准确解释，我们建议您可以直接查阅或咨询 oracle 官方。\r\n\r\n参考： https://docs.oracle.com/en/operating-systems/oracle-linux/8/fsadmin/fsadmin-ManagingtheBtrfsFileSystem.html#btrfs-setup\r\n```\r\n\r\n```\r\n我不关心 btrfs 的技术细节，我想问的是 DSM 如何保证数据被修复，或者向用户报告数据无法被修复。\r\n\r\nbtrfs 存储 2 份 metadata 和 1 份 data ，那么 data 损坏时，DSM 所用的 raid(mdadm)又不能保证 data 可以被修复。那么，在这种情况下，一旦数据无法被修复，DSM 会向用户报告拥有这部分 data 的文件损坏，需要用户手动介入？\r\n```\r\n\r\n```\r\n首先，DSM 本身、Btrfs 文件系统又或是带有冗余功能的 RAID ，都不能完全保证在原始数据错误的情况下数据的完整性。\r\n\r\n一般情况下如果数据在文件系统中出现错误，则大概率就已经发生文件系统错误，而文件系统检查都是以修好文件系统本身的结构为主，损坏的文件本身很有可能还是坏的。\r\n\r\n因此若您的数据十分重要，Synology 始终建议您备份多个数据副本到不同的地方，以保证数据安全。\r\n\r\n参考：如何备份 Synology NAS\r\n```\r\n\r\n关于这句 \"首先，DSM 本身、Btrfs 文件系统又或是带有冗余功能的 RAID ，都不能完全保证在原始数据错误的情况下数据的完整性。\" 本身就不对。\r\n\r\n对于 Btrfs raid1/10 以及不稳定的 btrfs raid5/6 ，又或者是 zfs mirror/raidz 这种有 self-healing 的 fs 来说，在一份 data 损坏的情况下都可以根据 fs 内部的热冗余或 raid 中的奇偶校验码来修复损坏的那份数据。只有当 data 损坏且没有热冗余的情况下 fs 才会报告 data corruption 需要用户介入。\r\n\r\n(注意，目前只有 btrfs/zfs 有 self-healing 。mdadm 没有，硬件 raid 也没有。\r\n\r\n威联通用的是纯 zfs ，使用 mirror/raidz 的情况下可以触发 self-healing 修复 corrupted data ；或者像我一样自建存储，使用 btrfs raid10 也能让 self-healing 生效。\r\n\r\n总之，准备购买群晖的朋友要注意，就我目前阅读的结论来看，群晖，不论采用什么方案都无法保证数据完整性，他们只能尽量保证 DSM 的运行不出问题；就我发了六七个工单的体验来看，对于知识不够丰富的个人用户来说，群晖的技术支持约等于 0 ，对于有服务器运维经验的用户来说，客服的回复多数时候有误导性。", "content_rendered": "<p>以下内容纯主观吐槽，各位看个乐即可，也给双 11 准备买群晖的朋友提供一点 FS 方面的参考。</p>\n<p>事情起因是，我把自用的存储从 zfs/ext4 迁移到了 btrfs: Gen10 从 zfs 迁到了 btrfs raid10 ，白群晖从 ext4 切到了 btrfs 。</p>\n<p>然后我就开始读 btrfs 的文档。(btrfs 和 zfs 的区别还挺大，这点等我下次摸鱼的时候再开帖子唠</p>\n<p>我要吐槽的是:</p>\n<p>a. 群晖在销售页面关于 btrfs 如何保护用户数据吹得有点过。zfs/btrfs 实现 self-healing 功能的前提是，数据有热冗余，单凭 checksum 只能检测出 data corruption 但无法修复。而群晖的销售给用户的印象是，他们有黑科技能恢复损坏的数据，但实际上他们只是尽量让 mdadm 和 btrfs 不出问题，至于用户的数据，坏了就坏了，修不了</p>\n<p>b. 群晖的技术支持的客服，不知道是水平不行，还是警惕心太强，回复不但笼统，而且敷衍，甚至有时是错的。这个工单中，可能认为我是他们竞争对手的人，来套他们的方案...... 但我只是想知道他们如何保护我的数据。以上情况也不是第一次出现在我提的工单里了</p>\n<p>下面贴一下工单对话，主题是 \"关于存储池'数据清理'功能可以修复 checksum 异常的数据的疑惑\":</p>\n<pre><code>看了一下我的设备所使用的存储空间的结构，先用 mdadm 创建 raid1 ，再将映射为 md2 的设备作为 pv 交由 lvm 管理，lvm 在 pv 上创建 vg ，进而创建 lv ，最后把 btrfs 放在 lv 上。\n\n据我所知，btrfs 会记录每个 extent 的 checksum 值用于验证这个 extent 中的数据是否完整。而修复 checksum 有异常的数据需要额外的，具有正常的 checksum 的另一份数据。\n\n比如在 Linux 上 btrfs 默认存储两份 metadata 用于在 metadata 损坏时修复这些损坏的 metadata ，而 data 则只存了一份，所以在这种情况下，如果 data 的 checksum 出现异常则无法修复。\n\n而群晖 btrfs 文件系统中也使用了一样的配置，即，2 份 metadata 和 1 份 data 。所以我的理解是数据清理这个功能只能修复 btrfs 中的 metadata ，而不能修复 data 。是这样的吗？\n\n如果不是的话，数据清理的行为和结果是什么样的？\n</code></pre>\n<pre><code>您对于数据清理中 FS scrubbing 这个部分理解没有问题，但是执行数据清理这个操作会包含两个操作，FS scrubbing 和 RAID scrubbing 。\n\n理论上如果 Btrfs 不开 COW 的话其实并不会知道某个 data 有损坏，只有读到这个文件才会知道文件损坏了。\n\n而当文件系统在进行 FS scrubbing 的时候如果查到某个文档 data 真的坏了，那就会去做 RAID scrubbing 然后用 RAID parity 来修修看（不管有没有开 COW ）。\n</code></pre>\n<pre><code>数据清理如果包含 btrfs scrub &amp; mdadm scrub 两个操作的话，它们的执行逻辑是怎样的？\n先 btrfs scrub ，再 mdadm scrub ，这两个步骤一定会按这样的顺序发生？\n或者像你说的那样，btrfs scrub 遇到 data checksum 不一致时才发生 mdadm scrub ？\n\n我注意到，对于 mdadm scrub 来说:\n1. mdadm raid5/6 在遇到数据不一致时会假定 checksum 错误，然后根据(尽管可能已经损坏的)已有数据重新计算 checksum\n2. mdadm raid1 遇到数据不一致时会假定第一个硬盘的数据是正确的，然后覆写到其他的硬盘中\n如果发生 data checksum 不一致的情况，那么 mdadm scrub 为什么可以修复 btrfs 中的数据？\n\n按照我的理解来看，mdadm scrub 所更新的数据只是用于构成 mdadm 的数据。mdadm 暴露给 btrfs 的，btrfs 可以看到的数据并没有变化，所以我认为 mdadm scrub 无法修复 btrfs 中 data checksum 不一致的问题。这个推断的过程哪里有问题？\n</code></pre>\n<pre><code>抱歉让您久等了，目前这边有与相关工程师讨论，回复如下：\n\n目前 DSM 在执行数据清理的时候是会先执行 FS scrubbing 再执行 RAID scrubbing ，但由于您当前的许多问题涉及到 Btrfs 的底层原理及行为，由于 Btrfs 是 Oracle 所研发，因此对于此文件系统的具体原理与技术规范的准确解释，我们建议您可以直接查阅或咨询 oracle 官方。\n\n参考： https://docs.oracle.com/en/operating-systems/oracle-linux/8/fsadmin/fsadmin-ManagingtheBtrfsFileSystem.html#btrfs-setup\n</code></pre>\n<pre><code>我不关心 btrfs 的技术细节，我想问的是 DSM 如何保证数据被修复，或者向用户报告数据无法被修复。\n\nbtrfs 存储 2 份 metadata 和 1 份 data ，那么 data 损坏时，DSM 所用的 raid(mdadm)又不能保证 data 可以被修复。那么，在这种情况下，一旦数据无法被修复，DSM 会向用户报告拥有这部分 data 的文件损坏，需要用户手动介入？\n</code></pre>\n<pre><code>首先，DSM 本身、Btrfs 文件系统又或是带有冗余功能的 RAID ，都不能完全保证在原始数据错误的情况下数据的完整性。\n\n一般情况下如果数据在文件系统中出现错误，则大概率就已经发生文件系统错误，而文件系统检查都是以修好文件系统本身的结构为主，损坏的文件本身很有可能还是坏的。\n\n因此若您的数据十分重要，Synology 始终建议您备份多个数据副本到不同的地方，以保证数据安全。\n\n参考：如何备份 Synology NAS\n</code></pre>\n<p>关于这句 \"首先，DSM 本身、Btrfs 文件系统又或是带有冗余功能的 RAID ，都不能完全保证在原始数据错误的情况下数据的完整性。\" 本身就不对。</p>\n<p>对于 Btrfs raid1/10 以及不稳定的 btrfs raid5/6 ，又或者是 zfs mirror/raidz 这种有 self-healing 的 fs 来说，在一份 data 损坏的情况下都可以根据 fs 内部的热冗余或 raid 中的奇偶校验码来修复损坏的那份数据。只有当 data 损坏且没有热冗余的情况下 fs 才会报告 data corruption 需要用户介入。</p>\n<p>(注意，目前只有 btrfs/zfs 有 self-healing 。mdadm 没有，硬件 raid 也没有。</p>\n<p>威联通用的是纯 zfs ，使用 mirror/raidz 的情况下可以触发 self-healing 修复 corrupted data ；或者像我一样自建存储，使用 btrfs raid10 也能让 self-healing 生效。</p>\n<p>总之，准备购买群晖的朋友要注意，就我目前阅读的结论来看，群晖，不论采用什么方案都无法保证数据完整性，他们只能尽量保证 DSM 的运行不出问题；就我发了六七个工单的体验来看，对于知识不够丰富的个人用户来说，群晖的技术支持约等于 0 ，对于有服务器运维经验的用户来说，客服的回复多数时候有误导性。</p>\n", "last_modified": 1698459246, "replies": 51, "id": 986195}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/53e3/a716/693_large.png?m=1539037011", "name": "mechanical", "avatar_normal": "https://cdn.v2ex.com/navatar/53e3/a716/693_normal.png?m=1539037011", "title": "机械键盘", "url": "https://www.v2ex.com/go/mechanical", "topics": 961, "footer": "", "header": "机械键盘发烧友的讨论节点", "title_alternative": "Mechanical Keyboard", "avatar_mini": "https://cdn.v2ex.com/navatar/53e3/a716/693_mini.png?m=1539037011", "stars": 728, "aliases": [], "root": false, "id": 693, "parent_node_name": "hardware"}, "member": {"id": 49468, "username": "davidlau", "url": "https://www.v2ex.com/u/davidlau", "website": "", "twitter": "", "psn": "", "github": "liuslevis", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/6e66/8e75/49468_mini.png?m=1401861758", "avatar_normal": "https://cdn.v2ex.com/avatar/6e66/8e75/49468_normal.png?m=1401861758", "avatar_large": "https://cdn.v2ex.com/avatar/6e66/8e75/49468_large.png?m=1401861758", "created": 1384187698, "last_modified": 1401861758}, "last_reply_by": "purrgil", "last_touched": 1698487677, "title": "HHKB 用了 10 年，手感变差怎么办？", "url": "https://www.v2ex.com/t/986182", "created": 1698454396, "deleted": 0, "content": "", "content_rendered": "", "last_modified": 1698454396, "replies": 32, "id": 986182}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/4299/8cf3/457_large.png?m=1583583838", "name": "gamedev", "avatar_normal": "https://cdn.v2ex.com/navatar/4299/8cf3/457_normal.png?m=1583583838", "title": "游戏开发", "url": "https://www.v2ex.com/go/gamedev", "topics": 347, "footer": "", "header": "无论你正在制作自己的 indie game，或是在大公司参与 AAA 大作，这里是大家讨论技术和理念的地方。", "title_alternative": "Game Development", "avatar_mini": "https://cdn.v2ex.com/navatar/4299/8cf3/457_mini.png?m=1583583838", "stars": 610, "aliases": [], "root": false, "id": 457, "parent_node_name": "programmer"}, "member": {"id": 531644, "username": "lisyNew", "url": "https://www.v2ex.com/u/lisyNew", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/a041/833c/531644_mini.png?m=1685679530", "avatar_normal": "https://cdn.v2ex.com/avatar/a041/833c/531644_normal.png?m=1685679530", "avatar_large": "https://cdn.v2ex.com/avatar/a041/833c/531644_large.png?m=1685679530", "avatar_xlarge": "https://cdn.v2ex.com/avatar/a041/833c/531644_xlarge.png?m=1685679530", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/a041/833c/531644_xlarge.png?m=1685679530", "created": 1612241849, "last_modified": 1685679530}, "last_reply_by": "chenyu0532", "last_touched": 1698508102, "title": "站在 2023 年末的节点来看，开发游戏使用游戏引擎，在国内，用 godot 还是用 Cocos？", "url": "https://www.v2ex.com/t/986188", "created": 1698457087, "deleted": 0, "content": "主要考虑生态。另外不能被游戏引擎提供商打工。", "content_rendered": "<p>主要考虑生态。另外不能被游戏引擎提供商打工。</p>\n", "last_modified": 1698465820, "replies": 32, "id": 986188}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 5020, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785", "stars": 1250, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 473813, "username": "sunny2017", "url": "https://www.v2ex.com/u/sunny2017", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/d578/2bfa/473813_mini.png?m=1685255944", "avatar_normal": "https://cdn.v2ex.com/avatar/d578/2bfa/473813_normal.png?m=1685255944", "avatar_large": "https://cdn.v2ex.com/avatar/d578/2bfa/473813_large.png?m=1685255944", "avatar_xlarge": "https://cdn.v2ex.com/avatar/d578/2bfa/473813_xlarge.png?m=1685255944", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/d578/2bfa/473813_xlarge.png?m=1685255944", "created": 1583216457, "last_modified": 1685255944}, "last_reply_by": "Authorization", "last_touched": 1698501859, "title": "求推荐舒服的被套", "url": "https://www.v2ex.com/t/986192", "created": 1698458143, "deleted": 0, "content": "有没有舒服的被套推荐，之前我妈实体店(已倒闭)买的，已经破了只能扔，现在网上买的都不舒服，导致睡眠质量下降，偶尔还失眠。我个人夏天喜欢抱着被子睡，被套不够柔软就整个身子都不舒服</br>\r\n    各位有睡得舒服的被套推荐一下吗？", "content_rendered": "<p>有没有舒服的被套推荐，之前我妈实体店(已倒闭)买的，已经破了只能扔，现在网上买的都不舒服，导致睡眠质量下降，偶尔还失眠。我个人夏天喜欢抱着被子睡，被套不够柔软就整个身子都不舒服<br/>\n各位有睡得舒服的被套推荐一下吗？</p>\n", "last_modified": 1698458143, "replies": 29, "id": 986192}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 212400, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 4011, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 510501, "username": "besscroft", "url": "https://www.v2ex.com/u/besscroft", "website": "https://besscroft.com", "twitter": "", "psn": "", "github": "besscroft", "btc": "", "location": "", "tagline": "心即理 致良知 知行合一", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/0998/8853/510501_mini.png?m=1689155712", "avatar_normal": "https://cdn.v2ex.com/avatar/0998/8853/510501_normal.png?m=1689155712", "avatar_large": "https://cdn.v2ex.com/avatar/0998/8853/510501_large.png?m=1689155712", "avatar_xlarge": "https://cdn.v2ex.com/avatar/0998/8853/510501_xlarge.png?m=1689155712", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/0998/8853/510501_xlarge.png?m=1689155712", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/0998/8853/510501_xlarge.png?m=1689155712", "created": 1601354419, "last_modified": 1689155712}, "last_reply_by": "Admstor", "last_touched": 1698510346, "title": "大家是怎么规划父母的医保的？", "url": "https://www.v2ex.com/t/986227", "created": 1698470649, "deleted": 0, "content": "我父母目前医疗保险的配置是这样的：\r\n\r\n- 城乡居民基本医疗保险 每年 380 * 2\r\n- 平安的商业保险，每年 2 个人加起来 2w+\r\n\r\n我总担心商业保险靠不住，想缩减一些预算，换成职工医疗保险。因为我觉得职工医疗保险毕竟是国家的，靠谱一点，而且交满后能办理退休（男性 30 年，女性 25 年，当前标准每年 4224 元）。所以我打算给他们换成如下搭配：\r\n\r\n- 职工医疗保险 每年 4224 * 2 （走企业或者灵活就业都可）\r\n- 商业保险仅作为对于职工医保的一个补充，哪怕减半，省下来的钱也够交职工医保了。\r\n\r\n父母的商业保险单我准备下次回家好好研究下，把能够作为职工医保补充的留下，其它的退掉。毕竟现在钱真的不好挣，保险也是一笔消费。但是不交医保也不行，人老了有口饭吃就饿不死，但是没钱看病可能会把整个家庭拖垮。我也只是个普通人，目前也是失业状态，只能说尽量把可能要花大钱的负担减到最小。我最担心父母将来生病了，我没本事拿出钱来给他们看病，所以医保这块我觉得还是得重视一下，把钱花在刀刃上。最近也去政务中心问明白了医保的一些政策，像我这 20 多的年纪职工医保 + 支付宝 200 块左右的长期医疗我觉得就够用了，但是年纪大的感觉还是需要一点补充医疗保险的。\r\n\r\n不知道各位对自己和家人的医保是如何配置的，欢迎交流下，商业保险这一块没过多的了解过。", "content_rendered": "<p>我父母目前医疗保险的配置是这样的：</p>\n<ul>\n<li>城乡居民基本医疗保险 每年 380 * 2</li>\n<li>平安的商业保险，每年 2 个人加起来 2w+</li>\n</ul>\n<p>我总担心商业保险靠不住，想缩减一些预算，换成职工医疗保险。因为我觉得职工医疗保险毕竟是国家的，靠谱一点，而且交满后能办理退休（男性 30 年，女性 25 年，当前标准每年 4224 元）。所以我打算给他们换成如下搭配：</p>\n<ul>\n<li>职工医疗保险 每年 4224 * 2 （走企业或者灵活就业都可）</li>\n<li>商业保险仅作为对于职工医保的一个补充，哪怕减半，省下来的钱也够交职工医保了。</li>\n</ul>\n<p>父母的商业保险单我准备下次回家好好研究下，把能够作为职工医保补充的留下，其它的退掉。毕竟现在钱真的不好挣，保险也是一笔消费。但是不交医保也不行，人老了有口饭吃就饿不死，但是没钱看病可能会把整个家庭拖垮。我也只是个普通人，目前也是失业状态，只能说尽量把可能要花大钱的负担减到最小。我最担心父母将来生病了，我没本事拿出钱来给他们看病，所以医保这块我觉得还是得重视一下，把钱花在刀刃上。最近也去政务中心问明白了医保的一些政策，像我这 20 多的年纪职工医保 + 支付宝 200 块左右的长期医疗我觉得就够用了，但是年纪大的感觉还是需要一点补充医疗保险的。</p>\n<p>不知道各位对自己和家人的医保是如何配置的，欢迎交流下，商业保险这一块没过多的了解过。</p>\n", "last_modified": 1698470649, "replies": 29, "id": 986227}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 212400, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 4011, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 655834, "username": "GREYTONE", "url": "https://www.v2ex.com/u/GREYTONE", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/e79f365f00fb4825862e0aae4591c570?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/e79f365f00fb4825862e0aae4591c570?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/e79f365f00fb4825862e0aae4591c570?s=73&d=retro", "created": 1697991003, "last_modified": 1697991003}, "last_reply_by": "yogamaga", "last_touched": 1698506973, "title": "V 友们，想问一下大家密码都是明文放在电脑上吗？还是用加密文件保存", "url": "https://www.v2ex.com/t/986217", "created": 1698465661, "deleted": 0, "content": "", "content_rendered": "", "last_modified": 1698465661, "replies": 28, "id": 986217}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 212400, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 4011, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 655706, "username": "anything66", "url": "https://www.v2ex.com/u/anything66", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "follow yr heart", "avatar_mini": "https://cdn.v2ex.com/gravatar/2e61d4d6d7132598001a02f91b7d83f8?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/2e61d4d6d7132598001a02f91b7d83f8?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/2e61d4d6d7132598001a02f91b7d83f8?s=73&d=retro", "created": 1697871225, "last_modified": 1697871225}, "last_reply_by": "realpg", "last_touched": 1698503963, "title": "老人想把农村的房子卖了 再买市里的房子 靠谱吗", "url": "https://www.v2ex.com/t/986266", "created": 1698482972, "deleted": 0, "content": "老爸想去市里住，村里的留在老家的人都喜欢搬到市里去住了 他们买了市里的房子…他也想卖了农村的房子自家宅基地去市里买一套，自家的房子有几百平吧，两层，他一个人住了好几年 我们都在外面 很少回去…老爸他一直守着这个房子 叫他来深圳玩几天 他又担心遭小偷什么的 所以这几年他不敢出远门\r\n\r\n卖宅基地的房子靠谱吗？在老家其实各种不方便 去市里住他各种方便 老人买药看病买菜买什么都方便 我们都不看好市里的房子就一直没买\r\n\r\n我觉得卖了可惜 划不来  老家的房子现在也在跌 5-6k 一平", "content_rendered": "<p>老爸想去市里住，村里的留在老家的人都喜欢搬到市里去住了 他们买了市里的房子…他也想卖了农村的房子自家宅基地去市里买一套，自家的房子有几百平吧，两层，他一个人住了好几年 我们都在外面 很少回去…老爸他一直守着这个房子 叫他来深圳玩几天 他又担心遭小偷什么的 所以这几年他不敢出远门</p>\n<p>卖宅基地的房子靠谱吗？在老家其实各种不方便 去市里住他各种方便 老人买药看病买菜买什么都方便 我们都不看好市里的房子就一直没买</p>\n<p>我觉得卖了可惜 划不来  老家的房子现在也在跌 5-6k 一平</p>\n", "last_modified": 1698483559, "replies": 26, "id": 986266}]