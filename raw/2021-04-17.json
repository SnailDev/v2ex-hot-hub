[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/70ef/df2e/17_large.png?m=1596015931", "name": "create", "avatar_normal": "https://cdn.v2ex.com/navatar/70ef/df2e/17_normal.png?m=1596015931", "title": "分享创造", "url": "https://www.v2ex.com/go/create", "topics": 16082, "footer": "", "header": "欢迎你在这里发布自己的最新作品！", "title_alternative": "Create", "avatar_mini": "https://cdn.v2ex.com/navatar/70ef/df2e/17_mini.png?m=1596015931", "stars": 3898, "aliases": [], "root": false, "id": 17, "parent_node_name": "geek"}, "member": {"username": "ferrum", "website": "", "github": "", "psn": "", "avatar_normal": "https://cdn.v2ex.com/avatar/234b/941e/10972_mini.png?m=1504862007", "bio": "", "url": "https://www.v2ex.com/u/ferrum", "tagline": "", "twitter": "", "created": 1313077052, "avatar_large": "https://cdn.v2ex.com/avatar/234b/941e/10972_mini.png?m=1504862007", "avatar_mini": "https://cdn.v2ex.com/avatar/234b/941e/10972_mini.png?m=1504862007", "location": "", "btc": "", "id": 10972}, "last_reply_by": "fuxiaopang", "last_touched": 1618599288, "title": "Seamless 网页版上线，送码活动开启", "url": "https://www.v2ex.com/t/771018", "created": 1618538659, "content": "## Seamless 网页版\r\n我的上个帖子介绍了[Seamless – 从 Mac 到 iPhone，转瞬即传 - V2EX]( https://www.v2ex.com/t/763429)，听取各位反馈后，决定做一个网页版，主要方便使用 iPhone 的 Windows 用户。\r\n\r\n当然，任何有现代浏览器的系统都可以登录使用，但仍然**需要在 Mac 或 iPhone 版本里保存一个文件以初始化 CloudKit**。\r\n\r\n## 功能介绍\r\n简单介绍一下 Seamless，一个跨平台的文件和文本传输应用。具体功能点：\r\n1. 生产力设备，便捷无边界：Mac 、iPhone 、网页版，无缝切换\r\n2. 通知中心大挖掘：轻点通知打开链接、分享文件、搜索……你来选择！\r\n3. 不同步，iOS App 也很有用：记录剪贴板、摘取文字、搜索中心……\r\n4. 免费下载：一次性内购解锁文档数量限制，任意同步\r\n5. 隐私安全：使用 CloudKit 同步，数据仅存储在 iCloud\r\n\r\n## 优惠继续\r\nSeamless 的六折内购优惠仍在继续，感兴趣的可以在 App Store 免费下载体验。\r\n\r\n## 抽奖\r\n这次准备送 10 个高级版兑换码，可在 App Store 使用。今晚九点开奖，规则为回帖即可，不需要留邮箱。届时我从所有楼层中生成随机数，得奖者我会点感谢，然后请将 V2EX 的感谢通知截图和 ID 发到邮箱 shinystone.net@gmai.com 。\r\n\r\n## 网站\r\n网站地址：[Seamless - 更好的文件传输助手]( https://shinystone.net/zh/seamless)\r\n\r\nApp Store：[App Store 上的“Seamless - 更好的文件传输助手”]( https://apps.apple.com/app/id1537718448)\r\n\r\n网页版：[Seamless 应用]( https://seamless.icu)\r\n\r\n## 截屏\r\n![]( https://i.v2ex.co/QIzkSASO.png)\r\n\r\n![]( https://i.v2ex.co/Xc69YWxU.png)", "content_rendered": "<h2>Seamless 网页版</h2>\n<p>我的上个帖子介绍了<a href=\"https://www.v2ex.com/t/763429\" rel=\"nofollow\">Seamless – 从 Mac 到 iPhone，转瞬即传 - V2EX</a>，听取各位反馈后，决定做一个网页版，主要方便使用 iPhone 的 Windows 用户。</p>\n<p>当然，任何有现代浏览器的系统都可以登录使用，但仍然<strong>需要在 Mac 或 iPhone 版本里保存一个文件以初始化 CloudKit</strong>。</p>\n<h2>功能介绍</h2>\n<p>简单介绍一下 Seamless，一个跨平台的文件和文本传输应用。具体功能点：</p>\n<ol>\n<li>生产力设备，便捷无边界：Mac 、iPhone 、网页版，无缝切换</li>\n<li>通知中心大挖掘：轻点通知打开链接、分享文件、搜索……你来选择！</li>\n<li>不同步，iOS App 也很有用：记录剪贴板、摘取文字、搜索中心……</li>\n<li>免费下载：一次性内购解锁文档数量限制，任意同步</li>\n<li>隐私安全：使用 CloudKit 同步，数据仅存储在 iCloud</li>\n</ol>\n<h2>优惠继续</h2>\n<p>Seamless 的六折内购优惠仍在继续，感兴趣的可以在 App Store 免费下载体验。</p>\n<h2>抽奖</h2>\n<p>这次准备送 10 个高级版兑换码，可在 App Store 使用。今晚九点开奖，规则为回帖即可，不需要留邮箱。届时我从所有楼层中生成随机数，得奖者我会点感谢，然后请将 V2EX 的感谢通知截图和 ID 发到邮箱 <a href=\"mailto:shinystone.net@gmai.com\">shinystone.net@gmai.com</a> 。</p>\n<h2>网站</h2>\n<p>网站地址：<a href=\"https://shinystone.net/zh/seamless\" rel=\"nofollow\">Seamless - 更好的文件传输助手</a></p>\n<p>App Store：<a href=\"https://apps.apple.com/app/id1537718448\" rel=\"nofollow\">App Store 上的“Seamless - 更好的文件传输助手”</a></p>\n<p>网页版：<a href=\"https://seamless.icu\" rel=\"nofollow\">Seamless 应用</a></p>\n<h2>截屏</h2>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.v2ex.co/QIzkSASO.png\"/></p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.v2ex.co/Xc69YWxU.png\"/></p>\n", "last_modified": 1618538659, "replies": 206, "id": 771018}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1615111825", "name": "apple", "avatar_normal": "https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1615111825", "title": "Apple", "url": "https://www.v2ex.com/go/apple", "topics": 14535, "footer": "", "header": "设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。", "title_alternative": "Apple", "avatar_mini": "https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1615111825", "stars": 1781, "aliases": [], "root": false, "id": 184, "parent_node_name": "hardware"}, "member": {"username": "GCP", "website": "", "github": null, "psn": null, "avatar_normal": "https://cdn.v2ex.com/gravatar/5683f4ced5d5b2607fbd863e30b6cf17?s=24&d=retro", "bio": "", "url": "https://www.v2ex.com/u/GCP", "tagline": "", "twitter": null, "created": 1614618074, "avatar_large": "https://cdn.v2ex.com/gravatar/5683f4ced5d5b2607fbd863e30b6cf17?s=24&d=retro", "avatar_mini": "https://cdn.v2ex.com/gravatar/5683f4ced5d5b2607fbd863e30b6cf17?s=24&d=retro", "location": "", "btc": null, "id": 535448}, "last_reply_by": "wclebb", "last_touched": 1618590274, "title": "苹果原生输入法很难用，你们是如何适应的？", "url": "https://www.v2ex.com/t/771000", "created": 1618536515, "content": "有人说好用，那是因为你适应了，像我这种强迫自己用的，真的很难适应。\n\n它记不住词语就算了，iOS 和 macOS 还不能同步，另外 macOS 上不能用 tab 翻页。\n\n真是自己跟自己过不去，死皮赖脸用着我不喜欢的东西", "content_rendered": "有人说好用，那是因为你适应了，像我这种强迫自己用的，真的很难适应。<br /><br />它记不住词语就算了，iOS 和 macOS 还不能同步，另外 macOS 上不能用 tab 翻页。<br /><br />真是自己跟自己过不去，死皮赖脸用着我不喜欢的东西", "last_modified": 1618536515, "replies": 148, "id": 771000}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/1fc2/1400/864_large.png?m=1497247521", "name": "promotions", "avatar_normal": "https://cdn.v2ex.com/navatar/1fc2/1400/864_normal.png?m=1497247521", "title": "推广", "url": "https://www.v2ex.com/go/promotions", "topics": 5505, "footer": "", "header": "来自厂商的推广活动类主题，会被归类到这个节点。希望有情怀的产商们在发布推广内容时，主动选择发布到本节点下。", "title_alternative": "Promotions", "avatar_mini": "https://cdn.v2ex.com/navatar/1fc2/1400/864_mini.png?m=1497247521", "stars": 580, "aliases": [], "root": false, "id": 864, "parent_node_name": ""}, "member": {"username": "herozzm", "website": "", "github": "", "psn": "", "avatar_normal": "https://cdn.v2ex.com/avatar/620b/1efe/69595_mini.png?m=1435170045", "bio": "www.fzzhaobiao.com\r\nwww.120bid.com\r\nwww.ynwg.net", "url": "https://www.v2ex.com/u/herozzm", "tagline": "", "twitter": "", "created": 1406910755, "avatar_large": "https://cdn.v2ex.com/avatar/620b/1efe/69595_mini.png?m=1435170045", "avatar_mini": "https://cdn.v2ex.com/avatar/620b/1efe/69595_mini.png?m=1435170045", "location": "", "btc": "", "id": 69595}, "last_reply_by": "chinemds", "last_touched": 1618589486, "title": "“沃”的一生，不“柑”平凡，有家果园云南沃柑小店限时抢购和抽奖福利来了", "url": "https://www.v2ex.com/t/771009", "created": 1618537845, "content": "## “沃”的一生，不“柑”平凡，有家果园云南沃柑小店限时抢购和抽奖福利来了\r\n\r\n我：程序员卖水果，链接：[上一帖]( https://www.v2ex.com/t/769100)，大家都很照顾小店生意，购买的朋友陆续都收到了，评价还不错，我们又新鲜开摘了一园果子，现开启**限时抢购**和**抽奖活动**，还在观望的朋友可以便宜下手了^_^\r\n\r\n## 限时购\r\n沃柑限时促销价（今天 9:00 - 15:00 ）出售，每个规格限 20 箱，品质不变，**没有套路，先到先得**，进小商店即可看到直接下单\r\n\r\n## 抽奖\r\n另外为了感谢大家支持，特此开一波楼层抽奖，奖品是：**普通装 5 斤装中通包邮**  \r\n**规则**：在这个帖子下回复内容，每当楼层到 100 层时，就从 100 楼层中抽取 1 名（单 v 账号限中奖一次），如重复中奖或为 lz 则顺延下一位，gif 截图网页在线随机数生成过程（如 1-100，101-200 随机数生成）\r\n\r\n## 购买\r\n微信扫描下单  \r\n![微信小商店]( https://i.v2ex.co/eXPczYz7.jpeg)", "content_rendered": "<h2>“沃”的一生，不“柑”平凡，有家果园云南沃柑小店限时抢购和抽奖福利来了</h2>\n<p>我：程序员卖水果，链接：<a href=\"https://www.v2ex.com/t/769100\" rel=\"nofollow\">上一帖</a>，大家都很照顾小店生意，购买的朋友陆续都收到了，评价还不错，我们又新鲜开摘了一园果子，现开启<strong>限时抢购</strong>和<strong>抽奖活动</strong>，还在观望的朋友可以便宜下手了^_^</p>\n<h2>限时购</h2>\n<p>沃柑限时促销价（今天 9:00 - 15:00 ）出售，每个规格限 20 箱，品质不变，<strong>没有套路，先到先得</strong>，进小商店即可看到直接下单</p>\n<h2>抽奖</h2>\n<p>另外为了感谢大家支持，特此开一波楼层抽奖，奖品是：<strong>普通装 5 斤装中通包邮</strong><br/>\n<strong>规则</strong>：在这个帖子下回复内容，每当楼层到 100 层时，就从 100 楼层中抽取 1 名（单 v 账号限中奖一次），如重复中奖或为 lz 则顺延下一位，gif 截图网页在线随机数生成过程（如 1-100，101-200 随机数生成）</p>\n<h2>购买</h2>\n<p>微信扫描下单<br/>\n<img alt=\"微信小商店\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.v2ex.co/eXPczYz7.jpeg\"/></p>\n", "last_modified": 1618537845, "replies": 139, "id": 771009}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/a4a0/42cf/171_large.png?m=1593747127", "name": "invest", "avatar_normal": "https://cdn.v2ex.com/navatar/a4a0/42cf/171_normal.png?m=1593747127", "title": "投资", "url": "https://www.v2ex.com/go/invest", "topics": 921, "footer": "", "header": "Can you make money with money?", "title_alternative": "Invest", "avatar_mini": "https://cdn.v2ex.com/navatar/a4a0/42cf/171_mini.png?m=1593747127", "stars": 1835, "aliases": [], "root": false, "id": 171, "parent_node_name": "money"}, "member": {"username": "machtimes", "website": "http://machtimes.cn/", "github": null, "psn": null, "avatar_normal": "https://cdn.v2ex.com/gravatar/1fc37493acfe1166721c255f4dd9d71e?s=24&d=retro", "bio": "一个数据收集爱好者", "url": "https://www.v2ex.com/u/machtimes", "tagline": "一个数据收集爱好者", "twitter": null, "created": 1605792228, "avatar_large": "https://cdn.v2ex.com/gravatar/1fc37493acfe1166721c255f4dd9d71e?s=24&d=retro", "avatar_mini": "https://cdn.v2ex.com/gravatar/1fc37493acfe1166721c255f4dd9d71e?s=24&d=retro", "location": "GZ", "btc": null, "id": 518349}, "last_reply_by": "pkwenda", "last_touched": 1618597481, "title": "为什么大家纷纷要造车？", "url": "https://www.v2ex.com/t/770998", "created": 1618536099, "content": "先说 2 点我的结论：\r\n1.未来 10 年，汽车市场会见顶，逼着大家想新的办法。\r\n2.在“智能”这个新办法上，大家纷纷要造车，以博未来的新赛道的老大。\r\n\r\n哎，到时候就是一将成名万骨枯咯\r\n\r\n以下是我思考的全过程，欢迎大家讨论：\r\nhttp://machtimes.cn/index.php/archives/10/\r\n\r\n大家都是做开发的，逻辑思维能力肯定都很强，我觉得可以围绕着一个核心的问题进行讨论：\r\n在这个领域竞争的企业越来越多，ZF 也大力扶持，谁能在这个赛道上胜出？他主要的优势在哪里？", "content_rendered": "<p>先说 2 点我的结论：\n1.未来 10 年，汽车市场会见顶，逼着大家想新的办法。\n2.在“智能”这个新办法上，大家纷纷要造车，以博未来的新赛道的老大。</p>\n<p>哎，到时候就是一将成名万骨枯咯</p>\n<p>以下是我思考的全过程，欢迎大家讨论：\n<a href=\"http://machtimes.cn/index.php/archives/10/\" rel=\"nofollow\">http://machtimes.cn/index.php/archives/10/</a></p>\n<p>大家都是做开发的，逻辑思维能力肯定都很强，我觉得可以围绕着一个核心的问题进行讨论：\n在这个领域竞争的企业越来越多，ZF 也大力扶持，谁能在这个赛道上胜出？他主要的优势在哪里？</p>\n", "last_modified": 1618536099, "replies": 116, "id": 770998}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/5d61/6dd3/1017_large.png?m=1543441153", "name": "blockchain", "avatar_normal": "https://cdn.v2ex.com/navatar/5d61/6dd3/1017_normal.png?m=1543441153", "title": "区块链", "url": "https://www.v2ex.com/go/blockchain", "topics": 364, "footer": "", "header": "关于区块链技术的开发和应用的讨论。", "title_alternative": "Blockchain", "avatar_mini": "https://cdn.v2ex.com/navatar/5d61/6dd3/1017_mini.png?m=1543441153", "stars": 308, "aliases": [], "root": false, "id": 1017, "parent_node_name": ""}, "member": {"username": "Shook", "website": null, "github": null, "psn": null, "avatar_normal": "https://cdn.v2ex.com/avatar/9d75/9d16/360944_mini.png?m=1544542609", "bio": null, "url": "https://www.v2ex.com/u/Shook", "tagline": null, "twitter": null, "created": 1541404622, "avatar_large": "https://cdn.v2ex.com/avatar/9d75/9d16/360944_mini.png?m=1544542609", "avatar_mini": "https://cdn.v2ex.com/avatar/9d75/9d16/360944_mini.png?m=1544542609", "location": null, "btc": null, "id": 360944}, "last_reply_by": "dartabe", "last_touched": 1618602861, "title": "DOGE 币有投资的价值吗？", "url": "https://www.v2ex.com/t/770996", "created": 1618535727, "content": "朋友说这币涨势好，劝我也买点，他也就买了几百块钱。\r\n\r\n我才刚财务转正，也没有理财投资的经验，我该选择长线投资这些虚拟币吗？\r\n比如买一千块 BTC 。", "content_rendered": "<p>朋友说这币涨势好，劝我也买点，他也就买了几百块钱。</p>\n<p>我才刚财务转正，也没有理财投资的经验，我该选择长线投资这些虚拟币吗？\n比如买一千块 BTC 。</p>\n", "last_modified": 1618535727, "replies": 62, "id": 770996}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6512/bd43/11_large.png?m=1615112453", "name": "linux", "avatar_normal": "https://cdn.v2ex.com/navatar/6512/bd43/11_normal.png?m=1615112453", "title": "Linux", "url": "https://www.v2ex.com/go/linux", "topics": 6122, "footer": "", "header": "Linux is a Unix-like computer operating system assembled under the model of free and open source software development and distribution.", "title_alternative": "Linux", "avatar_mini": "https://cdn.v2ex.com/navatar/6512/bd43/11_mini.png?m=1615112453", "stars": 5501, "aliases": [], "root": false, "id": 11, "parent_node_name": "os"}, "member": {"username": "wohenfuyou", "website": null, "github": null, "psn": null, "avatar_normal": "https://cdn.v2ex.com/gravatar/8aed3c7d08614f6e02a66c80bdc74b11?s=24&d=retro", "bio": null, "url": "https://www.v2ex.com/u/wohenfuyou", "tagline": null, "twitter": null, "created": 1609289465, "avatar_large": "https://cdn.v2ex.com/gravatar/8aed3c7d08614f6e02a66c80bdc74b11?s=24&d=retro", "avatar_mini": "https://cdn.v2ex.com/gravatar/8aed3c7d08614f6e02a66c80bdc74b11?s=24&d=retro", "location": null, "btc": null, "id": 526138}, "last_reply_by": "TyteKa", "last_touched": 1618584409, "title": "wsl2 是真的好用", "url": "https://www.v2ex.com/t/771093", "created": 1618553828, "content": "比虚拟机上跑 linux 强多了", "content_rendered": "<p>比虚拟机上跑 linux 强多了</p>\n", "last_modified": 1618553828, "replies": 60, "id": 771093}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/069d/3bb0/580_large.png?m=1611468295", "name": "ios", "avatar_normal": "https://cdn.v2ex.com/navatar/069d/3bb0/580_normal.png?m=1611468295", "title": "iOS", "url": "https://www.v2ex.com/go/ios", "topics": 2624, "footer": "", "header": "运行于 Apple 移动设备上的操作系统。", "title_alternative": "iOS", "avatar_mini": "https://cdn.v2ex.com/navatar/069d/3bb0/580_mini.png?m=1611468295", "stars": 624, "aliases": [], "root": false, "id": 580, "parent_node_name": "apple"}, "member": {"username": "xingshu1990", "website": "https://xingshu1990.github.io/", "github": "", "psn": "", "avatar_normal": "https://cdn.v2ex.com/gravatar/19ccd9ce9863014e4ba22fb4d4432dcc?s=24&d=retro", "bio": "", "url": "https://www.v2ex.com/u/xingshu1990", "tagline": "", "twitter": "", "created": 1486702368, "avatar_large": "https://cdn.v2ex.com/gravatar/19ccd9ce9863014e4ba22fb4d4432dcc?s=24&d=retro", "avatar_mini": "https://cdn.v2ex.com/gravatar/19ccd9ce9863014e4ba22fb4d4432dcc?s=24&d=retro", "location": "", "btc": "", "id": 214422}, "last_reply_by": "Ballmer", "last_touched": 1618583647, "title": "因为国内部分开发人员的小心思，所以我更偏向较为封闭的 iPhone 手机。", "url": "https://www.v2ex.com/t/770993", "created": 1618535041, "content": "因为\r\n这些读取剪切板的国产 app 是真的烦： https://fast.v2ex.com/t/770796\r\n这个帖子，我特地去搜索 IOS 自动化 清空剪切板，于是发现下面的内容\r\n\r\nhttps://www.jianshu.com/p/10a6900cc904?from=timeline\r\n\r\n以下是以上网址中的文字，涉及到的代码 不做验证，只想说有人动歪脑筋。\r\n\r\n之前用淘宝给微信好友分享链接的时候，发现在微信中复制了宝贝的链接，然后再从后台切换到淘宝客户端，淘宝就会弹出一个页面，询问是否要跳转到相关页面，今天试着实现了一下，分享出来~\r\n\r\n    //识别剪贴板中的内容\r\n    if let paste = UIPasteboard.generalPasteboard().string where\r\n        (paste.hasPrefix(\"http://\") || paste.hasPrefix(\"https://\")) { \r\n        //如果剪贴板中的内容是链接\r\n        let alert = UIAlertController(title: \"要打开剪贴板中的链接吗？\",\r\n            message: nil,\r\n            preferredStyle: UIAlertControllerStyle.Alert)\r\n        alert.addAction(UIAlertAction(title: \"打开\",\r\n            style: UIAlertActionStyle.Default,\r\n            handler: { Void in\r\n                // your implementation\r\n                print(paste)\r\n        }))\r\n        alert.addAction(UIAlertAction(title: \"忽略\",\r\n            style: UIAlertActionStyle.Cancel,\r\n            handler: nil))\r\n        //弹出 Alert\r\n        let storyboard = UIStoryboard(name: \"Main\", bundle: nil)\r\n        if let vc = storyboard.instantiateViewControllerWithIdentifier(\"navi\") as? UINavigationController {\r\n            self.window?.rootViewController = vc\r\n            vc.presentViewController(alert, animated: true, completion: nil)\r\n        }\r\n    }\r\n获取设备的剪贴板很简单，第一行代码就搞定了，if 语句中判断了一下剪贴板中的内容是不是链接，注意 http 和 https 都要写上，这点很容易被忽略（在浏览器地址栏中复制以 www.开头的文本会自动在剪贴板中转为 http 或 https 开头的链接）。\r\n\r\n更值得注意的是，因为你需要让 App 在每次从后台进入前台的时候都检测一下剪贴板中有没有链接，所以以上方法要放在 AppDelegate 文件的 applicationWillEnterForeground 方法中。\r\n\r\nAppDelegate.swift\r\n而这个方法中是不能通过 self 来调用 ViewController 的，所以要曲线救国的话，你需要手动获取 Storyboard 、ViewController，再设置 window 的 rootViewController 才能去掉所有报错和警告。\r\n\r\n（这里我只是把剪贴板中的链接输出到控制台了，想要自己用 UIWebView 打开链接的话，在 // your implementation 这句注释这里写自己的方法吧）\r\n\r\n\r\n [ 150928 更新] \r\n\r\n对比 applicationWillEnterForeground\r\n和 applicationDidBecomeActive\r\n这两个方法，前者是指 App 从后台进入前台，后者是指 App 处于活跃状态，所以前者相对于后者，缺少的部分是，当 App 刚刚启动，而不是从后台取出的时候，它无法识别剪贴板。\r\n因为你不能要求每次都让用户先把 App 打开，再往剪贴板里面填东西，再跳转回来，所以个人建议把上面的代码放在 applicationDidBecomeActive 方法中，而不是 applicationWillEnterForeground 。\r\n\r\n\r\n————————————\r\n关于更大的监控，不用在这里讨论，大家放心里就好。", "content_rendered": "<p>因为\n这些读取剪切板的国产 app 是真的烦： <a href=\"https://fast.v2ex.com/t/770796\" rel=\"nofollow\">https://fast.v2ex.com/t/770796</a>\n这个帖子，我特地去搜索 IOS 自动化 清空剪切板，于是发现下面的内容</p>\n<p><a href=\"https://www.jianshu.com/p/10a6900cc904?from=timeline\" rel=\"nofollow\">https://www.jianshu.com/p/10a6900cc904?from=timeline</a></p>\n<p>以下是以上网址中的文字，涉及到的代码 不做验证，只想说有人动歪脑筋。</p>\n<p>之前用淘宝给微信好友分享链接的时候，发现在微信中复制了宝贝的链接，然后再从后台切换到淘宝客户端，淘宝就会弹出一个页面，询问是否要跳转到相关页面，今天试着实现了一下，分享出来~</p>\n<pre><code>//识别剪贴板中的内容\nif let paste = UIPasteboard.generalPasteboard().string where\n    (paste.hasPrefix(\"http://\") || paste.hasPrefix(\"https://\")) { \n    //如果剪贴板中的内容是链接\n    let alert = UIAlertController(title: \"要打开剪贴板中的链接吗？\",\n        message: nil,\n        preferredStyle: UIAlertControllerStyle.Alert)\n    alert.addAction(UIAlertAction(title: \"打开\",\n        style: UIAlertActionStyle.Default,\n        handler: { Void in\n            // your implementation\n            print(paste)\n    }))\n    alert.addAction(UIAlertAction(title: \"忽略\",\n        style: UIAlertActionStyle.Cancel,\n        handler: nil))\n    //弹出 Alert\n    let storyboard = UIStoryboard(name: \"Main\", bundle: nil)\n    if let vc = storyboard.instantiateViewControllerWithIdentifier(\"navi\") as? UINavigationController {\n        self.window?.rootViewController = vc\n        vc.presentViewController(alert, animated: true, completion: nil)\n    }\n}\n</code></pre>\n<p>获取设备的剪贴板很简单，第一行代码就搞定了，if 语句中判断了一下剪贴板中的内容是不是链接，注意 http 和 https 都要写上，这点很容易被忽略（在浏览器地址栏中复制以 www.开头的文本会自动在剪贴板中转为 http 或 https 开头的链接）。</p>\n<p>更值得注意的是，因为你需要让 App 在每次从后台进入前台的时候都检测一下剪贴板中有没有链接，所以以上方法要放在 AppDelegate 文件的 applicationWillEnterForeground 方法中。</p>\n<p>AppDelegate.swift\n而这个方法中是不能通过 self 来调用 ViewController 的，所以要曲线救国的话，你需要手动获取 Storyboard 、ViewController，再设置 window 的 rootViewController 才能去掉所有报错和警告。</p>\n<p>（这里我只是把剪贴板中的链接输出到控制台了，想要自己用 UIWebView 打开链接的话，在 // your implementation 这句注释这里写自己的方法吧）</p>\n<p>[ 150928 更新] </p>\n<p>对比 applicationWillEnterForeground\n和 applicationDidBecomeActive\n这两个方法，前者是指 App 从后台进入前台，后者是指 App 处于活跃状态，所以前者相对于后者，缺少的部分是，当 App 刚刚启动，而不是从后台取出的时候，它无法识别剪贴板。\n因为你不能要求每次都让用户先把 App 打开，再往剪贴板里面填东西，再跳转回来，所以个人建议把上面的代码放在 applicationDidBecomeActive 方法中，而不是 applicationWillEnterForeground 。</p>\n<p>————————————\n关于更大的监控，不用在这里讨论，大家放心里就好。</p>\n", "last_modified": 1618535041, "replies": 56, "id": 770993}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/e7b2/4b11/360_large.png?m=1583044904", "name": "windows", "avatar_normal": "https://cdn.v2ex.com/navatar/e7b2/4b11/360_normal.png?m=1583044904", "title": "Windows", "url": "https://www.v2ex.com/go/windows", "topics": 1990, "footer": "", "header": "Windows, not walls.", "title_alternative": "Windows", "avatar_mini": "https://cdn.v2ex.com/navatar/e7b2/4b11/360_mini.png?m=1583044904", "stars": 645, "aliases": [], "root": false, "id": 360, "parent_node_name": "os"}, "member": {"username": "duzhor", "website": "", "github": null, "psn": null, "avatar_normal": "https://cdn.v2ex.com/avatar/bbc8/6110/342605_mini.png?m=1607932084", "bio": "", "url": "https://www.v2ex.com/u/duzhor", "tagline": "", "twitter": null, "created": 1534653218, "avatar_large": "https://cdn.v2ex.com/avatar/bbc8/6110/342605_mini.png?m=1607932084", "avatar_mini": "https://cdn.v2ex.com/avatar/bbc8/6110/342605_mini.png?m=1607932084", "location": "", "btc": null, "id": 342605}, "last_reply_by": "crab", "last_touched": 1618592137, "title": "windows 系统中顽固的 2345 到底如何根治？", "url": "https://www.v2ex.com/t/771113", "created": 1618560587, "content": "引言：\r\n\r\n我个人使用 windows 系统习惯较好，计算机专业走了许多坑爬出来的，现在看不到弹窗广告，浏览器主页没有被劫持，网页广告也过滤的差不多。\r\n\r\n但是我发现无论何时何地，C 盘有一个 2345 的文件夹永远删不掉，删了只管当时，重启系统又安安静静的躺在原位，任务管理器里也找不到相关进程（或者是伪装的我不认识）。\r\n\r\n就是这个地方： https://sm.ms/image/uDk583VXsvT2oOw", "content_rendered": "<p>引言：</p>\n<p>我个人使用 windows 系统习惯较好，计算机专业走了许多坑爬出来的，现在看不到弹窗广告，浏览器主页没有被劫持，网页广告也过滤的差不多。</p>\n<p>但是我发现无论何时何地，C 盘有一个 2345 的文件夹永远删不掉，删了只管当时，重启系统又安安静静的躺在原位，任务管理器里也找不到相关进程（或者是伪装的我不认识）。</p>\n<p>就是这个地方： <a href=\"https://sm.ms/image/uDk583VXsvT2oOw\" rel=\"nofollow\">https://sm.ms/image/uDk583VXsvT2oOw</a></p>\n", "last_modified": 1618560611, "replies": 49, "id": 771113}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/8613/985e/90_large.png?m=1618114622", "name": "python", "avatar_normal": "https://cdn.v2ex.com/navatar/8613/985e/90_normal.png?m=1618114622", "title": "Python", "url": "https://www.v2ex.com/go/python", "topics": 14299, "footer": "", "header": "这里讨论各种 Python 语言编程话题，也包括 Django，Tornado 等框架的讨论。这里是一个能够帮助你解决实际问题的地方。", "title_alternative": "Python", "avatar_mini": "https://cdn.v2ex.com/navatar/8613/985e/90_mini.png?m=1618114622", "stars": 9554, "aliases": [], "root": false, "id": 90, "parent_node_name": "programming"}, "member": {"username": "Cyanhall", "website": "cyanhall.com/cn/", "github": "Cyanhall", "psn": "", "avatar_normal": "https://cdn.v2ex.com/avatar/f56c/1fe3/487690_mini.png?m=1600479406", "bio": "", "url": "https://www.v2ex.com/u/Cyanhall", "tagline": "", "twitter": "cyanhall", "created": 1588584425, "avatar_large": "https://cdn.v2ex.com/avatar/f56c/1fe3/487690_mini.png?m=1600479406", "avatar_mini": "https://cdn.v2ex.com/avatar/f56c/1fe3/487690_mini.png?m=1600479406", "location": "", "btc": "", "id": 487690}, "last_reply_by": "domodomo", "last_touched": 1618581160, "title": "你们怎么看现在 Python 的发展方向？", "url": "https://www.v2ex.com/t/771010", "created": 1618537983, "content": "引子 - 今天的争论：[IMPORTANT: PEP 563, PEP 649 and the future of pydantic]( https://github.com/samuelcolvin/pydantic/issues/2678)\r\n\r\n个人观察：\r\nFlask 作者、SQLAlchemy 作者等都不太喜欢现在的 Python 发展情况，详情见他们推特。\r\n\r\n个人感觉是一直加可有可无的语法糖而带来无谓的 break change 。", "content_rendered": "<p>引子 - 今天的争论：<a href=\"https://github.com/samuelcolvin/pydantic/issues/2678\" rel=\"nofollow\">IMPORTANT: PEP 563, PEP 649 and the future of pydantic</a></p>\n<p>个人观察：\nFlask 作者、SQLAlchemy 作者等都不太喜欢现在的 Python 发展情况，详情见他们推特。</p>\n<p>个人感觉是一直加可有可无的语法糖而带来无谓的 break change 。</p>\n", "last_modified": 1618537983, "replies": 45, "id": 771010}]