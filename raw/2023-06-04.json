[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 4413, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785", "stars": 1136, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 624558, "username": "nbafive", "url": "https://www.v2ex.com/u/nbafive", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "女汉子", "avatar_mini": "https://cdn.v2ex.com/gravatar/2a191c16f76554a7156ecb6165334f86?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/2a191c16f76554a7156ecb6165334f86?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/2a191c16f76554a7156ecb6165334f86?s=73&d=retro", "created": 1681725180, "last_modified": 1681725180}, "last_reply_by": "carrieflint", "last_touched": 1685883771, "title": "不知道怎么摆脱妈妈", "url": "https://www.v2ex.com/t/945555", "created": 1685801499, "deleted": 0, "content": "真想换号 永远不告诉她! 和她完全无法沟通 很多事我们和她说几十遍她都不会听你的!", "content_rendered": "<p>真想换号 永远不告诉她! 和她完全无法沟通 很多事我们和她说几十遍她都不会听你的!</p>\n", "last_modified": 1685801499, "replies": 90, "id": 945555}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/d67d/8ab4/39_large.png?m=1651385965", "name": "android", "avatar_normal": "https://cdn.v2ex.com/navatar/d67d/8ab4/39_normal.png?m=1651385965", "title": "Android", "url": "https://www.v2ex.com/go/android", "topics": 10351, "footer": "", "header": "来自 <a href=\"/go/google\">Google</a> 的开放源代码智能手机平台。", "title_alternative": "Android", "avatar_mini": "https://cdn.v2ex.com/navatar/d67d/8ab4/39_mini.png?m=1651385965", "stars": 5402, "aliases": [], "root": false, "id": 39, "parent_node_name": "hardware"}, "member": {"id": 73974, "username": "seers", "url": "https://www.v2ex.com/u/seers", "website": "hushi.me", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/46ae/84c9/73974_mini.png?m=1678256960", "avatar_normal": "https://cdn.v2ex.com/avatar/46ae/84c9/73974_normal.png?m=1678256960", "avatar_large": "https://cdn.v2ex.com/avatar/46ae/84c9/73974_large.png?m=1678256960", "created": 1410770596, "last_modified": 1678256960}, "last_reply_by": "BGLL", "last_touched": 1685877369, "title": "目前 16GB 的 RAM 应该到头了吧", "url": "https://www.v2ex.com/t/945575", "created": 1685807500, "deleted": 0, "content": "PC 上面 16G 的内存已经足够跑 90%的 3A 大作了，普通用户差不多也够用，部分开发者省点用也够工作，再往上走递减太明显，徒增功耗", "content_rendered": "<p>PC 上面 16G 的内存已经足够跑 90%的 3A 大作了，普通用户差不多也够用，部分开发者省点用也够工作，再往上走递减太明显，徒增功耗</p>\n", "last_modified": 1685807500, "replies": 75, "id": 945575}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1677911181", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1677911181", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 56335, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1677911181", "stars": 8415, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 612551, "username": "tempw", "url": "https://www.v2ex.com/u/tempw", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/dbe3761e60e8a67e7c04e1aed8827ddd?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/dbe3761e60e8a67e7c04e1aed8827ddd?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/dbe3761e60e8a67e7c04e1aed8827ddd?s=73&d=retro", "created": 1675652563, "last_modified": 1675652563}, "last_reply_by": "ranyu121", "last_touched": 1685883075, "title": "价位 4000 的戴尔 ultrasharp27 寸 4k 显示器和价位 1600 的红米 4k 显示器差别在哪", "url": "https://www.v2ex.com/t/945602", "created": 1685841369, "deleted": 0, "content": "非专业人士，想知道具体差别。只知道都是 27 寸 4K 的。最近想买显示器。", "content_rendered": "<p>非专业人士，想知道具体差别。只知道都是 27 寸 4K 的。最近想买显示器。</p>\n", "last_modified": 1685841369, "replies": 68, "id": 945602}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1677911181", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1677911181", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 56335, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1677911181", "stars": 8415, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 610178, "username": "willwon1", "url": "https://www.v2ex.com/u/willwon1", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/7e468688a1fe22f381bf7f6bc2005eda?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/7e468688a1fe22f381bf7f6bc2005eda?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/7e468688a1fe22f381bf7f6bc2005eda?s=73&d=retro", "created": 1673506634, "last_modified": 1673506634}, "last_reply_by": "locoz", "last_touched": 1685883334, "title": "购买软路由是否真的有必要？", "url": "https://www.v2ex.com/t/945653", "created": 1685854583, "deleted": 0, "content": "曾经作为刚入门的选手购买过 R2S ，体验不可谓不糟糕\r\n\r\n软路由最大的需求应该都是为了翻墙，但是软路由在这方便做的其实并不好，本人软路由节点是自己搭建的，稳定性是有的，但是就算是这样软路由总是会碰见各种各样的问题\r\n\r\n1.经常莫名其妙重启，不是到是不是性能差的原因,R2S 对我的反馈就是一个字折腾、\r\n2.国内外自动分流，在我打游戏的时候总是要切到后台，否则游戏延迟就爆炸\r\n3.软路由当网关的模式下，配置错误一个问题，直接炸掉，只能恢复出厂设置，真的糟糕\r\n4.软路由旁路由的模式下，手机设备代理到软路由也总是会碰到各种各样的问题，IOS 验证码加载不出来，最糟糕的一点家里本来的带宽 500 兆，挂上软路由直接掉到 200 兆，R2S 性能不够，只能在 WiFi 设置下手动删除代理\r\n5.在绝大多数人机场都是限速的情况，就算自己搭建，100 兆的翻墙带宽和 500 兆的翻墙带宽，是否在体验上真正有本质的区别，这里打个问号？\r\n\r\n这里讨论是否有必要购买软路由，打个比方，家里闲置的 ios 或者 Android ，芯片性能一定超过软路由太多，功耗也十分的低，在 ios 和 Android 开启代理软件，要上网的设备设置下 WiFi 的代理到移动设备，是不是已经可以替代软路由了？ 而且体验更佳，不会出现各种莫名其妙的问题。", "content_rendered": "<p>曾经作为刚入门的选手购买过 R2S ，体验不可谓不糟糕</p>\n<p>软路由最大的需求应该都是为了翻墙，但是软路由在这方便做的其实并不好，本人软路由节点是自己搭建的，稳定性是有的，但是就算是这样软路由总是会碰见各种各样的问题</p>\n<p>1.经常莫名其妙重启，不是到是不是性能差的原因,R2S 对我的反馈就是一个字折腾、\n2.国内外自动分流，在我打游戏的时候总是要切到后台，否则游戏延迟就爆炸\n3.软路由当网关的模式下，配置错误一个问题，直接炸掉，只能恢复出厂设置，真的糟糕\n4.软路由旁路由的模式下，手机设备代理到软路由也总是会碰到各种各样的问题，IOS 验证码加载不出来，最糟糕的一点家里本来的带宽 500 兆，挂上软路由直接掉到 200 兆，R2S 性能不够，只能在 WiFi 设置下手动删除代理\n5.在绝大多数人机场都是限速的情况，就算自己搭建，100 兆的翻墙带宽和 500 兆的翻墙带宽，是否在体验上真正有本质的区别，这里打个问号？</p>\n<p>这里讨论是否有必要购买软路由，打个比方，家里闲置的 ios 或者 Android ，芯片性能一定超过软路由太多，功耗也十分的低，在 ios 和 Android 开启代理软件，要上网的设备设置下 WiFi 的代理到移动设备，是不是已经可以替代软路由了？ 而且体验更佳，不会出现各种莫名其妙的问题。</p>\n", "last_modified": 1685854583, "replies": 51, "id": 945653}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/eaae/339c/653_large.png?m=1678403810", "name": "vps", "avatar_normal": "https://cdn.v2ex.com/navatar/eaae/339c/653_normal.png?m=1678403810", "title": "VPS", "url": "https://www.v2ex.com/go/vps", "topics": 6513, "footer": "", "header": "关于 VPS 购买和使用的讨论。", "title_alternative": "VPS", "avatar_mini": "https://cdn.v2ex.com/navatar/eaae/339c/653_mini.png?m=1678403810", "stars": 3077, "aliases": [], "root": false, "id": 653, "parent_node_name": "cloud"}, "member": {"id": 444151, "username": "vincent7245", "url": "https://www.v2ex.com/u/vincent7245", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/abba/0eb6/444151_mini.png?m=1680510323", "avatar_normal": "https://cdn.v2ex.com/avatar/abba/0eb6/444151_normal.png?m=1680510323", "avatar_large": "https://cdn.v2ex.com/avatar/abba/0eb6/444151_large.png?m=1680510323", "created": 1569811150, "last_modified": 1680510323}, "last_reply_by": "azure2023us928", "last_touched": 1685882080, "title": "不知不觉买了一堆便宜 VPS，买服务器居然会成瘾", "url": "https://www.v2ex.com/t/945609", "created": 1685844805, "deleted": 0, "content": "买服务器居然也会上瘾，看到有便宜的就想买，不知不觉手里已经囤了一堆了。\r\n\r\n|服务商|配置|费用|用途|\r\n|---|---|---|---|\r\n|腾讯轻量无忧| 1C2G | 190/年|备案的网站、笔记、Bitwarden 、Gitea|\r\n|腾讯云首单优惠| 2C4G| 158 马上到期了|闲置|\r\n|狗云香港|1C1G| 100/ 年|魔法、建站|\r\n|狗云香港|1C1G| 100/年|魔法|\r\n|野草云|2C8G| 266/年|开发测试环境|\r\n|racknerd|2C3G|$32/年|邮箱服务、魔法|\r\n|racknerd|1C 0.5G|$10/年|魔法|\r\n\r\n除了国内的腾讯云轻量，其他的服务器负载很低，几户算是闲置了，还能再搭建什么服务让其物尽其用呢。", "content_rendered": "<p>买服务器居然也会上瘾，看到有便宜的就想买，不知不觉手里已经囤了一堆了。</p>\n<table>\n<thead>\n<tr>\n<th>服务商</th>\n<th>配置</th>\n<th>费用</th>\n<th>用途</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>腾讯轻量无忧</td>\n<td>1C2G</td>\n<td>190/年</td>\n<td>备案的网站、笔记、Bitwarden 、Gitea</td>\n</tr>\n<tr>\n<td>腾讯云首单优惠</td>\n<td>2C4G</td>\n<td>158 马上到期了</td>\n<td>闲置</td>\n</tr>\n<tr>\n<td>狗云香港</td>\n<td>1C1G</td>\n<td>100/ 年</td>\n<td>魔法、建站</td>\n</tr>\n<tr>\n<td>狗云香港</td>\n<td>1C1G</td>\n<td>100/年</td>\n<td>魔法</td>\n</tr>\n<tr>\n<td>野草云</td>\n<td>2C8G</td>\n<td>266/年</td>\n<td>开发测试环境</td>\n</tr>\n<tr>\n<td>racknerd</td>\n<td>2C3G</td>\n<td>$32/年</td>\n<td>邮箱服务、魔法</td>\n</tr>\n<tr>\n<td>racknerd</td>\n<td>1C 0.5G</td>\n<td>$10/年</td>\n<td>魔法</td>\n</tr>\n</tbody></table><p>除了国内的腾讯云轻量，其他的服务器负载很低，几户算是闲置了，还能再搭建什么服务让其物尽其用呢。</p>\n", "last_modified": 1685844893, "replies": 47, "id": 945609}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1677911181", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1677911181", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 56335, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1677911181", "stars": 8415, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 468259, "username": "callme110", "url": "https://www.v2ex.com/u/callme110", "website": "https://mi2zo429cdh.feishu.cn/docx/IGd1d8UQuo9DAkxfHqAcnx5OnFd", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/f53f4a514543f2d361da327a37a26ba9?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/f53f4a514543f2d361da327a37a26ba9?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/f53f4a514543f2d361da327a37a26ba9?s=73&d=retro", "created": 1581067608, "last_modified": 1685703423}, "last_reply_by": "weeiy", "last_touched": 1685883928, "title": "生而为人，不是任小米随便支配的猪狗！", "url": "https://www.v2ex.com/t/945694", "created": 1685868203, "deleted": 0, "content": "准备入职小米了，结果在星球里看到了这个帖子....求证真假。。。。。\r\n\r\n\r\n算是骨灰级的米粉和员工了。一大早就被拉去开大会，一种不详的预感强烈来袭，职场不成文规定：好事单独聊，坏事开大会。果然，上来就被告知，“从今天开始，上班时间强制至少 11.5 个小时”。\r\n我以为是有大项目要做，谁知道理由竟是隔壁部门的打卡数据比我们的漂亮，荒唐又可笑。轻飘一句话抹杀了员工 3.5 个小时的自由时间。加班费只字未提，连起码得加班餐也没有，只撂下一句冷冰冰的威胁，“不够点的，直接优化”。\r\n随意践踏员工的基本权益也就算了，竟然敢视《劳动法》为无物，蔑视政府的权威，这天下还没有改姓雷吧。真想问问小米的法律底线到底在哪？\r\n小米是什么时候变成这个样子的呢？\r\n记得在做小米 6 的时候，领导一句话，全体员工连轴转，一个月无休，上班时间没有低于 12 个小时的，大部分员工都没有怨言。因为大家知道，特殊时期就要牟足劲的干，最终交给公司和用户一份满意的答案。小米 6 也成了至今无法超越的经典。而后的每一次 miui 改版或者新机发布前总有那么一段时间需要加班加点，哪怕没有加班费，那怕给了调休的机会也没用。无所谓，就算是个人也有忙的时候，何况偌大的公司呢。\r\n那个时候的小米有种自上而下的情怀，而现在却成了从头到脚的威胁。\r\n人的精力就像弹簧，张弛有度才能更加持久，一味地强拉硬拽最后只会松弛。领导难道不明白这个道理？不是！一切不过是领导之间的内耗和无意义的攀比，为了所谓的面子数据，人为制造努力奋斗的假象，欺上瞒下，真的是无能又可笑。但凡有点正事干，也不会天天盯着考勤查，黔驴技穷。就这企业文化能造出好车？我信你个球，麻烦你先做到最基本的遵纪守法吧。\r\n\r\n最后说一句，想裁员就直接送大礼包，别刷这些下三滥！麻辣隔壁的！", "content_rendered": "<p>准备入职小米了，结果在星球里看到了这个帖子....求证真假。。。。。</p>\n<p>算是骨灰级的米粉和员工了。一大早就被拉去开大会，一种不详的预感强烈来袭，职场不成文规定：好事单独聊，坏事开大会。果然，上来就被告知，“从今天开始，上班时间强制至少 11.5 个小时”。\n我以为是有大项目要做，谁知道理由竟是隔壁部门的打卡数据比我们的漂亮，荒唐又可笑。轻飘一句话抹杀了员工 3.5 个小时的自由时间。加班费只字未提，连起码得加班餐也没有，只撂下一句冷冰冰的威胁，“不够点的，直接优化”。\n随意践踏员工的基本权益也就算了，竟然敢视《劳动法》为无物，蔑视政府的权威，这天下还没有改姓雷吧。真想问问小米的法律底线到底在哪？\n小米是什么时候变成这个样子的呢？\n记得在做小米 6 的时候，领导一句话，全体员工连轴转，一个月无休，上班时间没有低于 12 个小时的，大部分员工都没有怨言。因为大家知道，特殊时期就要牟足劲的干，最终交给公司和用户一份满意的答案。小米 6 也成了至今无法超越的经典。而后的每一次 miui 改版或者新机发布前总有那么一段时间需要加班加点，哪怕没有加班费，那怕给了调休的机会也没用。无所谓，就算是个人也有忙的时候，何况偌大的公司呢。\n那个时候的小米有种自上而下的情怀，而现在却成了从头到脚的威胁。\n人的精力就像弹簧，张弛有度才能更加持久，一味地强拉硬拽最后只会松弛。领导难道不明白这个道理？不是！一切不过是领导之间的内耗和无意义的攀比，为了所谓的面子数据，人为制造努力奋斗的假象，欺上瞒下，真的是无能又可笑。但凡有点正事干，也不会天天盯着考勤查，黔驴技穷。就这企业文化能造出好车？我信你个球，麻烦你先做到最基本的遵纪守法吧。</p>\n<p>最后说一句，想裁员就直接送大礼包，别刷这些下三滥！麻辣隔壁的！</p>\n", "last_modified": 1685868203, "replies": 38, "id": 945694}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 204400, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3825, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 461700, "username": "Mikawa", "url": "https://www.v2ex.com/u/Mikawa", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/b8d3/527e/461700_mini.png?m=1610363492", "avatar_normal": "https://cdn.v2ex.com/avatar/b8d3/527e/461700_normal.png?m=1610363492", "avatar_large": "https://cdn.v2ex.com/avatar/b8d3/527e/461700_large.png?m=1610363492", "created": 1577425587, "last_modified": 1610363492}, "last_reply_by": "xuanbg", "last_touched": 1685880300, "title": "被 Manager 批评了，但是我觉得我做得对，怎么办", "url": "https://www.v2ex.com/t/945593", "created": 1685830381, "deleted": 0, "content": "这周被老板喷了，有点难受，不知道是不是我做错了，发出来请老哥看一看\r\n\r\n我是去年跳槽进的现在公司，进去不久 Manager 分了个活给我，让我做一块小东西（一个通用的技术需求），因为不算绩效，所以可以自己折腾。我在开工的时候拉了个会和组里其他人过了下设计，就开始做了。\r\n\r\n那个活我当时打算拿 node 写个 CLI 就行，但是实际写完之后发现还有些可以做的，需要在 CLI 里加个命令，本地起个 UI ，类似 Prisma 那样，就开了个 nextjs 的应用，和 CLI 放在同一个仓库，把那个仓库改成了 monorepo ，后面因为循环引用，就把 cli 里的一块逻辑提出来了。\r\n\r\n上面这些坑挖了不久，我就因为被其他原因 block ，暂停这个 CLI 的开发，最近打算继续做，就在周会上提了下。\r\n\r\n我 Manger 刚好打算对另一个新成立的组输出些东西，就找我要了仓库，说看一下。实际是打算把我做的和他手下另一个做这块的人做的东西缝一下，提供给他们组。\r\n\r\n分支是周四发的，周五晚上他在微信群里 @全体，说不要把代码写的过于复杂，过度包装，还用了个抽象的比喻，我也没多想，就没管，也没想是说谁。\r\n\r\n结果第二天打开工作 im ，发现老板给我留言批评我，说我过度包装了，让我把 monorepo 合回去，并且说“他以为可以分分钟给出去，最后他自己写了，这些功能几个文件就搞定了 balabala”，最后说这也不是什么大事，让我不要担心之类的\r\n\r\n我一直觉得我和老板脑回路对不上，平时他带了好几个组，所以不常会和他一起交流设计，但是一旦开始讨论，意见几乎必然相左。平时都是在设计的时候意见不一致，这次是实际发生的事情，一步一步有迹可循，所以我直接给他说了我为什么这么做\r\n\r\n昨天晚上他看到我的消息，还是说我做的不对，s 说我是在乱叠包装、杀蚊子用大炮，他自己写就几个文件，别人还可以改 balabala\r\n\r\n刚刚醒了看到他昨天晚上的消息，人有点麻，完全没办法沟通，去年跳槽就是希望去外企工作氛围能轻松一些，结果老板完全没办法沟通。\r\n\r\n总之我把我为什么这么做再详细讲了下，并且给他抗议他不经过我，直接扒代码，扒不出来就说我过度包装的行为，让他后续有这种例子叫上我", "content_rendered": "<p>这周被老板喷了，有点难受，不知道是不是我做错了，发出来请老哥看一看</p>\n<p>我是去年跳槽进的现在公司，进去不久 Manager 分了个活给我，让我做一块小东西（一个通用的技术需求），因为不算绩效，所以可以自己折腾。我在开工的时候拉了个会和组里其他人过了下设计，就开始做了。</p>\n<p>那个活我当时打算拿 node 写个 CLI 就行，但是实际写完之后发现还有些可以做的，需要在 CLI 里加个命令，本地起个 UI ，类似 Prisma 那样，就开了个 nextjs 的应用，和 CLI 放在同一个仓库，把那个仓库改成了 monorepo ，后面因为循环引用，就把 cli 里的一块逻辑提出来了。</p>\n<p>上面这些坑挖了不久，我就因为被其他原因 block ，暂停这个 CLI 的开发，最近打算继续做，就在周会上提了下。</p>\n<p>我 Manger 刚好打算对另一个新成立的组输出些东西，就找我要了仓库，说看一下。实际是打算把我做的和他手下另一个做这块的人做的东西缝一下，提供给他们组。</p>\n<p>分支是周四发的，周五晚上他在微信群里 @全体，说不要把代码写的过于复杂，过度包装，还用了个抽象的比喻，我也没多想，就没管，也没想是说谁。</p>\n<p>结果第二天打开工作 im ，发现老板给我留言批评我，说我过度包装了，让我把 monorepo 合回去，并且说“他以为可以分分钟给出去，最后他自己写了，这些功能几个文件就搞定了 balabala”，最后说这也不是什么大事，让我不要担心之类的</p>\n<p>我一直觉得我和老板脑回路对不上，平时他带了好几个组，所以不常会和他一起交流设计，但是一旦开始讨论，意见几乎必然相左。平时都是在设计的时候意见不一致，这次是实际发生的事情，一步一步有迹可循，所以我直接给他说了我为什么这么做</p>\n<p>昨天晚上他看到我的消息，还是说我做的不对，s 说我是在乱叠包装、杀蚊子用大炮，他自己写就几个文件，别人还可以改 balabala</p>\n<p>刚刚醒了看到他昨天晚上的消息，人有点麻，完全没办法沟通，去年跳槽就是希望去外企工作氛围能轻松一些，结果老板完全没办法沟通。</p>\n<p>总之我把我为什么这么做再详细讲了下，并且给他抗议他不经过我，直接扒代码，扒不出来就说我过度包装的行为，让他后续有这种例子叫上我</p>\n", "last_modified": 1685830381, "replies": 34, "id": 945593}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 204400, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3825, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 542219, "username": "ruoyutx", "url": "https://www.v2ex.com/u/ruoyutx", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/06cf315e82fa50ce1f2c5392e0f6cf63?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/06cf315e82fa50ce1f2c5392e0f6cf63?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/06cf315e82fa50ce1f2c5392e0f6cf63?s=73&d=retro", "created": 1618226522, "last_modified": 1618226522}, "last_reply_by": "hookybaby", "last_touched": 1685880409, "title": "ios+WeChat 组合每次点开都要转圈 1-2 分钟", "url": "https://www.v2ex.com/t/945599", "created": 1685839913, "deleted": 0, "content": "点开 app 就是连接中，获取中，算了下时间，足足两分钟。wechat 用户。严重影响使用。如若圈圈没有转完。你点扫码，是无网络情况下的。也就是无法扫码。这就蛋疼了。坐个车，师傅等了我两分钟扫码！\r\n\r\n另外你们用的微信还是 wechat ？有没有和我一样的情况。抛开网络文字，流量，wifi 都试过了\r\n\r\n转圈情况长年有，但是这两天敏感日子特别严重", "content_rendered": "<p>点开 app 就是连接中，获取中，算了下时间，足足两分钟。wechat 用户。严重影响使用。如若圈圈没有转完。你点扫码，是无网络情况下的。也就是无法扫码。这就蛋疼了。坐个车，师傅等了我两分钟扫码！</p>\n<p>另外你们用的微信还是 wechat ？有没有和我一样的情况。抛开网络文字，流量，wifi 都试过了</p>\n<p>转圈情况长年有，但是这两天敏感日子特别严重</p>\n", "last_modified": 1685839913, "replies": 33, "id": 945599}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 204400, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3825, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 585950, "username": "jonty", "url": "https://www.v2ex.com/u/jonty", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/b8ce/9f31/585950_mini.png?m=1679818273", "avatar_normal": "https://cdn.v2ex.com/avatar/b8ce/9f31/585950_normal.png?m=1679818273", "avatar_large": "https://cdn.v2ex.com/avatar/b8ce/9f31/585950_large.png?m=1679818273", "avatar_xlarge": "https://cdn.v2ex.com/avatar/b8ce/9f31/585950_xlarge.png?m=1679818273", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/b8ce/9f31/585950_xlarge.png?m=1679818273", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/b8ce/9f31/585950_xlarge.png?m=1679818273", "created": 1656146688, "last_modified": 1679818273}, "last_reply_by": "maplefz", "last_touched": 1685881627, "title": "想买一辆公路车", "url": "https://www.v2ex.com/t/945630", "created": 1685849060, "deleted": 0, "content": "1.用于通勤，上班大概 10 公里左右的路程\r\n2.周末休闲骑行健身\r\n3.希望对小白友好，不容易出现无法骑行问题，小毛病可以接受\r\n\r\n目前看下来有推荐斯特拉 95 ，希望价位最高不超过 4.5k 。本身对公路车各种组件都不熟悉，所以希望是能直接买到的整车，各位 V 友们有推荐的车型吗？", "content_rendered": "1.用于通勤，上班大概 10 公里左右的路程<br />2.周末休闲骑行健身<br />3.希望对小白友好，不容易出现无法骑行问题，小毛病可以接受<br /><br />目前看下来有推荐斯特拉 95 ，希望价位最高不超过 4.5k 。本身对公路车各种组件都不熟悉，所以希望是能直接买到的整车，各位 V 友们有推荐的车型吗？", "last_modified": 1685849060, "replies": 32, "id": 945630}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/f61d/6947/375_large.png?m=1658910399", "name": "go", "avatar_normal": "https://cdn.v2ex.com/navatar/f61d/6947/375_normal.png?m=1658910399", "title": "Go 编程语言", "url": "https://www.v2ex.com/go/go", "topics": 2666, "footer": "", "header": "Go 是一个开源的编程语言，它能让构造简单、可靠且高效的软件变得容易。", "title_alternative": "The Go Programming Language", "avatar_mini": "https://cdn.v2ex.com/navatar/f61d/6947/375_mini.png?m=1658910399", "stars": 3575, "aliases": [], "root": false, "id": 375, "parent_node_name": "programming"}, "member": {"id": 487962, "username": "RememberCurry", "url": "https://www.v2ex.com/u/RememberCurry", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/4d63af9fb7fa86940ca151eb3422ed62?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/4d63af9fb7fa86940ca151eb3422ed62?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/4d63af9fb7fa86940ca151eb3422ed62?s=73&d=retro", "created": 1588748942, "last_modified": 1685845251}, "last_reply_by": "mindddd", "last_touched": 1685883732, "title": "用 Go 基于 epoll 实现一个最小化 IO 库", "url": "https://www.v2ex.com/t/945616", "created": 1685845360, "deleted": 0, "content": "目前 Go 圈有很多款异步的网络框架:\r\n\r\n- https://github.com/tidwall/evio\r\n- https://github.com/lesismal/nbio\r\n- https://github.com/panjf2000/gnet\r\n- https://github.com/cloudwego/netpoll\r\n- .......\r\n\r\n排名不分先后。\r\n\r\n这里面最早的实现是 evio 。evio 也存在一些问题，之前也写过[evio]( https://www.syst.top/posts/go/evio/)文章介绍过。 其他比如 nbio 和 gnet 也写过一些源码分析。\r\n\r\n为什么会出现这些框架？之前也提到过，由于标准库 netpoll 的一些特性:\r\n\r\n- 一个 conn 一个 goroutine 导致利用率低\r\n- 用户无法感知 conn 状态\r\n- .....\r\n\r\n这些框架在应用层上做了很多优化，比如:Worker Pool,Buffer,Ring Buffer,NoCopy......。\r\n\r\n都分析了好几篇的代码了，那么咋么说也得自己动手搞一个来达成学习目的。\r\n\r\n没错，这就是[easyio]( https://github.com/wuqinqiang/easyio)的由来。\r\n\r\n它是一个最小化的 IO 框架，只实现最核心的部分，加起来不超过 500 行代码。\r\n\r\n也没有用户端上层应用的优化，且目前只实现了 linux 的 epoll ，以及只能运行 tcp 协议。\r\n\r\n\r\n\r\n简单的 demo ，\r\n\r\n服务端:\r\n\r\n```go\r\n\r\npackage main\r\n\r\nimport (\r\n\t\"context\"\r\n\t\"fmt\"\r\n\t\"os\"\r\n\t\"os/signal\"\r\n\t\"syscall\"\r\n\r\n\t\"github.com/wuqinqiang/easyio\"\r\n)\r\n\r\nvar _ easyio.EventHandler = (*Handler)(nil)\r\n\r\ntype Handler struct{}\r\n\r\ntype EasyioKey struct{}\r\n\r\ntype Message struct{ Msg string }\r\n\r\nvar CtxKey EasyioKey\r\n\r\nfunc (h Handler) OnOpen(c easyio.Conn) context.Context {\r\n\treturn context.WithValue(context.Background(), CtxKey, Message{Msg: \"helloword\"})\r\n}\r\n\r\nfunc (h Handler) OnRead(ctx context.Context, c easyio.Conn) {\r\n\t_, ok := ctx.Value(CtxKey).(Message)\r\n\tif !ok {\r\n\t\treturn\r\n\t}\r\n\tvar b = make([]byte, 100)\r\n\t_, err := c.Read(b)\r\n\tif err != nil {\r\n\t\tfmt.Println(\"err:\", err)\r\n\t}\r\n\tfmt.Println(\"[Handler] read data:\", string(b))\r\n\r\n\tif _, err = c.Write(b); err != nil {\r\n\t\tpanic(err)\r\n\t}\r\n}\r\n\r\nfunc (h Handler) OnClose(_ context.Context, c easyio.Conn) {\r\n\tfmt.Println(\"[Handler] closed\", c.Fd())\r\n}\r\n\r\nfunc main() {\r\n\te := easyio.New(\"tcp\", \":8090\",easyio.WithNumPoller(4), easyio.WithEventHandler(Handler{}))\r\n\r\n\tif err := e.Start(); err != nil {\r\n\t\tpanic(err)\r\n\t}\r\n\r\n\tdefer e.Stop()\r\n\r\n\tc := make(chan os.Signal, 1)\r\n\tsignal.Notify(c, syscall.SIGTERM, syscall.SIGQUIT, syscall.SIGINT)\r\n\t<-c\r\n}\r\n\r\n```\r\n\r\n上面的代码，初始化一个 easyio ，启动一个 tcp 服务，监听端口 8090 ，options 里面设置 epoll 的数量，以及设置事件处理器。\r\n\r\n当一个新连接到来时会回调 OnOpen 函数，此时你可以设置自定义的 ctx ，那么当对应连接读事件到来 OnRead 回调，你可以拿到之前设置的 ctx ，调用 conn.Read 读取数据，且通过 Write 向对端写数据。\r\n\r\n这里需要注意的是，一个连接如果数据没读完，当 OnRead 执行结束，下一轮会继续触发回调代码，因为底层 epoll 采用的是 LT 触发方式。\r\n\r\n\r\n\r\n简单的客户端\r\n\r\n```go\r\npackage main\r\n\r\nimport (\r\n\t\"fmt\"\r\n\t\"net\"\r\n\t\"os\"\r\n\t\"os/signal\"\r\n\t\"syscall\"\r\n)\r\n\r\nfunc main() {\r\n\tconn, err := net.Dial(\"tcp\", \":8090\")\r\n\tif err != nil {\r\n\t\tpanic(err)\r\n\t}\r\n\tn, err := conn.Write([]byte(\"hello world\"))\r\n\tif err != nil {\r\n\t\tpanic(err)\r\n\t}\r\n\r\n\tgo func() {\r\n\t\tb := make([]byte, 100)\r\n\t\tif n, err = conn.Read(b); err != nil {\r\n\t\t\tpanic(err)\r\n\t\t}\r\n\t\tfmt.Println(\"read data:\", n, string(b))\r\n\t}()\r\n\r\n\tdefer conn.Close()\r\n\r\n\tch := make(chan os.Signal, 1)\r\n\tsignal.Notify(ch, syscall.SIGHUP, syscall.SIGINT, syscall.SIGTERM, syscall.SIGQUIT)\r\n\r\n\t<-ch\r\n}\r\n```\r\n\r\n源码地址:https://github.com/wuqinqiang/easyio", "content_rendered": "<p>目前 Go 圈有很多款异步的网络框架:</p>\n<ul>\n<li><a href=\"https://github.com/tidwall/evio\" rel=\"nofollow\">https://github.com/tidwall/evio</a></li>\n<li><a href=\"https://github.com/lesismal/nbio\" rel=\"nofollow\">https://github.com/lesismal/nbio</a></li>\n<li><a href=\"https://github.com/panjf2000/gnet\" rel=\"nofollow\">https://github.com/panjf2000/gnet</a></li>\n<li><a href=\"https://github.com/cloudwego/netpoll\" rel=\"nofollow\">https://github.com/cloudwego/netpoll</a></li>\n<li>.......</li>\n</ul>\n<p>排名不分先后。</p>\n<p>这里面最早的实现是 evio 。evio 也存在一些问题，之前也写过<a href=\"https://www.syst.top/posts/go/evio/\" rel=\"nofollow\">evio</a>文章介绍过。 其他比如 nbio 和 gnet 也写过一些源码分析。</p>\n<p>为什么会出现这些框架？之前也提到过，由于标准库 netpoll 的一些特性:</p>\n<ul>\n<li>一个 conn 一个 goroutine 导致利用率低</li>\n<li>用户无法感知 conn 状态</li>\n<li>.....</li>\n</ul>\n<p>这些框架在应用层上做了很多优化，比如:Worker Pool,Buffer,Ring Buffer,NoCopy......。</p>\n<p>都分析了好几篇的代码了，那么咋么说也得自己动手搞一个来达成学习目的。</p>\n<p>没错，这就是<a href=\"https://github.com/wuqinqiang/easyio\" rel=\"nofollow\">easyio</a>的由来。</p>\n<p>它是一个最小化的 IO 框架，只实现最核心的部分，加起来不超过 500 行代码。</p>\n<p>也没有用户端上层应用的优化，且目前只实现了 linux 的 epoll ，以及只能运行 tcp 协议。</p>\n<p>简单的 demo ，</p>\n<p>服务端:</p>\n<pre><code class=\"language-go\">\npackage main\n\nimport (\n\t\"context\"\n\t\"fmt\"\n\t\"os\"\n\t\"os/signal\"\n\t\"syscall\"\n\n\t\"github.com/wuqinqiang/easyio\"\n)\n\nvar _ easyio.EventHandler = (*Handler)(nil)\n\ntype Handler struct{}\n\ntype EasyioKey struct{}\n\ntype Message struct{ Msg string }\n\nvar CtxKey EasyioKey\n\nfunc (h Handler) OnOpen(c easyio.Conn) context.Context {\n\treturn context.WithValue(context.Background(), CtxKey, Message{Msg: \"helloword\"})\n}\n\nfunc (h Handler) OnRead(ctx context.Context, c easyio.Conn) {\n\t_, ok := ctx.Value(CtxKey).(Message)\n\tif !ok {\n\t\treturn\n\t}\n\tvar b = make([]byte, 100)\n\t_, err := c.Read(b)\n\tif err != nil {\n\t\tfmt.Println(\"err:\", err)\n\t}\n\tfmt.Println(\"[Handler] read data:\", string(b))\n\n\tif _, err = c.Write(b); err != nil {\n\t\tpanic(err)\n\t}\n}\n\nfunc (h Handler) OnClose(_ context.Context, c easyio.Conn) {\n\tfmt.Println(\"[Handler] closed\", c.Fd())\n}\n\nfunc main() {\n\te := easyio.New(\"tcp\", \":8090\",easyio.WithNumPoller(4), easyio.WithEventHandler(Handler{}))\n\n\tif err := e.Start(); err != nil {\n\t\tpanic(err)\n\t}\n\n\tdefer e.Stop()\n\n\tc := make(chan os.Signal, 1)\n\tsignal.Notify(c, syscall.SIGTERM, syscall.SIGQUIT, syscall.SIGINT)\n\t&lt;-c\n}\n\n</code></pre>\n<p>上面的代码，初始化一个 easyio ，启动一个 tcp 服务，监听端口 8090 ，options 里面设置 epoll 的数量，以及设置事件处理器。</p>\n<p>当一个新连接到来时会回调 OnOpen 函数，此时你可以设置自定义的 ctx ，那么当对应连接读事件到来 OnRead 回调，你可以拿到之前设置的 ctx ，调用 conn.Read 读取数据，且通过 Write 向对端写数据。</p>\n<p>这里需要注意的是，一个连接如果数据没读完，当 OnRead 执行结束，下一轮会继续触发回调代码，因为底层 epoll 采用的是 LT 触发方式。</p>\n<p>简单的客户端</p>\n<pre><code class=\"language-go\">package main\n\nimport (\n\t\"fmt\"\n\t\"net\"\n\t\"os\"\n\t\"os/signal\"\n\t\"syscall\"\n)\n\nfunc main() {\n\tconn, err := net.Dial(\"tcp\", \":8090\")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tn, err := conn.Write([]byte(\"hello world\"))\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\n\tgo func() {\n\t\tb := make([]byte, 100)\n\t\tif n, err = conn.Read(b); err != nil {\n\t\t\tpanic(err)\n\t\t}\n\t\tfmt.Println(\"read data:\", n, string(b))\n\t}()\n\n\tdefer conn.Close()\n\n\tch := make(chan os.Signal, 1)\n\tsignal.Notify(ch, syscall.SIGHUP, syscall.SIGINT, syscall.SIGTERM, syscall.SIGQUIT)\n\n\t&lt;-ch\n}\n</code></pre>\n<p>源码地址:<a href=\"https://github.com/wuqinqiang/easyio\" rel=\"nofollow\">https://github.com/wuqinqiang/easyio</a></p>\n", "last_modified": 1685845360, "replies": 31, "id": 945616}]