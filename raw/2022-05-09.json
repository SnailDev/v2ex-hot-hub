[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/093f/65e0/59_large.png?m=1615956453", "name": "random", "avatar_normal": "https://cdn.v2ex.com/navatar/093f/65e0/59_normal.png?m=1615956453", "title": "随想", "url": "https://www.v2ex.com/go/random", "topics": 3190, "footer": "", "header": "有的时候，可以停下来找找灵感，然后再继续。", "title_alternative": "Random", "avatar_mini": "https://cdn.v2ex.com/navatar/093f/65e0/59_mini.png?m=1615956453", "stars": 1030, "aliases": [], "root": false, "id": 59, "parent_node_name": "v2ex"}, "member": {"id": 553019, "username": "cocong", "url": "https://www.v2ex.com/u/cocong", "website": "cocong.cn", "twitter": "", "psn": "", "github": "hzh-cocong", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/63d3/f969/553019_mini.png?m=1644475572", "avatar_normal": "https://cdn.v2ex.com/avatar/63d3/f969/553019_normal.png?m=1644475572", "avatar_large": "https://cdn.v2ex.com/avatar/63d3/f969/553019_large.png?m=1644475572", "created": 1628573986, "last_modified": 1644475572}, "last_reply_by": "WeiYuanStudio", "last_touched": 1652069429, "title": "我这一生最大的愿望就是每天都能睡个好觉", "url": "https://www.v2ex.com/t/851523", "created": 1651987554, "deleted": 0, "content": "自从上了上学之后，感觉以前那种一觉醒来精神倍棒的睡眠越来越少了。不是被别人吵得睡不着，就是因为工作压力睡不着。\r\n\r\n最近挺迷茫的，我的目标是什么？直到昨天晚上，又被吵得睡不着，突然脑海灵光一闪，我找到了我这一生中奋斗的目标：每天都能睡个好觉。\r\n\r\n初看好像挺简单，甚至都不能算是个目标，但仔细分析，你会发现这很难很难。\r\n\r\n要睡个好觉，首先是要有一个安静的环境。在广州等一线城市，像城中村这种握手楼，想要睡个好觉可不容易。近些年回老家发现，老家也是越来越吵了。未来买房，你会发现，房子的隔音质量也是令人担忧，网上震楼器卖得火爆就是个最好的证明。所以你想要有一个安静的环境，要么选择买最顶层的楼，要么就买别墅。你说，这算不算是一个小目标？\r\n\r\n接着是工作压力，现在都流行 on call ，时不时来个 message ，真是让人精神紧张，但是你又不能关机，否则分分钟裁了你。解决的办法也能简单，那就是找一个钱多事少离家近的工作。你说，这算不算是一个小目标？\r\n\r\n我以前忙于工作，没有按时吃饭，最后得了胃炎，每天半夜三点准时被肚子痛醒。所以，想要睡一个好觉，还得有一个好身体。要想有一个好身体，除了每天的身体锻炼，过大的压力也是要极力避免的。最有效的方法就是储存足够的现金，干的不爽立马走人。你说，这算不算是一个小目标？\r\n\r\n其实一开始我是写了一千多字，回顾了一下这些年自己的种种不幸遭遇，最后发现太过于悲观了，就删了。", "content_rendered": "<p>自从上了上学之后，感觉以前那种一觉醒来精神倍棒的睡眠越来越少了。不是被别人吵得睡不着，就是因为工作压力睡不着。</p>\n<p>最近挺迷茫的，我的目标是什么？直到昨天晚上，又被吵得睡不着，突然脑海灵光一闪，我找到了我这一生中奋斗的目标：每天都能睡个好觉。</p>\n<p>初看好像挺简单，甚至都不能算是个目标，但仔细分析，你会发现这很难很难。</p>\n<p>要睡个好觉，首先是要有一个安静的环境。在广州等一线城市，像城中村这种握手楼，想要睡个好觉可不容易。近些年回老家发现，老家也是越来越吵了。未来买房，你会发现，房子的隔音质量也是令人担忧，网上震楼器卖得火爆就是个最好的证明。所以你想要有一个安静的环境，要么选择买最顶层的楼，要么就买别墅。你说，这算不算是一个小目标？</p>\n<p>接着是工作压力，现在都流行 on call ，时不时来个 message ，真是让人精神紧张，但是你又不能关机，否则分分钟裁了你。解决的办法也能简单，那就是找一个钱多事少离家近的工作。你说，这算不算是一个小目标？</p>\n<p>我以前忙于工作，没有按时吃饭，最后得了胃炎，每天半夜三点准时被肚子痛醒。所以，想要睡一个好觉，还得有一个好身体。要想有一个好身体，除了每天的身体锻炼，过大的压力也是要极力避免的。最有效的方法就是储存足够的现金，干的不爽立马走人。你说，这算不算是一个小目标？</p>\n<p>其实一开始我是写了一千多字，回顾了一下这些年自己的种种不幸遭遇，最后发现太过于悲观了，就删了。</p>\n", "last_modified": 1651994823, "replies": 144, "id": 851523}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 184483, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3469, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 493293, "username": "phub2020", "url": "https://www.v2ex.com/u/phub2020", "website": "wx：dG9yeWNvb2xlcnM=", "twitter": null, "psn": null, "github": null, "btc": null, "location": "0755", "tagline": "", "bio": "一名前端工程师&明亚保险经纪人\r\n欢迎V友咨询保险相关问题", "avatar_mini": "https://cdn.v2ex.com/gravatar/852aece087eb121a464d587342e49da0?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/852aece087eb121a464d587342e49da0?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/852aece087eb121a464d587342e49da0?s=73&d=retro", "created": 1591294850, "last_modified": 1591294850}, "last_reply_by": "Planarians", "last_touched": 1652077373, "title": "有一丝丝好奇，那么多人想 run，那爸妈怎么办？", "url": "https://www.v2ex.com/t/851678", "created": 1652064534, "deleted": 0, "content": "我偶尔也在想 run 这个问题，但是每次都会因为父母这个点就戛然而止。也比较好奇，站里 run 了的老哥，双方家长怎么处理比较好呀？", "content_rendered": "<p>我偶尔也在想 run 这个问题，但是每次都会因为父母这个点就戛然而止。也比较好奇，站里 run 了的老哥，双方家长怎么处理比较好呀？</p>\n", "last_modified": 1652064534, "replies": 90, "id": 851678}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/a3c6/5c29/108_large.png?m=1635654723", "name": "bb", "avatar_normal": "https://cdn.v2ex.com/navatar/a3c6/5c29/108_normal.png?m=1635654723", "title": "宽带症候群", "url": "https://www.v2ex.com/go/bb", "topics": 10731, "footer": "", "header": "网速很重要。比快更快。", "title_alternative": "Broadband Symptom Complex", "avatar_mini": "https://cdn.v2ex.com/navatar/a3c6/5c29/108_mini.png?m=1635654723", "stars": 5560, "aliases": [], "root": false, "id": 108, "parent_node_name": "geek"}, "member": {"id": 306242, "username": "z919126592", "url": "https://www.v2ex.com/u/z919126592", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/41f3/d4b3/306242_mini.png?m=1561795685", "avatar_normal": "https://cdn.v2ex.com/avatar/41f3/d4b3/306242_normal.png?m=1561795685", "avatar_large": "https://cdn.v2ex.com/avatar/41f3/d4b3/306242_large.png?m=1561795685", "created": 1522917899, "last_modified": 1561795685}, "last_reply_by": "XiaoBaiYa", "last_touched": 1652069856, "title": "福建泉州地区的白名单域名阻断", "url": "https://www.v2ex.com/t/851525", "created": 1651987643, "deleted": 0, "content": "坐标泉州主城区，测试如下： \r\n\r\n三网运营商 家宽 5G4G 流量均被干扰 \r\n\r\n只有域名白名单 无 IP 白名单\r\n\r\n除白名单域名外，所有解析到境外 ip 的域名都无法打开（测试过我手上没有被 GFW 墙也没有任何污染的域名，以及新买的.xyz 域均被 reset ，Telegram 网友测试只有.xyz 及.icu 域会被阻断，部分小众的.org 域不会被阻断，此情况我还未测试）\r\n\r\n无 DNS 污染 只有 sni 阻断 \r\n\r\nhttp 访问不会跳转到反诈页面，只会阻断 https 会 reset \r\n\r\n国内中转及 IPLC 可以正常翻墙 \r\n\r\nGithub CloudFlare 主域名 Spotify Hostloc Steam 等可以正常打开 \r\n\r\n除 http https 外的协议正常 包括 SSH \r\n\r\n干扰发生在各种端口上，不仅仅是 80 和 443\r\n\r\nCloudflare 的 ip 在套上域名后打开同样受阻断，workers.dev 无阻断\r\n\r\n\r\n梯子解决方案： \r\n\r\n使用 SS libev 的 AEAD 加密（ ip 连接） \r\n\r\nV2ray Websocket 无 tls 连接 \r\n\r\n国内中转（ IPLC ）", "content_rendered": "<p>坐标泉州主城区，测试如下： </p>\n<p>三网运营商 家宽 5G4G 流量均被干扰 </p>\n<p>只有域名白名单 无 IP 白名单</p>\n<p>除白名单域名外，所有解析到境外 ip 的域名都无法打开（测试过我手上没有被 GFW 墙也没有任何污染的域名，以及新买的.xyz 域均被 reset ，Telegram 网友测试只有.xyz 及.icu 域会被阻断，<a href=\"http://部分小众的.org\" rel=\"nofollow\">部分小众的.org</a> 域不会被阻断，此情况我还未测试）</p>\n<p>无 DNS 污染 只有 sni 阻断 </p>\n<p>http 访问不会跳转到反诈页面，只会阻断 https 会 reset </p>\n<p>国内中转及 IPLC 可以正常翻墙 </p>\n<p>Github CloudFlare 主域名 Spotify Hostloc Steam 等可以正常打开 </p>\n<p>除 http https 外的协议正常 包括 SSH </p>\n<p>干扰发生在各种端口上，不仅仅是 80 和 443</p>\n<p>Cloudflare 的 ip 在套上域名后打开同样受阻断，workers.dev 无阻断</p>\n<p>梯子解决方案： </p>\n<p>使用 SS libev 的 AEAD 加密（ ip 连接） </p>\n<p>V2ray Websocket 无 tls 连接 </p>\n<p>国内中转（ IPLC ）</p>\n", "last_modified": 1651987964, "replies": 84, "id": 851525}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1651385949", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1651385949", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 48655, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1651385949", "stars": 7808, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 32635, "username": "hutusi", "url": "https://www.v2ex.com/u/hutusi", "website": "https://hutusi.com", "twitter": "", "psn": "", "github": "hutusi", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/06c29ad279a4604b9e44e959154646ea?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/06c29ad279a4604b9e44e959154646ea?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/06c29ad279a4604b9e44e959154646ea?s=73&d=retro", "created": 1358612338, "last_modified": 1651997317}, "last_reply_by": "lookcos", "last_touched": 1652068104, "title": "程序员应该怎么写博客？", "url": "https://www.v2ex.com/t/851549", "created": 1651998478, "deleted": 0, "content": "最近因为上海疫情在家里封闭了五十天，因而有了较为充裕的时间，于是又开始打点博客站点，[把原来的评论系统改成了 giscus]( https://hutusi.com/articles/comment-via-giscus)。另外也认认真真写了些博客。\r\n\r\n这五十天写的博客有：\r\n\r\n- [我所理解的存在主义]( https://hutusi.com/articles/understanding-of-existentialism)\r\n- [自建博客 Nginx 基本配置]( https://hutusi.com/articles/nginx-configuration)\r\n- [学习邓小平的智慧]( https://hutusi.com/articles/wisdom-of-dengxiaoping)\r\n- [如何选择图书译本？]( https://hutusi.com/articles/good-translations)\r\n- [No.13: 周刊的周刊]( https://hutusi.com/articles/weekly-13)\r\n- [读书日，推荐些童话和小说]( https://hutusi.com/articles/some-good-fiction-books)\r\n\r\n\r\n我写的博客里，读书笔记比较多，好像也只有这个能写些有价值的东西。V 友里估计写博客的高手不在少数，因此在这里也想跟各位探讨下：怎么写高质量的博客？大家是如何坚持写博客的。\r\n\r\n居家封闭的日子特别无聊，也就是看书和写博客来打发工作以外的时间，以此来对抗这「荒诞世界」（参见「存在主义」那篇文章）的虚无和孤独。最后，还是引用我博客友链开头的话：\r\n\r\n写博客的人越来越少了，中文独立博客更少，因此有网友做了份 [「中文独立博客列表」]( https://github.com/timqian/chinese-independent-blogs) 的清单，来记录坚持独立博客的中文网友。独立博主就像是“互联网上的异乡者”（这个词借用先锋书店的 slogan: 大地上的异乡者），虽身处各地，彼此未必谋面，但大家都有共同的坚持和爱好。\r\n\r\n如果你也在坚持写博客，欢迎与我友链（可以在这里看关于我和博客的更多介绍： https://hutusi.com/about/ ），以此链接更多的志同道合者。", "content_rendered": "<p>最近因为上海疫情在家里封闭了五十天，因而有了较为充裕的时间，于是又开始打点博客站点，<a href=\"https://hutusi.com/articles/comment-via-giscus\" rel=\"nofollow\">把原来的评论系统改成了 giscus</a>。另外也认认真真写了些博客。</p>\n<p>这五十天写的博客有：</p>\n<ul>\n<li><a href=\"https://hutusi.com/articles/understanding-of-existentialism\" rel=\"nofollow\">我所理解的存在主义</a></li>\n<li><a href=\"https://hutusi.com/articles/nginx-configuration\" rel=\"nofollow\">自建博客 Nginx 基本配置</a></li>\n<li><a href=\"https://hutusi.com/articles/wisdom-of-dengxiaoping\" rel=\"nofollow\">学习邓小平的智慧</a></li>\n<li><a href=\"https://hutusi.com/articles/good-translations\" rel=\"nofollow\">如何选择图书译本？</a></li>\n<li><a href=\"https://hutusi.com/articles/weekly-13\" rel=\"nofollow\">No.13: 周刊的周刊</a></li>\n<li><a href=\"https://hutusi.com/articles/some-good-fiction-books\" rel=\"nofollow\">读书日，推荐些童话和小说</a></li>\n</ul>\n<p>我写的博客里，读书笔记比较多，好像也只有这个能写些有价值的东西。V 友里估计写博客的高手不在少数，因此在这里也想跟各位探讨下：怎么写高质量的博客？大家是如何坚持写博客的。</p>\n<p>居家封闭的日子特别无聊，也就是看书和写博客来打发工作以外的时间，以此来对抗这「荒诞世界」（参见「存在主义」那篇文章）的虚无和孤独。最后，还是引用我博客友链开头的话：</p>\n<p>写博客的人越来越少了，中文独立博客更少，因此有网友做了份 <a href=\"https://github.com/timqian/chinese-independent-blogs\" rel=\"nofollow\">「中文独立博客列表」</a> 的清单，来记录坚持独立博客的中文网友。独立博主就像是“互联网上的异乡者”（这个词借用先锋书店的 slogan: 大地上的异乡者），虽身处各地，彼此未必谋面，但大家都有共同的坚持和爱好。</p>\n<p>如果你也在坚持写博客，欢迎与我友链（可以在这里看关于我和博客的更多介绍： <a href=\"https://hutusi.com/about/\" rel=\"nofollow\">https://hutusi.com/about/</a> ），以此链接更多的志同道合者。</p>\n", "last_modified": 1651998584, "replies": 84, "id": 851549}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/38af/8613/176_large.png?m=1644885960", "name": "car", "avatar_normal": "https://cdn.v2ex.com/navatar/38af/8613/176_normal.png?m=1644885960", "title": "汽车", "url": "https://www.v2ex.com/go/car", "topics": 1298, "footer": "", "header": "关于买车、开车及汽车文化的技术讨论", "title_alternative": "Car", "avatar_mini": "https://cdn.v2ex.com/navatar/38af/8613/176_mini.png?m=1644885960", "stars": 1277, "aliases": [], "root": false, "id": 176, "parent_node_name": "life"}, "member": {"id": 467236, "username": "qwerty01446", "url": "https://www.v2ex.com/u/qwerty01446", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/5a13/eee1/467236_mini.png?m=1652017539", "avatar_normal": "https://cdn.v2ex.com/avatar/5a13/eee1/467236_normal.png?m=1652017539", "avatar_large": "https://cdn.v2ex.com/avatar/5a13/eee1/467236_large.png?m=1652017539", "created": 1580399144, "last_modified": 1652017539}, "last_reply_by": "qwerty01446", "last_touched": 1652068673, "title": "第一辆车的顾虑，希望 v 友给给意见。", "url": "https://www.v2ex.com/t/851591", "created": 1652017564, "deleted": 0, "content": "人在杭州，第一辆车，有蓝牌指标，老爸给的落地预算 120 万以内。\r\n\r\n品牌偏向：M Power 粉丝，奔驰保时捷特斯拉还行，奥迪完全无感。\r\n\r\n心路历程：去年 11 月底摇到的车牌，但一直没买车的需求，家里有 3 辆油车。今年桐庐（离杭州 1 小时车程）的别墅装好了，住的很舒服，萌生了买一辆车的念头，这样周五下班就可以开车去桐庐度假休息，周一早上开回来上班。\r\n\r\n目前犹豫的车型：X4M Competition 和 Model 3/Y Performance 。早上试驾了 X4M ，高架上开到 160KM/H ，作为一辆 SUV 完全没有失控感，给人的信心很强，完全可以掌控住，油门也没踩到底，动力还是源源不断的。本以为这就是想要的车了，晚上去来福士试驾了 Model 3P ，好家伙，完全不输 X4M 的加速和驾驶感受，让我这个 Bimmer 产生了动摇 hhh ，因为车价可以省一半，而且一年还能剩 4 万的保养费+油费。很纠结，所以来问问 V 友，有没有前人的经验。", "content_rendered": "人在杭州，第一辆车，有蓝牌指标，老爸给的落地预算 120 万以内。<br /><br />品牌偏向：M Power 粉丝，奔驰保时捷特斯拉还行，奥迪完全无感。<br /><br />心路历程：去年 11 月底摇到的车牌，但一直没买车的需求，家里有 3 辆油车。今年桐庐（离杭州 1 小时车程）的别墅装好了，住的很舒服，萌生了买一辆车的念头，这样周五下班就可以开车去桐庐度假休息，周一早上开回来上班。<br /><br />目前犹豫的车型：X4M Competition 和 Model 3/Y Performance 。早上试驾了 X4M ，高架上开到 160KM/H ，作为一辆 SUV 完全没有失控感，给人的信心很强，完全可以掌控住，油门也没踩到底，动力还是源源不断的。本以为这就是想要的车了，晚上去来福士试驾了 Model 3P ，好家伙，完全不输 X4M 的加速和驾驶感受，让我这个 Bimmer 产生了动摇 hhh ，因为车价可以省一半，而且一年还能剩 4 万的保养费+油费。很纠结，所以来问问 V 友，有没有前人的经验。", "last_modified": 1652017564, "replies": 80, "id": 851591}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/b6d7/67d2/22_large.png?m=1649080598", "name": "macos", "avatar_normal": "https://cdn.v2ex.com/navatar/b6d7/67d2/22_normal.png?m=1649080598", "title": "macOS", "url": "https://www.v2ex.com/go/macos", "topics": 18386, "footer": "<a href=\"/mbp\">MacBook Pro</a> 及 <a href=\"/go/imac\">iMac</a> 等 <a href=\"/go/apple\">Apple</a> 公司设计的计算机所运行的操作系统。<a href=\"/go/idev\">iOS</a> 的基础。", "header": "The world’s most advanced desktop operating system.", "title_alternative": "macOS", "avatar_mini": "https://cdn.v2ex.com/navatar/b6d7/67d2/22_mini.png?m=1649080598", "stars": 4614, "aliases": [], "root": false, "id": 22, "parent_node_name": "os"}, "member": {"id": 327172, "username": "ripperhe", "url": "https://www.v2ex.com/u/ripperhe", "website": "ripperhe.com", "twitter": "", "psn": "", "github": "ripperhe", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/1320/45ce/327172_mini.png?m=1647263925", "avatar_normal": "https://cdn.v2ex.com/avatar/1320/45ce/327172_normal.png?m=1647263925", "avatar_large": "https://cdn.v2ex.com/avatar/1320/45ce/327172_large.png?m=1647263925", "avatar_xlarge": "https://cdn.v2ex.com/avatar/1320/45ce/327172_xlarge.png?m=1647263925", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/1320/45ce/327172_xlarge.png?m=1647263925", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/1320/45ce/327172_xlarge.png?m=1647263925", "created": 1530786540, "last_modified": 1647263925}, "last_reply_by": "excitedXXX", "last_touched": 1652066900, "title": "Bob 0.9.0 版本发布，独立 OCR 来啦 🎉", "url": "https://www.v2ex.com/t/851543", "created": 1651997000, "deleted": 0, "content": "Bob 独立 OCR 功能来啦！🎉🎉🎉\r\n\r\n虽然也可以用「截图翻译」充当 OCR 的作用，不过「 OCR 功能」专注于图片文本识别，新开一个独立的窗口，在排版和多图识别等方面都会更有优势。😬 据我所知，有不少用户压根就是把 Bob 当 OCR 在用，现在好了，你可以直接用「 OCR 功能」了。\r\n\r\n## 核心功能\r\n\r\n**截图识别**\r\n\r\n* 按下「截图 OCR 」快捷键（默认 `⇧ + ⌥ + S`）或者点击菜单栏 Bob 图标菜单中的「截图 OCR 」\r\n* 选中屏幕上的对应的位置\r\n* 松手即可开始识别\r\n\r\n<img src=\"https://cdn.jsdelivr.net/gh/ripperhe/oss@master/2022/0507/snip_ocr.gif\" alt=\"截图 OCR\" width=660 />\r\n\r\n**访达选图识别**\r\n\r\n按下「访达选图 OCR 」快捷键（没有设置默认快捷键，可去「 Bob 偏好设置-OCR-OCR 设置」添加）或者点击菜单栏 Bob 图标菜单中的「访达选图 OCR 」。\r\n\r\n在弹出的访达窗口中选中对应的图片文件（可以一次性选中多张），点击右下角「开始识别」即可。\r\n\r\n<img src=\"https://cdn.jsdelivr.net/gh/ripperhe/oss@master/2022/0507/file_ocr.jpg\" alt=\"访达选图 OCR\" width=600 />\r\n\r\n**离线识别**\r\n\r\nBob 支持离线文本识别，不过需要在 macOS 11 以上的系统才可以使用。如果你的 macOS 系统版本较低，也不用担心，可以使用 Bob 内部集成的腾讯、百度、有道和谷歌等在线文本识别服务。\r\n\r\n**连续识别**\r\n\r\n如果需要连续识别多个位置的图片，可点击翻译窗口右下角的连续识别按钮（橙色即为开启状态），开启连续识别模式。开启之后，Bob 会将识别结果依次拼接在文本框内。\r\n\r\n**二维码识别**\r\n\r\nBob 可以自动识别图片中的二维码，此功能是默认开启的，可以在 OCR 窗口右上角的菜单里面关闭。\r\n\r\n**自动复制**\r\n\r\nBob 支持自动将 OCR 的识别结果复制到剪切板，此功能是默认开启的，可以在 OCR 窗口右上角的菜单里面关闭。\r\n\r\n**智能分段**\r\n\r\n为了更好的体验，Bob 自研了一套段落识别算法，尽最大努力还原段落状态，减少后期的修改成本。\r\n\r\n另外部分 OCR 服务商本身也自带段落识别的信息，我也将其保留下来了，大家可以自行选择使用 Bob 的算法还是 OCR 服务商的算法。\r\n\r\n## 更多\r\n\r\n更多 OCR 功能细节：\r\n\r\n<https://ripperhe.gitee.io/bob/#/general/quickstart/ocr>\r\n\r\n下载安装 Bob：\r\n\r\n<https://ripperhe.gitee.io/bob/#/general/quickstart/install>", "content_rendered": "<p>Bob 独立 OCR 功能来啦！🎉🎉🎉</p>\n<p>虽然也可以用「截图翻译」充当 OCR 的作用，不过「 OCR 功能」专注于图片文本识别，新开一个独立的窗口，在排版和多图识别等方面都会更有优势。😬 据我所知，有不少用户压根就是把 Bob 当 OCR 在用，现在好了，你可以直接用「 OCR 功能」了。</p>\n<h2>核心功能</h2>\n<p><strong>截图识别</strong></p>\n<ul>\n<li>按下「截图 OCR 」快捷键（默认 <code>⇧ + ⌥ + S</code>）或者点击菜单栏 Bob 图标菜单中的「截图 OCR 」</li>\n<li>选中屏幕上的对应的位置</li>\n<li>松手即可开始识别</li>\n</ul>\n<img alt=\"截图 OCR\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://cdn.jsdelivr.net/gh/ripperhe/oss@master/2022/0507/snip_ocr.gif\"/>\n<p><strong>访达选图识别</strong></p>\n<p>按下「访达选图 OCR 」快捷键（没有设置默认快捷键，可去「 Bob 偏好设置-OCR-OCR 设置」添加）或者点击菜单栏 Bob 图标菜单中的「访达选图 OCR 」。</p>\n<p>在弹出的访达窗口中选中对应的图片文件（可以一次性选中多张），点击右下角「开始识别」即可。</p>\n<img alt=\"访达选图 OCR\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://cdn.jsdelivr.net/gh/ripperhe/oss@master/2022/0507/file_ocr.jpg\"/>\n<p><strong>离线识别</strong></p>\n<p>Bob 支持离线文本识别，不过需要在 macOS 11 以上的系统才可以使用。如果你的 macOS 系统版本较低，也不用担心，可以使用 Bob 内部集成的腾讯、百度、有道和谷歌等在线文本识别服务。</p>\n<p><strong>连续识别</strong></p>\n<p>如果需要连续识别多个位置的图片，可点击翻译窗口右下角的连续识别按钮（橙色即为开启状态），开启连续识别模式。开启之后，Bob 会将识别结果依次拼接在文本框内。</p>\n<p><strong>二维码识别</strong></p>\n<p>Bob 可以自动识别图片中的二维码，此功能是默认开启的，可以在 OCR 窗口右上角的菜单里面关闭。</p>\n<p><strong>自动复制</strong></p>\n<p>Bob 支持自动将 OCR 的识别结果复制到剪切板，此功能是默认开启的，可以在 OCR 窗口右上角的菜单里面关闭。</p>\n<p><strong>智能分段</strong></p>\n<p>为了更好的体验，Bob 自研了一套段落识别算法，尽最大努力还原段落状态，减少后期的修改成本。</p>\n<p>另外部分 OCR 服务商本身也自带段落识别的信息，我也将其保留下来了，大家可以自行选择使用 Bob 的算法还是 OCR 服务商的算法。</p>\n<h2>更多</h2>\n<p>更多 OCR 功能细节：</p>\n<p><a href=\"https://ripperhe.gitee.io/bob/#/general/quickstart/ocr\" rel=\"nofollow\">https://ripperhe.gitee.io/bob/#/general/quickstart/ocr</a></p>\n<p>下载安装 Bob：</p>\n<p><a href=\"https://ripperhe.gitee.io/bob/#/general/quickstart/install\" rel=\"nofollow\">https://ripperhe.gitee.io/bob/#/general/quickstart/install</a></p>\n", "last_modified": 1651997000, "replies": 71, "id": 851543}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/d3d9/4468/10_large.png?m=1630643933", "name": "mbp", "avatar_normal": "https://cdn.v2ex.com/navatar/d3d9/4468/10_normal.png?m=1630643933", "title": "MacBook Pro", "url": "https://www.v2ex.com/go/mbp", "topics": 7981, "footer": "", "header": "State-of-the-art processors. All-new graphics. Breakthrough high-speed I/O. Three very big leaps forward.", "title_alternative": "MacBook Pro", "avatar_mini": "https://cdn.v2ex.com/navatar/d3d9/4468/10_mini.png?m=1630643933", "stars": 3098, "aliases": [], "root": false, "id": 10, "parent_node_name": "apple"}, "member": {"id": 375609, "username": "antfinworker", "url": "https://www.v2ex.com/u/antfinworker", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/059fcb85c97056ae0d62bde29c8e7bd2?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/059fcb85c97056ae0d62bde29c8e7bd2?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/059fcb85c97056ae0d62bde29c8e7bd2?s=73&d=retro", "created": 1546767043, "last_modified": 1546767043}, "last_reply_by": "zhch602", "last_touched": 1652067875, "title": "m1 mac ssd 寿命问题解决了吗?", "url": "https://www.v2ex.com/t/851563", "created": 1652006767, "deleted": 0, "content": "<pre>\r\nLocal Time is:                      Sun May  8 18:41:07 2022 CST\r\nCritical Warning:                   0x00\r\nTemperature:                        36 Celsius\r\nAvailable Spare:                    100%\r\nAvailable Spare Threshold:          99%\r\nPercentage Used:                    0%\r\nData Units Read:                    26,084,436 [13.3 TB]\r\nData Units Written:                 24,556,559 [12.5 TB]\r\nHost Read Commands:                 129,307,010\r\nHost Write Commands:                86,130,913\r\nController Busy Time:               0\r\nPower Cycles:                       189\r\nPower On Hours:                     74\r\nUnsafe Shutdowns:                   7\r\nMedia and Data Integrity Errors:    0\r\nError Information Log Entries:      0\r\n</pre>\r\n\r\n\r\n\r\n<pre>\r\nLocal Time is:                      Sun May  8 18:10:40 2022 CST\r\nSMART/Health Information (NVMe Log 0x02)\r\nCritical Warning:                   0x00\r\nTemperature:                        35 Celsius\r\nAvailable Spare:                    100%\r\nAvailable Spare Threshold:          99%\r\nPercentage Used:                    0%\r\nData Units Read:                    25,561,645 [13.0 TB]\r\nData Units Written:                 24,042,807 [12.3 TB]\r\nHost Read Commands:                 127,959,264\r\nHost Write Commands:                84,876,872\r\nController Busy Time:               0\r\nPower Cycles:                       189\r\nPower On Hours:                     74\r\nUnsafe Shutdowns:                   7\r\nMedia and Data Integrity Errors:    0\r\nError Information Log Entries:      0\r\n</pre>\r\n\r\n\r\n10 天 写入 12T 正常嘛...  刚观察了正常使用半小时 200G", "content_rendered": "<pre>Local Time is:                      Sun May  8 18:41:07 2022 CST\nCritical Warning:                   0x00\nTemperature:                        36 Celsius\nAvailable Spare:                    100%\nAvailable Spare Threshold:          99%\nPercentage Used:                    0%\nData Units Read:                    26,084,436 [13.3 TB]\nData Units Written:                 24,556,559 [12.5 TB]\nHost Read Commands:                 129,307,010\nHost Write Commands:                86,130,913\nController Busy Time:               0\nPower Cycles:                       189\nPower On Hours:                     74\nUnsafe Shutdowns:                   7\nMedia and Data Integrity Errors:    0\nError Information Log Entries:      0\n</pre>\n<pre>Local Time is:                      Sun May  8 18:10:40 2022 CST\nSMART/Health Information (NVMe Log 0x02)\nCritical Warning:                   0x00\nTemperature:                        35 Celsius\nAvailable Spare:                    100%\nAvailable Spare Threshold:          99%\nPercentage Used:                    0%\nData Units Read:                    25,561,645 [13.0 TB]\nData Units Written:                 24,042,807 [12.3 TB]\nHost Read Commands:                 127,959,264\nHost Write Commands:                84,876,872\nController Busy Time:               0\nPower Cycles:                       189\nPower On Hours:                     74\nUnsafe Shutdowns:                   7\nMedia and Data Integrity Errors:    0\nError Information Log Entries:      0\n</pre>\n<p>10 天 写入 12T 正常嘛...  刚观察了正常使用半小时 200G</p>\n", "last_modified": 1652007347, "replies": 64, "id": 851563}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 184483, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3469, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 251120, "username": "LxExExl", "url": "https://www.v2ex.com/u/LxExExl", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/3f95/618f/251120_mini.png?m=1643838644", "avatar_normal": "https://cdn.v2ex.com/avatar/3f95/618f/251120_normal.png?m=1643838644", "avatar_large": "https://cdn.v2ex.com/avatar/3f95/618f/251120_large.png?m=1643838644", "created": 1503883524, "last_modified": 1643838644}, "last_reply_by": "NeuroCat", "last_touched": 1652069429, "title": "读《枪炮，病菌与钢铁》前两章有感/疑", "url": "https://www.v2ex.com/t/851538", "created": 1651990813, "deleted": 0, "content": "之前在 V2 上搜集了很多 V 友推荐的书名，然后一顿操作猛如虎，京东上买了 30 多本书。准备今年开始每天晚上不玩手机，而是看书。\r\n\r\n还去宜家买了个书柜，买了 LED 灯带，买了装饰灯，营造了温馨的读书氛围。\r\n\r\n\r\n然后昨天意识到已经五月份了，买的书都还没读过，赶紧开始随机拿一本，定好计划，“明天一定好好读书”。\r\n\r\n\r\n今天到了。晚上看完勇士队比赛，沐浴更衣，捧起书开始读。\r\n\r\n\r\n这本书是大部头，但是语言并不晦涩。前沿还是挺吸引我的，”人类为什么会产生分化，不同大洲为什么产生不同的文明，为什么会有征服和被取代“。我回答不了这个问题，所以想读这本书。\r\n\r\n- 第一章：作者大概介绍了人类迁徙的历史（好家伙，几万年从非洲迁徙到亚欧大陆，澳洲和美洲）。\r\n- 第二章：是不同的环境造就了不同的文明，不同的发展方向。作者用波利尼西亚群岛群岛举的例子。这里我学到了一个地理 /历史常识：即波利尼西亚群岛竟然遍布那么广，整个赤道附近都被覆盖。古人也太能迁徙了。我愿意为波利尼西亚只是夏威夷群岛（在夏威夷的时候参观过“波利尼西亚”遗址，以为是当地文化）。甚至复活节岛，斐济岛这些都算。几乎覆盖了地球一圈。\r\n\r\n现在放下书，又觉得好像除了上面两条，也没“收获”其他的“知识”。那么问题来了：\r\n- 这本书是本历史书吗？\r\n- 这么厚的书慢慢看，好像收获并不多。我这样读完，也只是“打卡”，即使做笔记，做摘录，最后读完可能还是“打卡式阅读”。那么这种“打卡”有意义吗？\r\n- V 友们怎么看这本书？ 又怎么定位日常的非技术（目的不是为了掌握编程技能），非娱乐（不是莫欺少年穷的爽文）的阅读行为呢？", "content_rendered": "<p>之前在 V2 上搜集了很多 V 友推荐的书名，然后一顿操作猛如虎，京东上买了 30 多本书。准备今年开始每天晚上不玩手机，而是看书。</p>\n<p>还去宜家买了个书柜，买了 LED 灯带，买了装饰灯，营造了温馨的读书氛围。</p>\n<p>然后昨天意识到已经五月份了，买的书都还没读过，赶紧开始随机拿一本，定好计划，“明天一定好好读书”。</p>\n<p>今天到了。晚上看完勇士队比赛，沐浴更衣，捧起书开始读。</p>\n<p>这本书是大部头，但是语言并不晦涩。前沿还是挺吸引我的，”人类为什么会产生分化，不同大洲为什么产生不同的文明，为什么会有征服和被取代“。我回答不了这个问题，所以想读这本书。</p>\n<ul>\n<li>第一章：作者大概介绍了人类迁徙的历史（好家伙，几万年从非洲迁徙到亚欧大陆，澳洲和美洲）。</li>\n<li>第二章：是不同的环境造就了不同的文明，不同的发展方向。作者用波利尼西亚群岛群岛举的例子。这里我学到了一个地理 /历史常识：即波利尼西亚群岛竟然遍布那么广，整个赤道附近都被覆盖。古人也太能迁徙了。我愿意为波利尼西亚只是夏威夷群岛（在夏威夷的时候参观过“波利尼西亚”遗址，以为是当地文化）。甚至复活节岛，斐济岛这些都算。几乎覆盖了地球一圈。</li>\n</ul>\n<p>现在放下书，又觉得好像除了上面两条，也没“收获”其他的“知识”。那么问题来了：</p>\n<ul>\n<li>这本书是本历史书吗？</li>\n<li>这么厚的书慢慢看，好像收获并不多。我这样读完，也只是“打卡”，即使做笔记，做摘录，最后读完可能还是“打卡式阅读”。那么这种“打卡”有意义吗？</li>\n<li>V 友们怎么看这本书？ 又怎么定位日常的非技术（目的不是为了掌握编程技能），非娱乐（不是莫欺少年穷的爽文）的阅读行为呢？</li>\n</ul>\n", "last_modified": 1651990813, "replies": 58, "id": 851538}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1651385949", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1651385949", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 48655, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1651385949", "stars": 7808, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 2914, "username": "reorx", "url": "https://www.v2ex.com/u/reorx", "website": "https://reorx.com", "twitter": "novoreorx", "psn": "", "github": "reorx", "btc": "", "location": "", "tagline": "Digital Nomad", "bio": "So much to explore, so little time.", "avatar_mini": "https://cdn.v2ex.com/avatar/17eb/7ecc/2914_mini.png?m=1650117112", "avatar_normal": "https://cdn.v2ex.com/avatar/17eb/7ecc/2914_normal.png?m=1650117112", "avatar_large": "https://cdn.v2ex.com/avatar/17eb/7ecc/2914_large.png?m=1650117112", "created": 1289584660, "last_modified": 1650117112}, "last_reply_by": "nightwitch", "last_touched": 1652069605, "title": "我的 Vim 自动补全配置变迁史", "url": "https://www.v2ex.com/t/851564", "created": 1652007005, "deleted": 0, "content": "原文: https://reorx.com/blog/the-history-of-my-vim-completion-config/\r\n\r\n---\r\n\r\nVim 是我系统学习的第一个终端编辑器，从学生时代至今，我几乎每天都会使用到它（长时间写前端代码时除外）。\r\n\r\n自动补全（ auto completion ）大概是每个 Vim 用户在掌握了基本用法后，第一个想要进阶配置的功能。这篇文章记录了从 2017 年至今，我的 Vim 自动补全配置的每次变更，从中窥见 Vim 生态发展的一角，也纪念这些曾经给我带来过便利，最终在技术发展中被轮替的插件。\r\n\r\n## Before 2017\r\n\r\n2017 年我从 Vim 切换到 [Neovim]( https://neovim.io/)（下文简称 nvim ），除了增加 nvim 特殊的 `init.vim`，基本沿用了以往的配置和插件。\r\n\r\n彼时我使用的语言以 Python 为主，自动补全插件为 [jedi-vim]( https://github.com/davidhalter/jedi-vim)。\r\n\r\n我对 jedi-vim 的了解最早可以追溯到 2012 年，那时还没有 LSP 的概念。开发者们针对自己的需求，编写如语法增强、文档查看、自动补全等各类插件，非常零散。jedi-vim 对这些插件的功能进行了重构和集成，提供了开箱即用的统一解决方案，一经推出便广受好评，成为使用 Vim 进行 Python 开发的标配。在后来的十年里，它的初心始终不变，得到持续的维护并沿用至今。\r\n\r\n## 2017\r\n\r\n还是 2017 年，在切换到 nvim 后不久，我发现了 [deoplete]( https://github.com/Shougo/deoplete.nvim) 插件，经过一番尝试将 jedi-vim 替换成了 deoplete + deoplete-jedi 。\r\n\r\nCommit: [0760ba6f7d11526e38e15b36a0d1db8709834825]( https://github.com/reorx/dotfiles/commit/0760ba6f7d11526e38e15b36a0d1db8709834825)\r\n> **use deoplete, remove jedi-vim**\r\n> \r\n> *committed on Jun 28, 2017*\r\n\r\n```diff\r\n-Plug 'davidhalter/jedi-vim', { 'for': 'python' }\r\n+Plug 'Shougo/deoplete.nvim', { 'do': ':UpdateRemotePlugins' }\r\n+Plug 'zchee/deoplete-jedi', { 'for': 'python' }\r\n```\r\n\r\ndeoplete 的目标是提供一个通用的异步自动补全框架，这在设计理念上是一个巨大的进步。jedi-vim 虽然开箱即用，但却是一堆粘合在一起的 spaghetti code ，不仅随着项目功能的增加变得越发庞大和迟缓（这是我想要离开 jedi-vim 的主要原因，文件一大各种操作都变得肉眼可见的慢），代码的可读性也非常糟糕，难以维护和参与。而 deoplete 本身并不提供针对任何语言的分析能力，只专注于与 nvim 的整合和 completion source 的调度，并且利用 nvim 的异步功能（后来 vim 8 也推出了自己的 async 接口），大大提升了补全的流畅度。\r\n\r\n但 deoplete 也有着自身的局限性。首先配置变得复杂且麻烦，用户得理解其架构和设计，学会如何通过 deoplete 对接编程语言的 completion source 。为了使检查结果的提示贴合自己的使用习惯，还要再去学习 completion source 的配置，每个语言的实现不同，配置也不一样。\r\n\r\n> 当时我却没有料到，配置复杂的问题在 LSP 时代不仅没能得到解决，反而变本加厉，直到本文完成时也依旧是使用者的巨大痛点\r\n\r\ndeoplete 的第二个问题是，它只专注在 completion ，缺少对于 go to definition 和显示 function siguature 等功能的支持，这对于从 jedi-vim 的 all-in-one 体验切换过来的我，显然是个巨大的落差。好在我找到了其他插件来解决这些问题。\r\n\r\n对于 “go to definition”，通过装回 jedi-vim 并打开无补全模式可以解决。这样既可以使用 jedi 提供的 go to definition 等辅助功能，也不会与 deoplete 的补全产生冲突。\r\n\r\n```vim\r\nPlug 'davidhalter/jedi-vim', { 'for': 'python' }\r\n\r\n\" jedi (only for go to definition)\r\nlet g:jedi#completions_enabled = 0\r\n```\r\n\r\n对于 “function signature”，我找到了 deoplete 作者的另一个插件 [echodoc]( https://github.com/Shougo/echodoc.vim) 来实现。它将函数的签名信息显示在 cmd 区域，规避了 deoplete 占用 `completeopt` 导致编辑界面无法显示补全菜单以外的其他信息的问题。\r\n\r\n```vim\r\nPlug 'Shougo/echodoc.vim'\r\n\r\n\" echodoc\r\nset noshowmode\r\nlet g:echodoc#enable_at_startup=1\r\n```\r\n\r\n## 2018\r\n\r\n2018 年是里程碑式的一年，[Language Server Protocol]( https://microsoft.github.io/language-server-protocol/) 的生态逐渐成熟，新的补全工具涌现。我对 LSP 感到相当兴奋和好奇，迫不及待地从 deoplete 更换到了对 LSP 有更好支持的 [ncm2]( https://github.com/ncm2/ncm2)。\r\n\r\nCommit: [7a1442c2334673ac17162c101663e220ef43a3c8]( https://github.com/reorx/dotfiles/commit/7a1442c2334673ac17162c101663e220ef43a3c8)\r\n> **nvim: update completion plugins (a lot!)**\r\n>\r\n> - move and reorg completion plugins definitions and configurations\r\n> - use LSP completion instead of deoplete\r\n> - remove eslint from ale_linters\r\n> - enable virtualenv display for airline\r\n> - still working on passing settings to pyls through LanguageClient-neovim\r\n>\r\n> *committed on Dec 7, 2018*\r\n\r\n```diff\r\n-Plug 'Shougo/deoplete.nvim', { 'do': ':UpdateRemotePlugins' }\r\n-Plug 'zchee/deoplete-jedi', { 'for': 'python' }\r\n+Plug 'ervandew/supertab'\r\n+Plug 'ncm2/ncm2'\r\n+Plug 'roxma/nvim-yarp'\r\n+Plug 'autozimu/LanguageClient-neovim', { 'branch': 'next', 'do': 'bash install.sh', }\r\n```\r\n\r\n从设计理念上看，ncm2 与 deoplete 并无差别，都是通用的异步自动补全框架，唯有与[静态分析]( https://en.wikipedia.org/wiki/Static_program_analysis)器的集成方式不同，deoplete 是自己的私有协议，ncm2 则拥抱了更加通用的业界标准 LSP 。\r\n\r\n我为 deoplete 的作者感到惋惜，他在 LSP 还不够成熟的时期，自己设计了与静态分析器的集成协议，构建了一个完整的补全插件生态[^1]。还写了很多小巧实用的插件，代码也非常优美，让人感到赏心悦目。但因为 LSP 的发展和新一代更加 LSP native 的补全插件的涌现，它已不再是当下的第一选择，势必因为历史包袱而逐渐被淘汰。\r\n\r\n说回 ncm2 ，其实它也有许多瑕疵，印象中配置过程比 deoplete 还要痛苦，但当时已经是让 nvim 用上 LSP 的最好插件了。之后我对 JetBrains 和 VSCode 的使用频率变高，疏于对 nvim 插件的持续跟进，ncm2 于是一直服役到 2021 年。\r\n\r\nncm2 出现后没过多久，[coc]( https://github.com/neoclide/coc.nvim) 也诞生了，在 2019 年成为最受人关注的 vim 补全插件，国内也看到很多文章（似乎作者就是国内开发者）。当时我简单了解后因为它是 nodejs 实现的，就放弃了尝试的念头。开玩笑，jedi 这么一大坨 Python 就慢成这样，nodejs 岂不是更糟糕吗。没想到 coc 一直流行到现在，这似乎再次证明了一个论点，即易用和功能全面才是软件流行的第一因素，无论它的实现有多么不优雅、效率有多么低，只要是能用的、可接受的就行，用户在使用体验上得到满足后，对于小问题的容忍度是相当高的。\r\n\r\n## 2021\r\n\r\n2021 年的某一天，因为 ncm2 长期存在的一个小问题（现在已经忘了），我一气之下再次打开了 deoplete 的项目页面，惊喜地发现它已经完善了对 LSP 的支持，于是立刻就开始迁移，换回了我更欣赏且代码品质更胜一筹的 deoplete 。\r\n\r\nCommit: [cd044fcda603ad5b9ee16bd4d7d7873c9ade9a31]( https://github.com/reorx/dotfiles/commit/cd044fcda603ad5b9ee16bd4d7d7873c9ade9a31)\r\n> **nvim: rework on languageserver & python completion**\r\n>\r\n> *committed on Mar 26, 2021*\r\n\r\n```diff\r\n-Plug 'ervandew/supertab'\r\n-Plug 'ncm2/ncm2'\r\n-Plug 'roxma/nvim-yarp'\r\n-Plug 'autozimu/LanguageClient-neovim', { 'branch': 'next', 'do': 'bash install.sh',\r\n+Plug 'Shougo/deoplete.nvim', { 'do': ':UpdateRemotePlugins' }\r\n+Plug 'prabirshrestha/vim-lsp'\r\n+Plug 'mattn/vim-lsp-settings'\r\n+Plug 'lighttiger2505/deoplete-vim-lsp'\r\n```\r\n\r\n这次变更除了换回 deoplete ，还去掉了陪伴多年的 supertab ，在抄了一段看不懂的配置后，实现了我更为习惯的 tab 键触发补全的方式。\r\n\r\n## 2022\r\n\r\n在咖啡馆结束了一天的主要工作后，看着好友 [@iwendellsun]( https://github.com/xwjdsh) 流畅的 vim 操作，我问起了它的 nvim 自动补全配置，果然有许多我从未听过的东西。于是趁此机会赶紧向他请教，在他的指导下完成了 2022 年的配置升级。\r\n\r\nCommit: [3de43d030ca40b498911c6752a7396af38202fe6]( https://github.com/reorx/dotfiles/commit/3de43d030ca40b498911c6752a7396af38202fe6)\r\n> **nvim: use nvim-cmp for completion**\r\n>\r\n> *committed on May 08, 2022*\r\n\r\n```diff\r\n-Plug 'Shougo/deoplete.nvim', { 'do': ':UpdateRemotePlugins' }\r\n-Plug 'prabirshrestha/vim-lsp'\r\n-Plug 'mattn/vim-lsp-settings'\r\n-Plug 'lighttiger2505/deoplete-vim-lsp'\r\n-Plug 'w0rp/ale'\r\n-Plug 'rhysd/vim-lsp-ale'\r\n+Plug 'williamboman/nvim-lsp-installer'\r\n+Plug 'neovim/nvim-lspconfig'\r\n+Plug 'hrsh7th/cmp-nvim-lsp'\r\n+Plug 'hrsh7th/cmp-buffer'\r\n+Plug 'hrsh7th/cmp-path'\r\n+Plug 'hrsh7th/cmp-cmdline'\r\n+Plug 'hrsh7th/nvim-cmp'\r\n```\r\n\r\n这次变更分以下几个方面：\r\n\r\n1. 补全框架从 deoplete 变为 [nvim-cmp]( https://github.com/hrsh7th/nvim-cmp)，我还没细看，不过据说它就是现在的 meta & state of the art.\r\n2. LSP 集成从 vim-lsp 换成了 nvim-lspconfig 。迟来的官方出品。\r\n3. 去掉了 ale 和 vim-lsp-ale 。nvim-cmp 可以将 LSP client 返回的错误提示直接在行内显示，不需要再依赖 ALE 这个 linter 框架了。\r\n4. Last but not least, 这些插件的配置语法几乎都是用 Lua 写的，这让用了 10 年 Vimscript 的我感到极度陌生和恐慌。\r\n\r\n相比之前的变更，这是唯一一次生搬硬套而非全部理解的，这次我主要是想快速上车，免得被社区发展抛在了后面，现在实在没有太多精力可以悠闲地慢慢尝试。虽然有人指导免去了初次上手的痛苦，但可以预见的是，想要让这套插件和我的编程习惯完美契合，还有许多坑等着我去折腾呢。\r\n\r\n\r\n**参考链接**:\r\n- [Setup | nvim-cmp]( https://github.com/hrsh7th/nvim-cmp#setup)\r\n    - [List of sources · hrsh7th/nvim-cmp Wiki]( https://github.com/hrsh7th/nvim-cmp/wiki/List-of-sources)\r\n    - [Example mappings · hrsh7th/nvim-cmp Wiki]( https://github.com/hrsh7th/nvim-cmp/wiki/Example-mappings)\r\n- [Default configuration | nvim-lsp-installer]( https://github.com/williamboman/nvim-lsp-installer#default-configuration)\r\n- [Server Configurations | nvim-lspconfig]( https://github.com/neovim/nvim-lspconfig/blob/master/doc/server_configurations.md)\r\n    - [pylsp]( https://github.com/neovim/nvim-lspconfig/blob/master/doc/server_configurations.md#pylsp)\r\n    - [pyright]( https://github.com/neovim/nvim-lspconfig/blob/master/doc/server_configurations.md#pyright)\r\n    - [gopls]( https://github.com/neovim/nvim-lspconfig/blob/master/doc/server_configurations.md#gopls)\r\n- [ray-x/lsp_signature.nvim: LSP signature hint as you type]( https://github.com/ray-x/lsp_signature.nvim)\r\n\r\n**参考配置**:\r\n- https://github.com/xwjdsh/dotfiles/blob/master/nvim1/lua/plugins.lua\r\n- https://github.com/Avimitin/nvim/blob/master/lua/plugins/load.lua\r\n\r\n## 结语\r\n\r\nVim 的 LSP 插件生态还有许多有待优化的空间，开发者们对生产力的追求是永无止境的，下一个 5 年编辑器的体验会有着怎样激动人心的变化，我对此充满期待。", "content_rendered": "<p>原文: <a href=\"https://reorx.com/blog/the-history-of-my-vim-completion-config/\" rel=\"nofollow\">https://reorx.com/blog/the-history-of-my-vim-completion-config/</a></p>\n<hr/>\n<p>Vim 是我系统学习的第一个终端编辑器，从学生时代至今，我几乎每天都会使用到它（长时间写前端代码时除外）。</p>\n<p>自动补全（ auto completion ）大概是每个 Vim 用户在掌握了基本用法后，第一个想要进阶配置的功能。这篇文章记录了从 2017 年至今，我的 Vim 自动补全配置的每次变更，从中窥见 Vim 生态发展的一角，也纪念这些曾经给我带来过便利，最终在技术发展中被轮替的插件。</p>\n<h2>Before 2017</h2>\n<p>2017 年我从 Vim 切换到 <a href=\"https://neovim.io/\" rel=\"nofollow\">Neovim</a>（下文简称 nvim ），除了增加 nvim 特殊的 <code>init.vim</code>，基本沿用了以往的配置和插件。</p>\n<p>彼时我使用的语言以 Python 为主，自动补全插件为 <a href=\"https://github.com/davidhalter/jedi-vim\" rel=\"nofollow\">jedi-vim</a>。</p>\n<p>我对 jedi-vim 的了解最早可以追溯到 2012 年，那时还没有 LSP 的概念。开发者们针对自己的需求，编写如语法增强、文档查看、自动补全等各类插件，非常零散。jedi-vim 对这些插件的功能进行了重构和集成，提供了开箱即用的统一解决方案，一经推出便广受好评，成为使用 Vim 进行 Python 开发的标配。在后来的十年里，它的初心始终不变，得到持续的维护并沿用至今。</p>\n<h2>2017</h2>\n<p>还是 2017 年，在切换到 nvim 后不久，我发现了 <a href=\"https://github.com/Shougo/deoplete.nvim\" rel=\"nofollow\">deoplete</a> 插件，经过一番尝试将 jedi-vim 替换成了 deoplete + deoplete-jedi 。</p>\n<p>Commit: <a href=\"https://github.com/reorx/dotfiles/commit/0760ba6f7d11526e38e15b36a0d1db8709834825\" rel=\"nofollow\">0760ba6f7d11526e38e15b36a0d1db8709834825</a></p>\n<blockquote>\n<p><strong>use deoplete, remove jedi-vim</strong></p>\n<p><em>committed on Jun 28, 2017</em></p>\n</blockquote>\n<pre><code class=\"language-diff\">-Plug 'davidhalter/jedi-vim', { 'for': 'python' }\n+Plug 'Shougo/deoplete.nvim', { 'do': ':UpdateRemotePlugins' }\n+Plug 'zchee/deoplete-jedi', { 'for': 'python' }\n</code></pre>\n<p>deoplete 的目标是提供一个通用的异步自动补全框架，这在设计理念上是一个巨大的进步。jedi-vim 虽然开箱即用，但却是一堆粘合在一起的 spaghetti code ，不仅随着项目功能的增加变得越发庞大和迟缓（这是我想要离开 jedi-vim 的主要原因，文件一大各种操作都变得肉眼可见的慢），代码的可读性也非常糟糕，难以维护和参与。而 deoplete 本身并不提供针对任何语言的分析能力，只专注于与 nvim 的整合和 completion source 的调度，并且利用 nvim 的异步功能（后来 vim 8 也推出了自己的 async 接口），大大提升了补全的流畅度。</p>\n<p>但 deoplete 也有着自身的局限性。首先配置变得复杂且麻烦，用户得理解其架构和设计，学会如何通过 deoplete 对接编程语言的 completion source 。为了使检查结果的提示贴合自己的使用习惯，还要再去学习 completion source 的配置，每个语言的实现不同，配置也不一样。</p>\n<blockquote>\n<p>当时我却没有料到，配置复杂的问题在 LSP 时代不仅没能得到解决，反而变本加厉，直到本文完成时也依旧是使用者的巨大痛点</p>\n</blockquote>\n<p>deoplete 的第二个问题是，它只专注在 completion ，缺少对于 go to definition 和显示 function siguature 等功能的支持，这对于从 jedi-vim 的 all-in-one 体验切换过来的我，显然是个巨大的落差。好在我找到了其他插件来解决这些问题。</p>\n<p>对于 “go to definition”，通过装回 jedi-vim 并打开无补全模式可以解决。这样既可以使用 jedi 提供的 go to definition 等辅助功能，也不会与 deoplete 的补全产生冲突。</p>\n<pre><code class=\"language-vim\">Plug 'davidhalter/jedi-vim', { 'for': 'python' }\n\n\" jedi (only for go to definition)\nlet g:jedi#completions_enabled = 0\n</code></pre>\n<p>对于 “function signature”，我找到了 deoplete 作者的另一个插件 <a href=\"https://github.com/Shougo/echodoc.vim\" rel=\"nofollow\">echodoc</a> 来实现。它将函数的签名信息显示在 cmd 区域，规避了 deoplete 占用 <code>completeopt</code> 导致编辑界面无法显示补全菜单以外的其他信息的问题。</p>\n<pre><code class=\"language-vim\">Plug 'Shougo/echodoc.vim'\n\n\" echodoc\nset noshowmode\nlet g:echodoc#enable_at_startup=1\n</code></pre>\n<h2>2018</h2>\n<p>2018 年是里程碑式的一年，<a href=\"https://microsoft.github.io/language-server-protocol/\" rel=\"nofollow\">Language Server Protocol</a> 的生态逐渐成熟，新的补全工具涌现。我对 LSP 感到相当兴奋和好奇，迫不及待地从 deoplete 更换到了对 LSP 有更好支持的 <a href=\"https://github.com/ncm2/ncm2\" rel=\"nofollow\">ncm2</a>。</p>\n<p>Commit: <a href=\"https://github.com/reorx/dotfiles/commit/7a1442c2334673ac17162c101663e220ef43a3c8\" rel=\"nofollow\">7a1442c2334673ac17162c101663e220ef43a3c8</a></p>\n<blockquote>\n<p><strong>nvim: update completion plugins (a lot!)</strong></p>\n<ul>\n<li>move and reorg completion plugins definitions and configurations</li>\n<li>use LSP completion instead of deoplete</li>\n<li>remove eslint from ale_linters</li>\n<li>enable virtualenv display for airline</li>\n<li>still working on passing settings to pyls through LanguageClient-neovim</li>\n</ul>\n<p><em>committed on Dec 7, 2018</em></p>\n</blockquote>\n<pre><code class=\"language-diff\">-Plug 'Shougo/deoplete.nvim', { 'do': ':UpdateRemotePlugins' }\n-Plug 'zchee/deoplete-jedi', { 'for': 'python' }\n+Plug 'ervandew/supertab'\n+Plug 'ncm2/ncm2'\n+Plug 'roxma/nvim-yarp'\n+Plug 'autozimu/LanguageClient-neovim', { 'branch': 'next', 'do': 'bash install.sh', }\n</code></pre>\n<p>从设计理念上看，ncm2 与 deoplete 并无差别，都是通用的异步自动补全框架，唯有与<a href=\"https://en.wikipedia.org/wiki/Static_program_analysis\" rel=\"nofollow\">静态分析</a>器的集成方式不同，deoplete 是自己的私有协议，ncm2 则拥抱了更加通用的业界标准 LSP 。</p>\n<p>我为 deoplete 的作者感到惋惜，他在 LSP 还不够成熟的时期，自己设计了与静态分析器的集成协议，构建了一个完整的补全插件生态[^1]。还写了很多小巧实用的插件，代码也非常优美，让人感到赏心悦目。但因为 LSP 的发展和新一代更加 LSP native 的补全插件的涌现，它已不再是当下的第一选择，势必因为历史包袱而逐渐被淘汰。</p>\n<p>说回 ncm2 ，其实它也有许多瑕疵，印象中配置过程比 deoplete 还要痛苦，但当时已经是让 nvim 用上 LSP 的最好插件了。之后我对 JetBrains 和 VSCode 的使用频率变高，疏于对 nvim 插件的持续跟进，ncm2 于是一直服役到 2021 年。</p>\n<p>ncm2 出现后没过多久，<a href=\"https://github.com/neoclide/coc.nvim\" rel=\"nofollow\">coc</a> 也诞生了，在 2019 年成为最受人关注的 vim 补全插件，国内也看到很多文章（似乎作者就是国内开发者）。当时我简单了解后因为它是 nodejs 实现的，就放弃了尝试的念头。开玩笑，jedi 这么一大坨 Python 就慢成这样，nodejs 岂不是更糟糕吗。没想到 coc 一直流行到现在，这似乎再次证明了一个论点，即易用和功能全面才是软件流行的第一因素，无论它的实现有多么不优雅、效率有多么低，只要是能用的、可接受的就行，用户在使用体验上得到满足后，对于小问题的容忍度是相当高的。</p>\n<h2>2021</h2>\n<p>2021 年的某一天，因为 ncm2 长期存在的一个小问题（现在已经忘了），我一气之下再次打开了 deoplete 的项目页面，惊喜地发现它已经完善了对 LSP 的支持，于是立刻就开始迁移，换回了我更欣赏且代码品质更胜一筹的 deoplete 。</p>\n<p>Commit: <a href=\"https://github.com/reorx/dotfiles/commit/cd044fcda603ad5b9ee16bd4d7d7873c9ade9a31\" rel=\"nofollow\">cd044fcda603ad5b9ee16bd4d7d7873c9ade9a31</a></p>\n<blockquote>\n<p><strong>nvim: rework on languageserver &amp; python completion</strong></p>\n<p><em>committed on Mar 26, 2021</em></p>\n</blockquote>\n<pre><code class=\"language-diff\">-Plug 'ervandew/supertab'\n-Plug 'ncm2/ncm2'\n-Plug 'roxma/nvim-yarp'\n-Plug 'autozimu/LanguageClient-neovim', { 'branch': 'next', 'do': 'bash install.sh',\n+Plug 'Shougo/deoplete.nvim', { 'do': ':UpdateRemotePlugins' }\n+Plug 'prabirshrestha/vim-lsp'\n+Plug 'mattn/vim-lsp-settings'\n+Plug 'lighttiger2505/deoplete-vim-lsp'\n</code></pre>\n<p>这次变更除了换回 deoplete ，还去掉了陪伴多年的 supertab ，在抄了一段看不懂的配置后，实现了我更为习惯的 tab 键触发补全的方式。</p>\n<h2>2022</h2>\n<p>在咖啡馆结束了一天的主要工作后，看着好友 <a href=\"https://github.com/xwjdsh\" rel=\"nofollow\">@iwendellsun</a> 流畅的 vim 操作，我问起了它的 nvim 自动补全配置，果然有许多我从未听过的东西。于是趁此机会赶紧向他请教，在他的指导下完成了 2022 年的配置升级。</p>\n<p>Commit: <a href=\"https://github.com/reorx/dotfiles/commit/3de43d030ca40b498911c6752a7396af38202fe6\" rel=\"nofollow\">3de43d030ca40b498911c6752a7396af38202fe6</a></p>\n<blockquote>\n<p><strong>nvim: use nvim-cmp for completion</strong></p>\n<p><em>committed on May 08, 2022</em></p>\n</blockquote>\n<pre><code class=\"language-diff\">-Plug 'Shougo/deoplete.nvim', { 'do': ':UpdateRemotePlugins' }\n-Plug 'prabirshrestha/vim-lsp'\n-Plug 'mattn/vim-lsp-settings'\n-Plug 'lighttiger2505/deoplete-vim-lsp'\n-Plug 'w0rp/ale'\n-Plug 'rhysd/vim-lsp-ale'\n+Plug 'williamboman/nvim-lsp-installer'\n+Plug 'neovim/nvim-lspconfig'\n+Plug 'hrsh7th/cmp-nvim-lsp'\n+Plug 'hrsh7th/cmp-buffer'\n+Plug 'hrsh7th/cmp-path'\n+Plug 'hrsh7th/cmp-cmdline'\n+Plug 'hrsh7th/nvim-cmp'\n</code></pre>\n<p>这次变更分以下几个方面：</p>\n<ol>\n<li>补全框架从 deoplete 变为 <a href=\"https://github.com/hrsh7th/nvim-cmp\" rel=\"nofollow\">nvim-cmp</a>，我还没细看，不过据说它就是现在的 meta &amp; state of the art.</li>\n<li>LSP 集成从 vim-lsp 换成了 nvim-lspconfig 。迟来的官方出品。</li>\n<li>去掉了 ale 和 vim-lsp-ale 。nvim-cmp 可以将 LSP client 返回的错误提示直接在行内显示，不需要再依赖 ALE 这个 linter 框架了。</li>\n<li>Last but not least, 这些插件的配置语法几乎都是用 Lua 写的，这让用了 10 年 Vimscript 的我感到极度陌生和恐慌。</li>\n</ol>\n<p>相比之前的变更，这是唯一一次生搬硬套而非全部理解的，这次我主要是想快速上车，免得被社区发展抛在了后面，现在实在没有太多精力可以悠闲地慢慢尝试。虽然有人指导免去了初次上手的痛苦，但可以预见的是，想要让这套插件和我的编程习惯完美契合，还有许多坑等着我去折腾呢。</p>\n<p><strong>参考链接</strong>:</p>\n<ul>\n<li>\n<a href=\"https://github.com/hrsh7th/nvim-cmp#setup\" rel=\"nofollow\">Setup | nvim-cmp</a><ul>\n<li><a href=\"https://github.com/hrsh7th/nvim-cmp/wiki/List-of-sources\" rel=\"nofollow\">List of sources · hrsh7th/nvim-cmp Wiki</a></li>\n<li><a href=\"https://github.com/hrsh7th/nvim-cmp/wiki/Example-mappings\" rel=\"nofollow\">Example mappings · hrsh7th/nvim-cmp Wiki</a></li>\n</ul>\n</li>\n<li><a href=\"https://github.com/williamboman/nvim-lsp-installer#default-configuration\" rel=\"nofollow\">Default configuration | nvim-lsp-installer</a></li>\n<li>\n<a href=\"https://github.com/neovim/nvim-lspconfig/blob/master/doc/server_configurations.md\" rel=\"nofollow\">Server Configurations | nvim-lspconfig</a><ul>\n<li><a href=\"https://github.com/neovim/nvim-lspconfig/blob/master/doc/server_configurations.md#pylsp\" rel=\"nofollow\">pylsp</a></li>\n<li><a href=\"https://github.com/neovim/nvim-lspconfig/blob/master/doc/server_configurations.md#pyright\" rel=\"nofollow\">pyright</a></li>\n<li><a href=\"https://github.com/neovim/nvim-lspconfig/blob/master/doc/server_configurations.md#gopls\" rel=\"nofollow\">gopls</a></li>\n</ul>\n</li>\n<li><a href=\"https://github.com/ray-x/lsp_signature.nvim\" rel=\"nofollow\">ray-x/lsp_signature.nvim: LSP signature hint as you type</a></li>\n</ul>\n<p><strong>参考配置</strong>:</p>\n<ul>\n<li><a href=\"https://github.com/xwjdsh/dotfiles/blob/master/nvim1/lua/plugins.lua\" rel=\"nofollow\">https://github.com/xwjdsh/dotfiles/blob/master/nvim1/lua/plugins.lua</a></li>\n<li><a href=\"https://github.com/Avimitin/nvim/blob/master/lua/plugins/load.lua\" rel=\"nofollow\">https://github.com/Avimitin/nvim/blob/master/lua/plugins/load.lua</a></li>\n</ul>\n<h2>结语</h2>\n<p>Vim 的 LSP 插件生态还有许多有待优化的空间，开发者们对生产力的追求是永无止境的，下一个 5 年编辑器的体验会有着怎样激动人心的变化，我对此充满期待。</p>\n", "last_modified": 1652007005, "replies": 56, "id": 851564}]