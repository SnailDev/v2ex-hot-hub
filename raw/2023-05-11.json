[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 4307, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785", "stars": 1117, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 542685, "username": "8eacekeep", "url": "https://www.v2ex.com/u/8eacekeep", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/d90f56d4cb82d502346e967a53c0e438?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/d90f56d4cb82d502346e967a53c0e438?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/d90f56d4cb82d502346e967a53c0e438?s=73&d=retro", "created": 1618540837, "last_modified": 1672743603}, "last_reply_by": "Daniel17", "last_touched": 1683783257, "title": "网贷真的有点可怕啊......", "url": "https://www.v2ex.com/t/938893", "created": 1683701159, "deleted": 0, "content": "一个发小，有五六年没联系过了，读书的时候经常在一起玩。\r\n\r\n前两天突然找到我，问我在干什么。\r\n\r\n我以为来找我叙叙旧的，就和他聊了聊。才知道他居然结婚了，甚至都有孩子了。\r\n\r\n当时就觉得有点隔阂了，这事儿都不通知我？？\r\n\r\n不过和他聊了聊近况后，倒是也没有啥其他想法了。\r\n\r\n然后。\r\n\r\n今天他突然联系我，让我帮他改下征信文件。\r\n\r\n然后发了我一份他征信的 pdf 。\r\n\r\n我打开一看，好多借款和逾期，信用卡都刷爆了十几张，车子都抵押出去了。\r\n\r\n我问他啥情况，他说之前借的太多，被他老婆知道了。\r\n\r\n他老婆从娘家拿了二十万帮他填上了。\r\n\r\n但是他现在又开始借，他老婆又察觉到了，要看他征信。\r\n\r\n所以找我帮他把征信里一些借款记录都删掉，留下一两个，好忽悠过去。\r\n\r\n我寻思帮他改改吧。\r\n\r\n然后我仔细一看，给我人看麻了。\r\n\r\n连五十块钱的网贷，他都借了。\r\n\r\n还有一堆一二百，二三百的网贷。\r\n\r\n像是能借全都去借了。\r\n\r\n粗略算一下，少说也欠了五十多个了。\r\n\r\n一时间有些唏嘘。\r\n\r\n印象中他不是这样的人。\r\n\r\n没想到几年不见，结婚了，有孩子了，人也变了。", "content_rendered": "<p>一个发小，有五六年没联系过了，读书的时候经常在一起玩。</p>\n<p>前两天突然找到我，问我在干什么。</p>\n<p>我以为来找我叙叙旧的，就和他聊了聊。才知道他居然结婚了，甚至都有孩子了。</p>\n<p>当时就觉得有点隔阂了，这事儿都不通知我？？</p>\n<p>不过和他聊了聊近况后，倒是也没有啥其他想法了。</p>\n<p>然后。</p>\n<p>今天他突然联系我，让我帮他改下征信文件。</p>\n<p>然后发了我一份他征信的 pdf 。</p>\n<p>我打开一看，好多借款和逾期，信用卡都刷爆了十几张，车子都抵押出去了。</p>\n<p>我问他啥情况，他说之前借的太多，被他老婆知道了。</p>\n<p>他老婆从娘家拿了二十万帮他填上了。</p>\n<p>但是他现在又开始借，他老婆又察觉到了，要看他征信。</p>\n<p>所以找我帮他把征信里一些借款记录都删掉，留下一两个，好忽悠过去。</p>\n<p>我寻思帮他改改吧。</p>\n<p>然后我仔细一看，给我人看麻了。</p>\n<p>连五十块钱的网贷，他都借了。</p>\n<p>还有一堆一二百，二三百的网贷。</p>\n<p>像是能借全都去借了。</p>\n<p>粗略算一下，少说也欠了五十多个了。</p>\n<p>一时间有些唏嘘。</p>\n<p>印象中他不是这样的人。</p>\n<p>没想到几年不见，结婚了，有孩子了，人也变了。</p>\n", "last_modified": 1683701159, "replies": 119, "id": 938893}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 202909, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3794, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 627095, "username": "kyokobunberry", "url": "https://www.v2ex.com/u/kyokobunberry", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/33b7/1cc4/627095_mini.png?m=1683704200", "avatar_normal": "https://cdn.v2ex.com/avatar/33b7/1cc4/627095_normal.png?m=1683704200", "avatar_large": "https://cdn.v2ex.com/avatar/33b7/1cc4/627095_large.png?m=1683704200", "avatar_xlarge": "https://cdn.v2ex.com/avatar/33b7/1cc4/627095_xlarge.png?m=1683704200", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/33b7/1cc4/627095_xlarge.png?m=1683704200", "created": 1683254096, "last_modified": 1683704200}, "last_reply_by": "zzz22333", "last_touched": 1683784579, "title": "有没有真正安全的匿名聊天工具？不用翻墙最好", "url": "https://www.v2ex.com/t/938900", "created": 1683701928, "deleted": 0, "content": "想联合小区业主建个维权群，有没有安全的、没办法追踪到本人的聊天工具？最好是不用翻墙的，因为考虑到很多邻居并不具备翻墙的能力。", "content_rendered": "想联合小区业主建个维权群，有没有安全的、没办法追踪到本人的聊天工具？最好是不用翻墙的，因为考虑到很多邻居并不具备翻墙的能力。", "last_modified": 1683702194, "replies": 118, "id": 938900}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 4307, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785", "stars": 1117, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 312169, "username": "kaiseryang", "url": "https://www.v2ex.com/u/kaiseryang", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/97942b14f144788878e87e9cd6755586?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/97942b14f144788878e87e9cd6755586?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/97942b14f144788878e87e9cd6755586?s=73&d=retro", "created": 1524807628, "last_modified": 1524807628}, "last_reply_by": "Uplay", "last_touched": 1683785217, "title": "如果不考虑生活成本，大家最想居住的城市是哪里", "url": "https://www.v2ex.com/t/939083", "created": 1683768996, "deleted": 0, "content": "", "content_rendered": "", "last_modified": 1683768996, "replies": 96, "id": 939083}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 202909, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3794, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 439019, "username": "iPhone11", "url": "https://www.v2ex.com/u/iPhone11", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/22f4282be66c71a126ed01146129d960?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/22f4282be66c71a126ed01146129d960?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/22f4282be66c71a126ed01146129d960?s=73&d=retro", "created": 1567281125, "last_modified": 1567281125}, "last_reply_by": "darknoll", "last_touched": 1683783844, "title": "有人科普 v.ps 和 xTom 老板郭秀峰的瓜吗?好奇 竟然能引起千人众怒 我记得老板也在 v2 就是 smms ipsb 的作者", "url": "https://www.v2ex.com/t/939029", "created": 1683727659, "deleted": 0, "content": "@Showfom  大佬 这怎么回事,你还上信号旗新闻了\r\n\r\n\r\n看评论区总结了下\r\n\r\n**主要歧视中国人**\r\n\r\n1.移民澳洲 不承认是中国人 并且不允许别人叫他中文名字 因现在有了英文名字\r\n\r\n2.黑五清退了所有中国用户,发现中国 IP 注册就封号\r\n\r\n3.Paypal 过 6 个月争议期再要求 KYC 实名认证水电单,不提供则封号\r\n\r\n4.不能说 v.ps 不好,否则拉黑封号\r\n\r\n5.言而无信,多人证据实锤\r\n\r\n# 下图来自 tg 评论区  我不是作者啊  我纯吃瓜群众 \r\n\r\n![image.png]( https://i.imgur.com/1sqz56f.png)\r\n\r\n![image.png]( https://openai-75050.gzc.vod.tencent-cloud.com/openaiassets_8b314e96d34076d9d857b41ab3a19edf.png)\r\n\r\n![image.png]( https://openai-75050.gzc.vod.tencent-cloud.com/openaiassets_9fa67a85e5e0f75d4842d9bdda0f4ed6.png)\r\n\r\n![image.png]( https://openai-75050.gzc.vod.tencent-cloud.com/openaiassets_6e3b5518ff1d7e538a0222b5df0855e8.png)\r\n\r\n![image.png]( https://openai-75050.gzc.vod.tencent-cloud.com/openaiassets_9382cb4cf85f51c9506fa22ea85cedd4.png)\r\n\r\n![image.png]( https://openai-75050.gzc.vod.tencent-cloud.com/openaiassets_7926a0163936104254be4e2b8280402a.png)\r\n\r\n\r\n![image.png]( https://openai-75050.gzc.vod.tencent-cloud.com/openaiassets_0ecffcfd2a33bc2798d493e8e1197e60.png)\r\n\r\n![image.png]( https://openai-75050.gzc.vod.tencent-cloud.com/openaiassets_bae78de6b75f82bf468ab1f1aab87210.png)\r\n![image.png]( https://openai-75050.gzc.vod.tencent-cloud.com/openaiassets_6a1e720a1fdb210896fac87b20d0c04b.png)\r\n\r\n\r\n\r\n\r\n# 还有很多不发了,太多了,感觉和不久前发生的宝马冰淇淋事件一个样,前几天的瓜我今晚才吃到,瓜田里乱跳的猹", "content_rendered": "<p>@<a href=\"/member/Showfom\">Showfom</a>  大佬 这怎么回事,你还上信号旗新闻了</p>\n<p>看评论区总结了下</p>\n<p><strong>主要歧视中国人</strong></p>\n<p>1.移民澳洲 不承认是中国人 并且不允许别人叫他中文名字 因现在有了英文名字</p>\n<p>2.黑五清退了所有中国用户,发现中国 IP 注册就封号</p>\n<p>3.Paypal 过 6 个月争议期再要求 KYC 实名认证水电单,不提供则封号</p>\n<p>4.不能说 <a href=\"http://v.ps\" rel=\"nofollow\">v.ps</a> 不好,否则拉黑封号</p>\n<p>5.言而无信,多人证据实锤</p>\n<h1>下图来自 tg 评论区  我不是作者啊  我纯吃瓜群众</h1>\n<p><img alt=\"image.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/1sqz56f.png\"/></p>\n<p><img alt=\"image.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://openai-75050.gzc.vod.tencent-cloud.com/openaiassets_8b314e96d34076d9d857b41ab3a19edf.png\"/></p>\n<p><img alt=\"image.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://openai-75050.gzc.vod.tencent-cloud.com/openaiassets_9fa67a85e5e0f75d4842d9bdda0f4ed6.png\"/></p>\n<p><img alt=\"image.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://openai-75050.gzc.vod.tencent-cloud.com/openaiassets_6e3b5518ff1d7e538a0222b5df0855e8.png\"/></p>\n<p><img alt=\"image.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://openai-75050.gzc.vod.tencent-cloud.com/openaiassets_9382cb4cf85f51c9506fa22ea85cedd4.png\"/></p>\n<p><img alt=\"image.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://openai-75050.gzc.vod.tencent-cloud.com/openaiassets_7926a0163936104254be4e2b8280402a.png\"/></p>\n<p><img alt=\"image.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://openai-75050.gzc.vod.tencent-cloud.com/openaiassets_0ecffcfd2a33bc2798d493e8e1197e60.png\"/></p>\n<p><img alt=\"image.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://openai-75050.gzc.vod.tencent-cloud.com/openaiassets_bae78de6b75f82bf468ab1f1aab87210.png\"/>\n<img alt=\"image.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://openai-75050.gzc.vod.tencent-cloud.com/openaiassets_6a1e720a1fdb210896fac87b20d0c04b.png\"/></p>\n<h1>还有很多不发了,太多了,感觉和不久前发生的宝马冰淇淋事件一个样,前几天的瓜我今晚才吃到,瓜田里乱跳的猹</h1>\n", "last_modified": 1683727659, "replies": 92, "id": 939029}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 202909, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3794, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 450458, "username": "klown", "url": "https://www.v2ex.com/u/klown", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/511c/c8a9/450458_mini.png?m=1589204747", "avatar_normal": "https://cdn.v2ex.com/avatar/511c/c8a9/450458_normal.png?m=1589204747", "avatar_large": "https://cdn.v2ex.com/avatar/511c/c8a9/450458_large.png?m=1589204747", "created": 1572524873, "last_modified": 1589204747}, "last_reply_by": "dinjufen", "last_touched": 1683785124, "title": "本人三线小牙医一枚，有什么牙齿或者口腔问题可以评论提问，有时间会过来给大家解答😄", "url": "https://www.v2ex.com/t/939058", "created": 1683735498, "deleted": 0, "content": "", "content_rendered": "", "last_modified": 1683735498, "replies": 88, "id": 939058}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 202909, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3794, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 516315, "username": "karatsuba", "url": "https://www.v2ex.com/u/karatsuba", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "苟且偷生的废物", "avatar_mini": "https://cdn.v2ex.com/avatar/f53d/1ea5/516315_mini.png?m=1683710765", "avatar_normal": "https://cdn.v2ex.com/avatar/f53d/1ea5/516315_normal.png?m=1683710765", "avatar_large": "https://cdn.v2ex.com/avatar/f53d/1ea5/516315_large.png?m=1683710765", "created": 1604656296, "last_modified": 1683710765}, "last_reply_by": "kemistep523", "last_touched": 1683784687, "title": "刷到热搜词条” #突然发现公积金已经是笔巨款“，大家有什么看法", "url": "https://www.v2ex.com/t/938910", "created": 1683703447, "deleted": 0, "content": "", "content_rendered": "", "last_modified": 1683703447, "replies": 84, "id": 938910}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c9e1/074f/104_large.png?m=1678761388", "name": "cloud", "avatar_normal": "https://cdn.v2ex.com/navatar/c9e1/074f/104_normal.png?m=1678761388", "title": "云计算", "url": "https://www.v2ex.com/go/cloud", "topics": 5056, "footer": "", "header": "关于云计算技术和平台的综合讨论区。", "title_alternative": "Cloud Computing", "avatar_mini": "https://cdn.v2ex.com/navatar/c9e1/074f/104_mini.png?m=1678761388", "stars": 3007, "aliases": [], "root": false, "id": 104, "parent_node_name": "webmaster"}, "member": {"id": 595319, "username": "MFWT", "url": "https://www.v2ex.com/u/MFWT", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/e8fd/8801/595319_mini.png?m=1679882347", "avatar_normal": "https://cdn.v2ex.com/avatar/e8fd/8801/595319_normal.png?m=1679882347", "avatar_large": "https://cdn.v2ex.com/avatar/e8fd/8801/595319_large.png?m=1679882347", "avatar_xlarge": "https://cdn.v2ex.com/avatar/e8fd/8801/595319_xlarge.png?m=1679882347", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/e8fd/8801/595319_xlarge.png?m=1679882347", "created": 1664105935, "last_modified": 1679882347}, "last_reply_by": "deplivesb", "last_touched": 1683784822, "title": "实录：公有云环境碰上 SSH 攻击的盛况", "url": "https://www.v2ex.com/t/939018", "created": 1683725627, "deleted": 0, "content": "## 背景\r\n香港主力加密代理小鸡，系统自带 Fail2Ban 。虽然说密码强度足够，也未泄露，而且机器对外只提供 SSH 登录和酸酸服务，炸了也不心疼  \r\n但是，还是感觉心里发毛，于是大约三天前上了密钥登录，关掉了密码登录  \r\n干完这件事之后，我一时兴起，决定看看登录日志，看看 SSH 失败登录的情况到底有多严重  \r\n不看不知道，一看吓一跳，只能说这机器活到现在，那个复杂的密码真的是辛苦他了.....\r\n\r\n## 简单统计\r\n统计周期：从 4/30 到今天（ 5/10 ），也就是十天左右的时间  \r\n1.  服务器记录了八万多行的登录日志，按平均一次登录尝试打 5 条 log 算，这十天遭受了**超过 1.5 万次**的 SSH 爆破\r\n2.  用 Python 做了脚本**（脚本在文末）**，简单分析了一下日志，导出并去重之后测出了**1644 个尝试用于登录的用户名**。这里从文件中列举几个常见的和不常见的：\r\n\r\n* 常见的：  \r\nroot 12345 abc aaa zzz user ftpuser ftpuser1 test nginx linux toor guest admin pi orangepi\r\n\r\n* 不常见的：  \r\njulia jon jvj jiankong miguel pablo riad niklas RYSN_zhongying matheus\r\n\r\n 还是那个日志，统计了连上来的**493 个 IP**，择取归属地数量前五的如下：\r\n>\r\n    us 99\r\n    cn 70\r\n    kr 48\r\n    au 33\r\n    de 25\r\n\r\n举两个例子，美国可能是因为 VPS 较为低价，人们大量购买（建站，加密代理之类的），但安全措施没有做足（简单用户名，简单密码，没有 Fail2Ban 等防护软件 —— 至于你说是不是 22 端口，我感觉关系不大，**毕竟 SSH 不防主动探测**，换个端口，可能消停两天又开始了），导致成为了别人的肉鸡\r\n\r\n至于中国 IP ，从具体属地等信息来看，不乏家宽 IP 。推测除了购买家宽代理之外，也有可能是用户电脑由于安装了各种流氓软件等等原因，成为了人家的肉鸡\r\n\r\n## 众生百态\r\n分析日志让人哑然失笑，此处列举几个登陆攻击的行为，与君共赏——\r\n\r\n### 这是不知所云（非 SSH 请求发到了 SSH 端口）\r\n>\r\n    sshd[895175]: error: kex_exchange_identification: banner line contains invalid characters\r\n    sshd[895175]: banner exchange: Connection from 213.*.*.98 port 64661: invalid format\r\n\r\n### 这是知难而退（服务器关闭了密码登录）\r\n>\r\n    sshd[894967]: Received disconnect from 134.*.*.178 port 58562:11: Bye Bye [preauth]\r\n    sshd[894967]: Disconnected from authenticating user root 134.*.*.178 port 58562 [preauth]\r\n    sshd[894969]: Received disconnect from 192.*.*.50 port 51560:11: Bye Bye [preauth]\r\n    sshd[894969]: Disconnected from authenticating user root 192.*.*.50 port 51560 [preauth]\r\n    sshd[894971]: Received disconnect from 200.*.*.234 port 51036:11: Bye Bye [preauth]\r\n    sshd[894971]: Disconnected from authenticating user root 200.*.*.234 port 51036 [preauth]\r\n\r\n### 这是爱如潮水（注意 IP 和时间）\r\n>\r\n    20:00:23 - sshd[895661]: Invalid user dockeradmin from 144.*.*.23 port 40902\r\n    20:00:23 - sshd[895666]: Invalid user ubnt from 144.*.*.23 port 40990\r\n    20:00:23 - sshd[895673]: Invalid user steam from 144.*.*.23 port 41008\r\n    .....\r\n    20:00:23 - sshd[895678]: Invalid user postgres from 144.*.*.23 port 40994\r\n    ......\r\n    20:00:23 - sshd[895659]: Connection closed by invalid user devops 144.*.*.23 port 40862 [preauth]\r\n    ......\r\n    20:00:23 - sshd[895668]: Connection closed by invalid user zjw 144.*.*.23 port 41004 [preauth]\r\n\r\n\r\n### 这是锲而不舍（同一用户名不同密码多次登录）\r\n>\r\n    sshd[912780]: Disconnecting authenticating user root 59.*.*.186 port 52862: Too many authentication failures [preauth]\r\n    sshd[912782]: error: maximum authentication attempts exceeded for root from 59.102.161.186 port 52911 ssh2 [preauth]\r\n\r\n\r\n### 这是老子！\r\n>\r\n    sshd[921821]: Accepted publickey for root from 2409:****:****:**** port 6**** ssh2: RSA SHA256:****....\r\n    sshd[921821]: pam_unix(sshd:session): session opened for user root(uid=0) by (uid=0)\r\n    systemd-logind[331]: New session **** of user root.\r\n\r\n\r\n## 后日谈\r\n我感觉，最根本的防止被爆破 SSH 成功的方法只有三个：\r\n\r\n1. 不允许非授权的 IP 连接\r\n2. 使用足够长的私钥（比如 4096Bit ）代替密码进行验证\r\n3. 不开放 SSH 登录端口（比如，通过 VPN 连入内网环境后再登录）\r\n\r\n虽然说这台机器只是酸酸机，但是鬼知道被爆破后会不会变成下一台肉鸡？\r\n世事难料，不如小心行船，方得万年平安  \r\n又或许，我可以允许任意用户名通过，然后连上来的用户都用 ASCII 播放一遍鸡你太美？\r\n\r\n后附统计脚本\r\n```python\r\n\r\nfilename = 'auth.log'\r\n\r\nfor line in open(filename, \"r\"):\r\n\r\n    if(line.find('sshd') == -1):\r\n        #非 SSHD 日志，跳过\r\n        continue\r\n\r\n    if(line.find('Invalid user') != -1):\r\n        #空格分隔后的日志，第五和第七位是用户名和 IP 信息\r\n        #实际检测请根据实际情况修改截断格式\r\n        print(line.split(\" \")[5] + \",\" + line.split(\" \")[7])\r\n\r\n\r\n```\r\n\r\n深山踏红叶，耳畔闻鹿鸣  \r\n全文完，感谢阅读", "content_rendered": "<h2>背景</h2>\n<p>香港主力加密代理小鸡，系统自带 Fail2Ban 。虽然说密码强度足够，也未泄露，而且机器对外只提供 SSH 登录和酸酸服务，炸了也不心疼<br/>\n但是，还是感觉心里发毛，于是大约三天前上了密钥登录，关掉了密码登录<br/>\n干完这件事之后，我一时兴起，决定看看登录日志，看看 SSH 失败登录的情况到底有多严重<br/>\n不看不知道，一看吓一跳，只能说这机器活到现在，那个复杂的密码真的是辛苦他了.....</p>\n<h2>简单统计</h2>\n<p>统计周期：从 4/30 到今天（ 5/10 ），也就是十天左右的时间  </p>\n<ol>\n<li>服务器记录了八万多行的登录日志，按平均一次登录尝试打 5 条 log 算，这十天遭受了<strong>超过 1.5 万次</strong>的 SSH 爆破</li>\n<li>用 Python 做了脚本<strong>（脚本在文末）</strong>，简单分析了一下日志，导出并去重之后测出了<strong>1644 个尝试用于登录的用户名</strong>。这里从文件中列举几个常见的和不常见的：</li>\n</ol>\n<ul>\n<li>\n<p>常见的：<br/>\nroot 12345 abc aaa zzz user ftpuser ftpuser1 test nginx linux toor guest admin pi orangepi</p>\n</li>\n<li>\n<p>不常见的：<br/>\njulia jon jvj jiankong miguel pablo riad niklas RYSN_zhongying matheus</p>\n</li>\n</ul>\n<p>还是那个日志，统计了连上来的<strong>493 个 IP</strong>，择取归属地数量前五的如下：</p>\n<blockquote>\n</blockquote>\n<pre><code>us 99\ncn 70\nkr 48\nau 33\nde 25\n</code></pre>\n<p>举两个例子，美国可能是因为 VPS 较为低价，人们大量购买（建站，加密代理之类的），但安全措施没有做足（简单用户名，简单密码，没有 Fail2Ban 等防护软件 —— 至于你说是不是 22 端口，我感觉关系不大，<strong>毕竟 SSH 不防主动探测</strong>，换个端口，可能消停两天又开始了），导致成为了别人的肉鸡</p>\n<p>至于中国 IP ，从具体属地等信息来看，不乏家宽 IP 。推测除了购买家宽代理之外，也有可能是用户电脑由于安装了各种流氓软件等等原因，成为了人家的肉鸡</p>\n<h2>众生百态</h2>\n<p>分析日志让人哑然失笑，此处列举几个登陆攻击的行为，与君共赏——</p>\n<h3>这是不知所云（非 SSH 请求发到了 SSH 端口）</h3>\n<blockquote>\n</blockquote>\n<pre><code>sshd[895175]: error: kex_exchange_identification: banner line contains invalid characters\nsshd[895175]: banner exchange: Connection from 213.*.*.98 port 64661: invalid format\n</code></pre>\n<h3>这是知难而退（服务器关闭了密码登录）</h3>\n<blockquote>\n</blockquote>\n<pre><code>sshd[894967]: Received disconnect from 134.*.*.178 port 58562:11: Bye Bye [preauth]\nsshd[894967]: Disconnected from authenticating user root 134.*.*.178 port 58562 [preauth]\nsshd[894969]: Received disconnect from 192.*.*.50 port 51560:11: Bye Bye [preauth]\nsshd[894969]: Disconnected from authenticating user root 192.*.*.50 port 51560 [preauth]\nsshd[894971]: Received disconnect from 200.*.*.234 port 51036:11: Bye Bye [preauth]\nsshd[894971]: Disconnected from authenticating user root 200.*.*.234 port 51036 [preauth]\n</code></pre>\n<h3>这是爱如潮水（注意 IP 和时间）</h3>\n<blockquote>\n</blockquote>\n<pre><code>20:00:23 - sshd[895661]: Invalid user dockeradmin from 144.*.*.23 port 40902\n20:00:23 - sshd[895666]: Invalid user ubnt from 144.*.*.23 port 40990\n20:00:23 - sshd[895673]: Invalid user steam from 144.*.*.23 port 41008\n.....\n20:00:23 - sshd[895678]: Invalid user postgres from 144.*.*.23 port 40994\n......\n20:00:23 - sshd[895659]: Connection closed by invalid user devops 144.*.*.23 port 40862 [preauth]\n......\n20:00:23 - sshd[895668]: Connection closed by invalid user zjw 144.*.*.23 port 41004 [preauth]\n</code></pre>\n<h3>这是锲而不舍（同一用户名不同密码多次登录）</h3>\n<blockquote>\n</blockquote>\n<pre><code>sshd[912780]: Disconnecting authenticating user root 59.*.*.186 port 52862: Too many authentication failures [preauth]\nsshd[912782]: error: maximum authentication attempts exceeded for root from 59.102.161.186 port 52911 ssh2 [preauth]\n</code></pre>\n<h3>这是老子！</h3>\n<blockquote>\n</blockquote>\n<pre><code>sshd[921821]: Accepted publickey for root from 2409:****:****:**** port 6**** ssh2: RSA SHA256:****....\nsshd[921821]: pam_unix(sshd:session): session opened for user root(uid=0) by (uid=0)\nsystemd-logind[331]: New session **** of user root.\n</code></pre>\n<h2>后日谈</h2>\n<p>我感觉，最根本的防止被爆破 SSH 成功的方法只有三个：</p>\n<ol>\n<li>不允许非授权的 IP 连接</li>\n<li>使用足够长的私钥（比如 4096Bit ）代替密码进行验证</li>\n<li>不开放 SSH 登录端口（比如，通过 VPN 连入内网环境后再登录）</li>\n</ol>\n<p>虽然说这台机器只是酸酸机，但是鬼知道被爆破后会不会变成下一台肉鸡？\n世事难料，不如小心行船，方得万年平安<br/>\n又或许，我可以允许任意用户名通过，然后连上来的用户都用 ASCII 播放一遍鸡你太美？</p>\n<p>后附统计脚本</p>\n<pre><code class=\"language-python\">\nfilename = 'auth.log'\n\nfor line in open(filename, \"r\"):\n\n    if(line.find('sshd') == -1):\n        #非 SSHD 日志，跳过\n        continue\n\n    if(line.find('Invalid user') != -1):\n        #空格分隔后的日志，第五和第七位是用户名和 IP 信息\n        #实际检测请根据实际情况修改截断格式\n        print(line.split(\" \")[5] + \",\" + line.split(\" \")[7])\n\n\n</code></pre>\n<p>深山踏红叶，耳畔闻鹿鸣<br/>\n全文完，感谢阅读</p>\n", "last_modified": 1683725627, "replies": 64, "id": 939018}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 202909, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3794, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 603199, "username": "DemianL", "url": "https://www.v2ex.com/u/DemianL", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/d13c/7de7/603199_mini.png?m=1675924798", "avatar_normal": "https://cdn.v2ex.com/avatar/d13c/7de7/603199_normal.png?m=1675924798", "avatar_large": "https://cdn.v2ex.com/avatar/d13c/7de7/603199_large.png?m=1675924798", "avatar_xlarge": "https://cdn.v2ex.com/avatar/d13c/7de7/603199_xlarge.png?m=1675924798", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/d13c/7de7/603199_xlarge.png?m=1675924798", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/d13c/7de7/603199_xlarge.png?m=1675924798", "created": 1669257173, "last_modified": 1675924798}, "last_reply_by": "3country", "last_touched": 1683784465, "title": "v 友们是用什么方式和心态处理不回消息的人呢？", "url": "https://www.v2ex.com/t/938891", "created": 1683701044, "deleted": 0, "content": "最明显的一种情况是期间对方发了朋友圈甚至还没屏蔽你 XD \r\n\r\n其他情况大概是隔几天及以上不回吧\r\n\r\n不讨论男女之间舔狗或者骚扰这些情况 就普通朋友或者同事\r\n\r\n要怎么应对呢", "content_rendered": "<p>最明显的一种情况是期间对方发了朋友圈甚至还没屏蔽你 XD </p>\n<p>其他情况大概是隔几天及以上不回吧</p>\n<p>不讨论男女之间舔狗或者骚扰这些情况 就普通朋友或者同事</p>\n<p>要怎么应对呢</p>\n", "last_modified": 1683701429, "replies": 61, "id": 938891}]