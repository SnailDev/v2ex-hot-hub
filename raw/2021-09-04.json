[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1630512279", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1630512279", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 45579, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1630512279", "stars": 7501, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"username": "wh469012917", "website": "", "github": null, "psn": null, "avatar_normal": "https://cdn.v2ex.com/avatar/5ac8/92d3/223472_mini.png?m=1582618569", "bio": "", "url": "https://www.v2ex.com/u/wh469012917", "tagline": "", "twitter": null, "created": 1490750893, "avatar_large": "https://cdn.v2ex.com/avatar/5ac8/92d3/223472_mini.png?m=1582618569", "avatar_mini": "https://cdn.v2ex.com/avatar/5ac8/92d3/223472_mini.png?m=1582618569", "location": "", "btc": null, "id": 223472}, "last_reply_by": "kuangwinnie", "last_touched": 1630639962, "title": "同事代码写的太烂了怎么办？", "url": "https://www.v2ex.com/t/799688", "created": 1630653759, "content": "### 1. 命名不规范\r\n一个项目中控制器命名能出现好几种变形，一个对的都没有：\r\n```\r\nUserContol 、UserControl 、UserContoler 、UserControler\r\n```\r\n包括模型也是：\r\n```\r\nUserMode 、UserModle 、UserModol\r\n```\r\n变量命名更是离谱，单字母和语言关键字乱用：\r\n```\r\na 、b 、c 、class 、string 、byte \r\n```\r\n\r\n再然后就是缩写和语意不符合的：\r\n1. context 缩写成 c\r\n2. UserImage 缩写成 ui\r\n3. template 写成了 temple\r\n\r\n数据表和模型名称不一样的：\r\n1. 表名叫做 user_rule, 模型名叫做 RuleUserModle\r\n2. 表名叫做 order_mgr，模型名叫做 OrderManageMode\r\n3. 表名叫做 order_manage，模型名叫做 OrderMgr\r\n\r\n因为命名不规范，他后面出现了很多删除 A 表的数据，却用了 B 表的模型来操作，导致错删～\r\n\r\n字段名称和值不统一的：\r\n1. 创建时间字段 creat_time 、create_time 、created 、created_time 每个表都不一样\r\n2. 而且值有保存时间戳，有的保存时间字符串\r\n\r\n### 2. 业务代码\r\n如果说命名混乱就算了，至少比较好改，但是业务实现也混乱：\r\n1. 没有任何封装概念，重复代码都是直接复制粘贴；没有任何分层的概念，控制器-模型一把梭过去，一个控制器方法 300 行起步\r\n2. getUserById(string username) 命名叫做通过 ID 查询用户，传入的参数却是 username\r\n3. getUserList() 命名叫做获取用户列表，返回值却是某一个特定条件的单个用户\r\n4. 所有的请求都不做参数验证，并且也不做逻辑验证。删除操作，都没判断用户是否有权限删除，直接给他删除了，删除了还不算，有些关联的数据不删除，这一下子就出现了一堆的脏数据\r\n5. 查询启用状态的用户列表，先把所有用户拉出来，然后在代码中遍历循环过滤禁用的用户\r\n\r\n### 3. 数据库设计\r\n数据库设计更混乱不多说了，就说几点：\r\n1. 关联的外键命名没有任何规范，全凭心情；比如订单表上正常情况下要有一个用户 id 字段(一般命名为 user_id)，他这个字段命名叫做 user_order，要么就是叫做 user_function，反正就是自己看得懂\r\n2. 以上好歹设计了外键，有些干脆不设计外键；用户收货地址表上，正常情况要有一个 user_id, 用来标记这个地址是哪个用户的；他直接在用户表上创建了一个 addres 的字段，然后把地址表的 ID 用逗号分隔拼接成字符串，保存到用户表上，每次查询用户地址列表都是取出来分割，然后一条条去查；删除就更暴力了，直接删除地址，用户表的 addres 字段都不更新\r\n3. orm 默认都支持维护数据的创建时间，以及数据的软删除; 但是他因为创建时间字段命名不规范，orm 默认维护的是 created_at 字段，他表设计是 creat_time，然后在模型中配置的字段又是 create_time，导致框架不会维护，于是就全部自己实现\r\n4. 数据软删除也是配置错误，然后自己代码中去维护，写的乱七八糟\r\n\r\n\r\n公司同事写的代码，是我这么多年来见到的最烂的代码，但是因为人家来的年限资历比较长，也不好意思去提这个事情，有没有啥好的办法，自己重构吗？", "content_rendered": "<h3>1. 命名不规范</h3>\n<p>一个项目中控制器命名能出现好几种变形，一个对的都没有：</p>\n<pre><code>UserContol 、UserControl 、UserContoler 、UserControler\n</code></pre>\n<p>包括模型也是：</p>\n<pre><code>UserMode 、UserModle 、UserModol\n</code></pre>\n<p>变量命名更是离谱，单字母和语言关键字乱用：</p>\n<pre><code>a 、b 、c 、class 、string 、byte \n</code></pre>\n<p>再然后就是缩写和语意不符合的：</p>\n<ol>\n<li>context 缩写成 c</li>\n<li>UserImage 缩写成 ui</li>\n<li>template 写成了 temple</li>\n</ol>\n<p>数据表和模型名称不一样的：</p>\n<ol>\n<li>表名叫做 user_rule, 模型名叫做 RuleUserModle</li>\n<li>表名叫做 order_mgr，模型名叫做 OrderManageMode</li>\n<li>表名叫做 order_manage，模型名叫做 OrderMgr</li>\n</ol>\n<p>因为命名不规范，他后面出现了很多删除 A 表的数据，却用了 B 表的模型来操作，导致错删～</p>\n<p>字段名称和值不统一的：</p>\n<ol>\n<li>创建时间字段 creat_time 、create_time 、created 、created_time 每个表都不一样</li>\n<li>而且值有保存时间戳，有的保存时间字符串</li>\n</ol>\n<h3>2. 业务代码</h3>\n<p>如果说命名混乱就算了，至少比较好改，但是业务实现也混乱：</p>\n<ol>\n<li>没有任何封装概念，重复代码都是直接复制粘贴；没有任何分层的概念，控制器-模型一把梭过去，一个控制器方法 300 行起步</li>\n<li>getUserById(string username) 命名叫做通过 ID 查询用户，传入的参数却是 username</li>\n<li>getUserList() 命名叫做获取用户列表，返回值却是某一个特定条件的单个用户</li>\n<li>所有的请求都不做参数验证，并且也不做逻辑验证。删除操作，都没判断用户是否有权限删除，直接给他删除了，删除了还不算，有些关联的数据不删除，这一下子就出现了一堆的脏数据</li>\n<li>查询启用状态的用户列表，先把所有用户拉出来，然后在代码中遍历循环过滤禁用的用户</li>\n</ol>\n<h3>3. 数据库设计</h3>\n<p>数据库设计更混乱不多说了，就说几点：</p>\n<ol>\n<li>关联的外键命名没有任何规范，全凭心情；比如订单表上正常情况下要有一个用户 id 字段(一般命名为 user_id)，他这个字段命名叫做 user_order，要么就是叫做 user_function，反正就是自己看得懂</li>\n<li>以上好歹设计了外键，有些干脆不设计外键；用户收货地址表上，正常情况要有一个 user_id, 用来标记这个地址是哪个用户的；他直接在用户表上创建了一个 addres 的字段，然后把地址表的 ID 用逗号分隔拼接成字符串，保存到用户表上，每次查询用户地址列表都是取出来分割，然后一条条去查；删除就更暴力了，直接删除地址，用户表的 addres 字段都不更新</li>\n<li>orm 默认都支持维护数据的创建时间，以及数据的软删除; 但是他因为创建时间字段命名不规范，orm 默认维护的是 created_at 字段，他表设计是 creat_time，然后在模型中配置的字段又是 create_time，导致框架不会维护，于是就全部自己实现</li>\n<li>数据软删除也是配置错误，然后自己代码中去维护，写的乱七八糟</li>\n</ol>\n<p>公司同事写的代码，是我这么多年来见到的最烂的代码，但是因为人家来的年限资历比较长，也不好意思去提这个事情，有没有啥好的办法，自己重构吗？</p>\n", "last_modified": 1630653759, "replies": 93, "id": 799688}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/093f/65e0/59_large.png?m=1615956453", "name": "random", "avatar_normal": "https://cdn.v2ex.com/navatar/093f/65e0/59_normal.png?m=1615956453", "title": "随想", "url": "https://www.v2ex.com/go/random", "topics": 2984, "footer": "", "header": "有的时候，可以停下来找找灵感，然后再继续。", "title_alternative": "Random", "avatar_mini": "https://cdn.v2ex.com/navatar/093f/65e0/59_mini.png?m=1615956453", "stars": 960, "aliases": [], "root": false, "id": 59, "parent_node_name": "v2ex"}, "member": {"username": "wangyikai", "website": "www.wangyikai.com", "github": "", "psn": "", "avatar_normal": "https://cdn.v2ex.com/avatar/1888/05be/360365_mini.png?m=1564457400", "bio": "", "url": "https://www.v2ex.com/u/wangyikai", "tagline": "www.wangyikai.com", "twitter": "", "created": 1541126667, "avatar_large": "https://cdn.v2ex.com/avatar/1888/05be/360365_mini.png?m=1564457400", "avatar_mini": "https://cdn.v2ex.com/avatar/1888/05be/360365_mini.png?m=1564457400", "location": "成都", "btc": "", "id": 360365}, "last_reply_by": "jupiter157", "last_touched": 1630701255, "title": "大爱无相", "url": "https://www.v2ex.com/t/799594", "created": 1630633237, "content": "我的年假过了三天，妻子封闭工作才结束。两地分居短暂相聚，工作亦未成人之美。生活正是如此迫于无奈。\r\n\r\n岳母刚做好晚饭。妻子忽然惊起：差点忘了！我晚上还有一个饭局。妻子匆匆忙忙离家连招呼都没来得及打。 \r\n\r\n我陪岳父母吃完饭，大家一道外出散步。儿子与我在广场欢快自由赛跑。直到天色渐晚，大汗淋漓，我们才归家。 \r\n\r\n我拨打妻子电话。无人接听。 \r\n\r\n岳母：“她们吃火锅，这会儿可能正热闹。” \r\n\r\n隔了两小时，我再次拨打妻子电话。无人接听。 \r\n\r\n岳母催促我给儿子洗漱。儿子哭闹要妈妈。岳母气冲冲教育孙子，儿子不甘示弱言语对峙。岳母只得反复给妻子打电话。 \r\n\r\n电话终于接通了，声音嘈杂，妻子胡乱扯着酒经。岳母不忍斥责，让她赶快回家。 \r\n\r\n家中吵闹啼哭不绝于耳。心烦意乱。我趁机对岳母说：“我下楼接她。” \r\n\r\n我站在黑夜里思绪万千。女人在外醉酒是一件非常危险的事，我曾多次提醒妻子不要喝酒。我的话仿佛她耳旁吹过的风。即便如此，我还在想要不要责怪她。妻子亦是为了公事，我应该宽宏大度，醉酒的人可能很难受。 \r\n\r\n内心忐忑。我该如何克服种种小情绪保持心灵平静？ \r\n\r\n妻子歪歪斜斜被两位同事搀扶下车，她醉眼迷离望向我。我连忙上前接应，愠色难掩于面。感激同事之辞无表，稍作点头以示寒暄分别。 \r\n\r\n我冷冷的说：“走。” \r\n\r\n我快步在前，妻踉跄在后。妻子好像可以独自行走；我又怕她摔倒。我与她保持“适当”距离，既是气愤的肢体语言，又要思度如何在可控距离保护好她的担忧。爱之深，责之切。爱恨矛盾交织复杂。\r\n\r\n妻子突然开口叫道：“老公，你别走那么快嘛！” \r\n\r\n我退后一把抱住了她。 \r\n\r\n妻子酒意甚浓，小鸟依人欣喜的说：“老公，你今晚怎么想起来接我？”\r\n\r\n听闻此语，我内心深处仿佛咽下了一个凌冽深冬。 \r\n\r\n我搂着妻子走得很慢。我没有搭话。 \r\n\r\n她是一个可爱的女人。她渴望在爱人怀里撒娇，外表却要不失坚强。 \r\n\r\n我眼角润滋。 \r\n\r\n我们快到家时，妻子故作镇定起来，她进门反手悄悄给我一个停止手式。岳母责骂了妻子几句，岳父从里屋奔出来查看情况。我知道妻子不想让父母担心，避免事态扩大，我尽量克制自己不要过多报怨。 \r\n\r\n妻子洗漱就寝一切如常。我失眠了整晚。 \r\n\r\n我曾多次劝诫妻子不要饮酒的话语从来没有得到她的正面反馈；今晚妻子也不曾对此类行为向我表达一句歉意。没有交流亦不奢望谁能为谁发生任何改变，婚姻生活好似两条没有交集的平行线。我为什么如此生气？我是因爱而痛？还是妻子举止不符我的标准价值观而心生悲感。我在永远没有回应的一端苦苦痴念。 \r\n\r\n我要如何控制心绪？不悲不喜不慌不乱不屈不挠不冷不热不倚不偏。 \r\n\r\n翌日清晨。妻子让我去更换车子轮胎。我假意不见。 \r\n\r\n妻子再三问询。我：“你酒醒了。自己去换就行了嘛。” \r\n\r\n我不知道自己何时变得此般阴阳怪气。 \r\n\r\n妻子：“你去换一下嘛。我九点钟要上班。” \r\n\r\n我：“你喝酒那么行。你换轮胎就不行了？” \r\n\r\n岳母对妻子说：“你去上你的班。” \r\n\r\n岳母对我说：“你不是说今天要给我们做大餐吗?” \r\n\r\n气氛冰冷。身体有恙的岳父也早早起了床，他通常临近早晨才能入睡。 \r\n\r\n我极力克服内心执拗，行为却无法自控。 \r\n\r\n妻子无可奈何。她急匆匆外出。我连忙紧随其后。争吵不是解决问题的办法。 \r\n\r\n我向岳母打招呼：“妈，我出去买菜了。” \r\n\r\n岳母轻轻扫着地。她呆滞望向我，好几秒才抽过神来慌乱回复：“好。”\r\n\r\n妻子正要发动汽车。我：“你快去上班！我去换胎，买菜做饭。” \r\n\r\n妻子：“你是大老爷。我哪儿喊得动你。” \r\n\r\n我：“你快去上班。路上注意安全。” \r\n\r\n就此别过。我开车去汽修店。妻子步行上班。 \r\n\r\n更换车胎间隙，我渐渐平复下来。我们之间的纷争不应该让父母太过担忧。岳父身体抱恙，两次探视情况，他虽无动声色，沉默亦是尊重与关爱；岳母特别注重家庭生活，思绪敏感，心魄失神乃思虑困扰之表。 \r\n\r\n我们究竟应该如何找寻夫妻相处之道？ \r\n\r\n女孩子在外喝酒并非好事，这是大家普遍认同的不争事实。妻子在外应酬适当喝酒，我也不是铁板一块决绝。考虑到妻子有脂肪肝，我向来不主张她喝酒，以免年岁长而病患生。我的话收效微乎其微，妻子还认为我言语反复，令人生厌。我是否用错了爱的方式？我应该改掉唠叨啰嗦的习惯。我是否应该用自己的标准与价值观要求爱人？已所不欲勿施于人。爱可能是极度自私，我始终无法跳出一个情感声索与回应的纠结怪圈。 \r\n\r\n我是一个敏感细腻的人；妻子是一个神经大条的人。我一个人生闷气有用吗？妻子可能觉得什么都未发生。 \r\n\r\n我应该控制好自己的情绪。情感不是一半自作哀伤渴求另一半被动安慰。改变他人不易，我们应该变成更好的自己。 \r\n\r\n百无聊赖。我又翻看了所有关于我们的爱情日记。相爱真不是一件容易的事，吵吵闹闹又甜甜蜜蜜。妻子改掉了许多乖张脾气，岁月仿佛令她柔软；或者我们之间的距离稍远，让人感觉风清云淡。 \r\n\r\n为何如此？婚姻爱情应该如何把握阶段？如热恋郎情妾意浓情胶漆；如夫妻情锁心间各自独立；如熟人行同陌路抗拒嫌弃。妻子怎会觉得我不去接她？她因老公到场又表现得异常欣喜。两地分居，她感受不到我的关爱。或许是我真得做的不够好，是我平日对她太过冷淡。记得从前条件艰苦，我每天乘车几十公里风雨无阻见她都没有任何埋怨。现在我们像海面冰山，浮冰大部藏于海里，外表仅露出一角。 \r\n\r\n日子一天天向好的方向发展，我们却低估了时间善变。人们永远不能同时踏入同一条河流，世间没有什么不变，关键是我们如何永葆爱的初心。 \r\n\r\n妻子醉酒，我也经常断片。我俩半斤八两，我俩都在各自忙碌的生活里捕捞，她包容了我，我为何要苛责她？我严格要求他人而放纵自己，我偏执个体价值观而忽视他人成长。这是一种双标成见。 \r\n\r\n我长期沉溺情感追索无法自拔，障眼遮目以偏盖全，以致妻子很多改变被我忽略。我常常过分在意妻子是否遵从自己的指引；我常常过分在意妻子的大大咧咧是否能够尽快改变；我常常过分在意个体历经艰辛，妻子能有一句共情安慰语言；这一切都是正向反馈，这一切都是利已为已，这一切绝非浪漫大爱诗篇。 \r\n\r\n偶然，我想起《金刚经》一语：“不住色布施，不住声香味触法布施。”无相才有无量。小爱自爱，大爱无相。我应该彻底摒弃夫妻情爱中的得到、索求、自尊与傲慢。 \r\n\r\n换好车胎，我从速去超市买菜，回家陪岳母一道下厨做饭。我向妻子传送信息：“我为儿子做了番茄牛肉，中午你早点回家吃饭。” \r\n\r\n妻子：“好。” \r\n\r\n夫妻床头吵架床尾和，家庭爱睦最重要。从今以后，痛改前非，我一定要好好疼爱老婆。 \r\n\r\n大爱无相，我心超然。", "content_rendered": "我的年假过了三天，妻子封闭工作才结束。两地分居短暂相聚，工作亦未成人之美。生活正是如此迫于无奈。<br /><br />岳母刚做好晚饭。妻子忽然惊起：差点忘了！我晚上还有一个饭局。妻子匆匆忙忙离家连招呼都没来得及打。 <br /><br />我陪岳父母吃完饭，大家一道外出散步。儿子与我在广场欢快自由赛跑。直到天色渐晚，大汗淋漓，我们才归家。 <br /><br />我拨打妻子电话。无人接听。 <br /><br />岳母：“她们吃火锅，这会儿可能正热闹。” <br /><br />隔了两小时，我再次拨打妻子电话。无人接听。 <br /><br />岳母催促我给儿子洗漱。儿子哭闹要妈妈。岳母气冲冲教育孙子，儿子不甘示弱言语对峙。岳母只得反复给妻子打电话。 <br /><br />电话终于接通了，声音嘈杂，妻子胡乱扯着酒经。岳母不忍斥责，让她赶快回家。 <br /><br />家中吵闹啼哭不绝于耳。心烦意乱。我趁机对岳母说：“我下楼接她。” <br /><br />我站在黑夜里思绪万千。女人在外醉酒是一件非常危险的事，我曾多次提醒妻子不要喝酒。我的话仿佛她耳旁吹过的风。即便如此，我还在想要不要责怪她。妻子亦是为了公事，我应该宽宏大度，醉酒的人可能很难受。 <br /><br />内心忐忑。我该如何克服种种小情绪保持心灵平静？ <br /><br />妻子歪歪斜斜被两位同事搀扶下车，她醉眼迷离望向我。我连忙上前接应，愠色难掩于面。感激同事之辞无表，稍作点头以示寒暄分别。 <br /><br />我冷冷的说：“走。” <br /><br />我快步在前，妻踉跄在后。妻子好像可以独自行走；我又怕她摔倒。我与她保持“适当”距离，既是气愤的肢体语言，又要思度如何在可控距离保护好她的担忧。爱之深，责之切。爱恨矛盾交织复杂。<br /><br />妻子突然开口叫道：“老公，你别走那么快嘛！” <br /><br />我退后一把抱住了她。 <br /><br />妻子酒意甚浓，小鸟依人欣喜的说：“老公，你今晚怎么想起来接我？”<br /><br />听闻此语，我内心深处仿佛咽下了一个凌冽深冬。 <br /><br />我搂着妻子走得很慢。我没有搭话。 <br /><br />她是一个可爱的女人。她渴望在爱人怀里撒娇，外表却要不失坚强。 <br /><br />我眼角润滋。 <br /><br />我们快到家时，妻子故作镇定起来，她进门反手悄悄给我一个停止手式。岳母责骂了妻子几句，岳父从里屋奔出来查看情况。我知道妻子不想让父母担心，避免事态扩大，我尽量克制自己不要过多报怨。 <br /><br />妻子洗漱就寝一切如常。我失眠了整晚。 <br /><br />我曾多次劝诫妻子不要饮酒的话语从来没有得到她的正面反馈；今晚妻子也不曾对此类行为向我表达一句歉意。没有交流亦不奢望谁能为谁发生任何改变，婚姻生活好似两条没有交集的平行线。我为什么如此生气？我是因爱而痛？还是妻子举止不符我的标准价值观而心生悲感。我在永远没有回应的一端苦苦痴念。 <br /><br />我要如何控制心绪？不悲不喜不慌不乱不屈不挠不冷不热不倚不偏。 <br /><br />翌日清晨。妻子让我去更换车子轮胎。我假意不见。 <br /><br />妻子再三问询。我：“你酒醒了。自己去换就行了嘛。” <br /><br />我不知道自己何时变得此般阴阳怪气。 <br /><br />妻子：“你去换一下嘛。我九点钟要上班。” <br /><br />我：“你喝酒那么行。你换轮胎就不行了？” <br /><br />岳母对妻子说：“你去上你的班。” <br /><br />岳母对我说：“你不是说今天要给我们做大餐吗?” <br /><br />气氛冰冷。身体有恙的岳父也早早起了床，他通常临近早晨才能入睡。 <br /><br />我极力克服内心执拗，行为却无法自控。 <br /><br />妻子无可奈何。她急匆匆外出。我连忙紧随其后。争吵不是解决问题的办法。 <br /><br />我向岳母打招呼：“妈，我出去买菜了。” <br /><br />岳母轻轻扫着地。她呆滞望向我，好几秒才抽过神来慌乱回复：“好。”<br /><br />妻子正要发动汽车。我：“你快去上班！我去换胎，买菜做饭。” <br /><br />妻子：“你是大老爷。我哪儿喊得动你。” <br /><br />我：“你快去上班。路上注意安全。” <br /><br />就此别过。我开车去汽修店。妻子步行上班。 <br /><br />更换车胎间隙，我渐渐平复下来。我们之间的纷争不应该让父母太过担忧。岳父身体抱恙，两次探视情况，他虽无动声色，沉默亦是尊重与关爱；岳母特别注重家庭生活，思绪敏感，心魄失神乃思虑困扰之表。 <br /><br />我们究竟应该如何找寻夫妻相处之道？ <br /><br />女孩子在外喝酒并非好事，这是大家普遍认同的不争事实。妻子在外应酬适当喝酒，我也不是铁板一块决绝。考虑到妻子有脂肪肝，我向来不主张她喝酒，以免年岁长而病患生。我的话收效微乎其微，妻子还认为我言语反复，令人生厌。我是否用错了爱的方式？我应该改掉唠叨啰嗦的习惯。我是否应该用自己的标准与价值观要求爱人？已所不欲勿施于人。爱可能是极度自私，我始终无法跳出一个情感声索与回应的纠结怪圈。 <br /><br />我是一个敏感细腻的人；妻子是一个神经大条的人。我一个人生闷气有用吗？妻子可能觉得什么都未发生。 <br /><br />我应该控制好自己的情绪。情感不是一半自作哀伤渴求另一半被动安慰。改变他人不易，我们应该变成更好的自己。 <br /><br />百无聊赖。我又翻看了所有关于我们的爱情日记。相爱真不是一件容易的事，吵吵闹闹又甜甜蜜蜜。妻子改掉了许多乖张脾气，岁月仿佛令她柔软；或者我们之间的距离稍远，让人感觉风清云淡。 <br /><br />为何如此？婚姻爱情应该如何把握阶段？如热恋郎情妾意浓情胶漆；如夫妻情锁心间各自独立；如熟人行同陌路抗拒嫌弃。妻子怎会觉得我不去接她？她因老公到场又表现得异常欣喜。两地分居，她感受不到我的关爱。或许是我真得做的不够好，是我平日对她太过冷淡。记得从前条件艰苦，我每天乘车几十公里风雨无阻见她都没有任何埋怨。现在我们像海面冰山，浮冰大部藏于海里，外表仅露出一角。 <br /><br />日子一天天向好的方向发展，我们却低估了时间善变。人们永远不能同时踏入同一条河流，世间没有什么不变，关键是我们如何永葆爱的初心。 <br /><br />妻子醉酒，我也经常断片。我俩半斤八两，我俩都在各自忙碌的生活里捕捞，她包容了我，我为何要苛责她？我严格要求他人而放纵自己，我偏执个体价值观而忽视他人成长。这是一种双标成见。 <br /><br />我长期沉溺情感追索无法自拔，障眼遮目以偏盖全，以致妻子很多改变被我忽略。我常常过分在意妻子是否遵从自己的指引；我常常过分在意妻子的大大咧咧是否能够尽快改变；我常常过分在意个体历经艰辛，妻子能有一句共情安慰语言；这一切都是正向反馈，这一切都是利已为已，这一切绝非浪漫大爱诗篇。 <br /><br />偶然，我想起《金刚经》一语：“不住色布施，不住声香味触法布施。”无相才有无量。小爱自爱，大爱无相。我应该彻底摒弃夫妻情爱中的得到、索求、自尊与傲慢。 <br /><br />换好车胎，我从速去超市买菜，回家陪岳母一道下厨做饭。我向妻子传送信息：“我为儿子做了番茄牛肉，中午你早点回家吃饭。” <br /><br />妻子：“好。” <br /><br />夫妻床头吵架床尾和，家庭爱睦最重要。从今以后，痛改前非，我一定要好好疼爱老婆。 <br /><br />大爱无相，我心超然。", "last_modified": 1630633237, "replies": 85, "id": 799594}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/e7b2/4b11/360_large.png?m=1583044904", "name": "windows", "avatar_normal": "https://cdn.v2ex.com/navatar/e7b2/4b11/360_normal.png?m=1583044904", "title": "Windows", "url": "https://www.v2ex.com/go/windows", "topics": 2192, "footer": "", "header": "Windows, not walls.", "title_alternative": "Windows", "avatar_mini": "https://cdn.v2ex.com/navatar/e7b2/4b11/360_mini.png?m=1583044904", "stars": 734, "aliases": [], "root": false, "id": 360, "parent_node_name": "os"}, "member": {"username": "huntagain2008", "website": null, "github": null, "psn": null, "avatar_normal": "https://cdn.v2ex.com/gravatar/c78498f6c3f282be34f10448ef3820cb?s=24&d=retro", "bio": null, "url": "https://www.v2ex.com/u/huntagain2008", "tagline": null, "twitter": null, "created": 1565837889, "avatar_large": "https://cdn.v2ex.com/gravatar/c78498f6c3f282be34f10448ef3820cb?s=24&d=retro", "avatar_mini": "https://cdn.v2ex.com/gravatar/c78498f6c3f282be34f10448ef3820cb?s=24&d=retro", "location": null, "btc": null, "id": 436062}, "last_reply_by": "Amber2011", "last_touched": 1630680157, "title": "自己的 Windows11 系统出问题了？今早开机任务栏加载不出来。重启更新之后问题依旧。", "url": "https://www.v2ex.com/t/799583", "created": 1630629736, "content": "2021 年 9 月 3 日，打开 Dell Inspiron3470 进入 Win11 桌面，任务栏加载不出来。\r\n只有桌面的图标，可以打开应用，但是很卡，可以说无法使用。\r\n重启是通过 CTRL+SHIRT+ESC 打开任务管理器，文件-运行新任务-cmd，命令行 shutdown -r -t 1 才重启。\r\n重启电脑显示在更新，可是更新之后还是不能正常使用，任务栏一直加载。\r\n尝试重启 explorer.exe 没有效果，结束 explorer.exe 再新建也是没有用。", "content_rendered": "<p>2021 年 9 月 3 日，打开 Dell Inspiron3470 进入 Win11 桌面，任务栏加载不出来。\n只有桌面的图标，可以打开应用，但是很卡，可以说无法使用。\n重启是通过 CTRL+SHIRT+ESC 打开任务管理器，文件-运行新任务-cmd，命令行 shutdown -r -t 1 才重启。\n重启电脑显示在更新，可是更新之后还是不能正常使用，任务栏一直加载。\n尝试重启 explorer.exe 没有效果，结束 explorer.exe 再新建也是没有用。</p>\n", "last_modified": 1630629736, "replies": 80, "id": 799583}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/b53b/3a3d/55_large.png?m=1611920927", "name": "games", "avatar_normal": "https://cdn.v2ex.com/navatar/b53b/3a3d/55_normal.png?m=1611920927", "title": "游戏", "url": "https://www.v2ex.com/go/games", "topics": 2055, "footer": "", "header": "Life is short, have more fun.", "title_alternative": "Games", "avatar_mini": "https://cdn.v2ex.com/navatar/b53b/3a3d/55_mini.png?m=1611920927", "stars": 1885, "aliases": [], "root": false, "id": 55, "parent_node_name": "computer"}, "member": {"username": "ianshow15", "website": "", "github": "", "psn": "", "avatar_normal": "https://cdn.v2ex.com/gravatar/6357aacf06edf7518f3d52f756ae77eb?s=24&d=retro", "bio": "", "url": "https://www.v2ex.com/u/ianshow15", "tagline": "", "twitter": "", "created": 1558664605, "avatar_large": "https://cdn.v2ex.com/gravatar/6357aacf06edf7518f3d52f756ae77eb?s=24&d=retro", "avatar_mini": "https://cdn.v2ex.com/gravatar/6357aacf06edf7518f3d52f756ae77eb?s=24&d=retro", "location": "", "btc": "", "id": 415165}, "last_reply_by": "Microkernel", "last_touched": 1630699227, "title": "京东禁售 87 款游戏，太难啦", "url": "https://www.v2ex.com/t/799665", "created": 1630649098, "content": "列表如下：\r\n\r\nhttps://i.redd.it/iq8uko8qf7l71.jpg\r\n\r\n垃圾游戏，不玩也罢！ /s", "content_rendered": "<p>列表如下：</p>\n<p><a href=\"https://i.redd.it/iq8uko8qf7l71.jpg\" rel=\"nofollow\">https://i.redd.it/iq8uko8qf7l71.jpg</a></p>\n<p>垃圾游戏，不玩也罢！ /s</p>\n", "last_modified": 1630649113, "replies": 75, "id": 799665}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1630512279", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1630512279", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 45579, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1630512279", "stars": 7501, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"username": "James369", "website": null, "github": null, "psn": null, "avatar_normal": "https://cdn.v2ex.com/gravatar/8b64ecd4b42da39f0025e467ce8497d6?s=24&d=retro", "bio": null, "url": "https://www.v2ex.com/u/James369", "tagline": null, "twitter": null, "created": 1602036009, "avatar_large": "https://cdn.v2ex.com/gravatar/8b64ecd4b42da39f0025e467ce8497d6?s=24&d=retro", "avatar_mini": "https://cdn.v2ex.com/gravatar/8b64ecd4b42da39f0025e467ce8497d6?s=24&d=retro", "location": null, "btc": null, "id": 511352}, "last_reply_by": "TypeError", "last_touched": 1630688790, "title": "js 的类有没有析构函数，如何进行资源释放？？", "url": "https://www.v2ex.com/t/799592", "created": 1630632464, "content": "查了半天没看到 js 类有析构函数，那么类对象在销毁的时候，如何把申请的资源释放呢，否则可能内存泄漏。\r\n\r\n比如，考虑以下场景，有一些学生类 Student，以及一个图书馆类 Library 。\r\n1. 开始创建了若干学生 Student 对象，然后做了一些操作，向 Library 借了几本书。\r\n2. 过了一会，有些学生对象做了一些其它操作（比如上课、睡觉，但就是没有还书），然后自动释放了（离开了变量作用域，生存周期结束了）。\r\n3. 此时虽然说 Student 自动释放了，但是还书操作没有显式调用，造成书籍未还。\r\n\r\n所以，如果 Student 类有析构函数，我就可以在析构函数中进行还书等的资源释放。正规语言都有析构函数，现在怎么处理，？", "content_rendered": "查了半天没看到 js 类有析构函数，那么类对象在销毁的时候，如何把申请的资源释放呢，否则可能内存泄漏。<br /><br />比如，考虑以下场景，有一些学生类 Student，以及一个图书馆类 Library 。<br />1. 开始创建了若干学生 Student 对象，然后做了一些操作，向 Library 借了几本书。<br />2. 过了一会，有些学生对象做了一些其它操作（比如上课、睡觉，但就是没有还书），然后自动释放了（离开了变量作用域，生存周期结束了）。<br />3. 此时虽然说 Student 自动释放了，但是还书操作没有显式调用，造成书籍未还。<br /><br />所以，如果 Student 类有析构函数，我就可以在析构函数中进行还书等的资源释放。正规语言都有析构函数，现在怎么处理，？", "last_modified": 1630632464, "replies": 68, "id": 799592}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/afd4/8367/699_large.png?m=1367518397", "name": "microsoft", "avatar_normal": "https://cdn.v2ex.com/navatar/afd4/8367/699_normal.png?m=1367518397", "title": "微软", "url": "https://www.v2ex.com/go/microsoft", "topics": 405, "footer": null, "header": "总部位于 Seattle, Redmond 的世界级通用软件公司，生产了 Windows、Office、SQL Server、Exchange Server、Xbox 等重要软硬件产品。", "title_alternative": "Microsoft", "avatar_mini": "https://cdn.v2ex.com/navatar/afd4/8367/699_mini.png?m=1367518397", "stars": 187, "aliases": [], "root": false, "id": 699, "parent_node_name": null}, "member": {"username": "imes", "website": null, "github": null, "psn": null, "avatar_normal": "https://cdn.v2ex.com/gravatar/fa47f4b0640d3621e3dde9ee33c87d3d?s=24&d=retro", "bio": null, "url": "https://www.v2ex.com/u/imes", "tagline": null, "twitter": null, "created": 1606203164, "avatar_large": "https://cdn.v2ex.com/gravatar/fa47f4b0640d3621e3dde9ee33c87d3d?s=24&d=retro", "avatar_mini": "https://cdn.v2ex.com/gravatar/fa47f4b0640d3621e3dde9ee33c87d3d?s=24&d=retro", "location": null, "btc": null, "id": 520237}, "last_reply_by": "916go", "last_touched": 1630708704, "title": "微软/Microsoft Edge 死性不改，这次是全局插入强推广告", "url": "https://www.v2ex.com/t/799634", "created": 1630639891, "content": "众所周知，微软为了提高旗下浏览器的占比，无所不用其极，比如将 Windows 和 ie 强行捆绑。那换成安卓平台，总能不被捆绑强推了吧？那是你没有想到微软有多聪明。</br>\r\n手机：MIX3，系统：MIUI 12.5.1/Android 10，Microsoft Edge：来源于 Google Play 最新版。</br>\r\n以下是现象描述：</br>\r\n使用 via 浏览器，打开任意网页，长按超链接弹出菜单栏，注意圆角矩形是**大**圆角，因为这个是 via 浏览器自定义的界面。</br>\r\n![via]( https://tu.sunpma.com/imgs/2021/09/bd055080495b8cd9.jpg)</br>\r\n长按文字，呼出菜单进行进一步操作，比如二次搜索之类的，这时发现右边出现了三个点，注意圆角矩形是**小**圆角，因为这个功能 /UI 是系统提供的，包括二次搜索和分享之类的功能。</br>\r\n![dots]( https://tu.sunpma.com/imgs/2021/09/e967e265c5ef49e7.jpg)</br>\r\n点击这三个点，你就会发现微软的广告了：**在 Microsoft Edge 中搜索**，新的强推功能出现了！建议某宝 /某东都学学，这样你们的 app 点击率就能进一步提高了，后台相互唤醒保活哪有用户手动打开来的实在。doge.jpg</br>\r\n![edge]( https://tu.sunpma.com/imgs/2021/09/f0c7406a46f5807b.jpg)</br>\r\n最开始我以为是 Microsoft 在 webview 上的骚操作，比如我在 B 站打开微信公众号进行操作（ B 站 app 默认调用 webview ），也是会出现相同现象的。</br>\r\n![webview]( https://tu.sunpma.com/imgs/2021/09/3524046fc8ad6781.jpg)</br>\r\n但是我低估了 Microsoft 强推 Edge 的决心，因为在 Firefox 里面任然出现了！所以说，这玩意是直接插入系统里面，注册成了一个系统功能，微软真不亏是国际大厂，这种操作都能想出来。某宝 /某东还愣着干什么？还不快点学！</br>\r\n![ff]( https://tu.sunpma.com/imgs/2021/09/5f05fb4c66059d7e.jpg)</br>\r\n找了一圈 Edge 的设置和系统设置都没有找到开关，所幸一了百了：卸载！</br>\r\n![noedge]( https://tu.sunpma.com/imgs/2021/09/fd1aeb91740f7513.jpg)</br>\r\n希望世界和平！</br>", "content_rendered": "<p>众所周知，微软为了提高旗下浏览器的占比，无所不用其极，比如将 Windows 和 ie 强行捆绑。那换成安卓平台，总能不被捆绑强推了吧？那是你没有想到微软有多聪明。<br/>\n手机：MIX3，系统：MIUI 12.5.1/Android 10，Microsoft Edge：来源于 Google Play 最新版。<br/>\n以下是现象描述：<br/>\n使用 via 浏览器，打开任意网页，长按超链接弹出菜单栏，注意圆角矩形是<strong>大</strong>圆角，因为这个是 via 浏览器自定义的界面。<br/>\n<img alt=\"via\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://tu.sunpma.com/imgs/2021/09/bd055080495b8cd9.jpg\"/><br/>\n长按文字，呼出菜单进行进一步操作，比如二次搜索之类的，这时发现右边出现了三个点，注意圆角矩形是<strong>小</strong>圆角，因为这个功能 /UI 是系统提供的，包括二次搜索和分享之类的功能。<br/>\n<img alt=\"dots\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://tu.sunpma.com/imgs/2021/09/e967e265c5ef49e7.jpg\"/><br/>\n点击这三个点，你就会发现微软的广告了：<strong>在 Microsoft Edge 中搜索</strong>，新的强推功能出现了！建议某宝 /某东都学学，这样你们的 app 点击率就能进一步提高了，后台相互唤醒保活哪有用户手动打开来的实在。doge.jpg<br/>\n<img alt=\"edge\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://tu.sunpma.com/imgs/2021/09/f0c7406a46f5807b.jpg\"/><br/>\n最开始我以为是 Microsoft 在 webview 上的骚操作，比如我在 B 站打开微信公众号进行操作（ B 站 app 默认调用 webview ），也是会出现相同现象的。<br/>\n<img alt=\"webview\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://tu.sunpma.com/imgs/2021/09/3524046fc8ad6781.jpg\"/><br/>\n但是我低估了 Microsoft 强推 Edge 的决心，因为在 Firefox 里面任然出现了！所以说，这玩意是直接插入系统里面，注册成了一个系统功能，微软真不亏是国际大厂，这种操作都能想出来。某宝 /某东还愣着干什么？还不快点学！<br/>\n<img alt=\"ff\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://tu.sunpma.com/imgs/2021/09/5f05fb4c66059d7e.jpg\"/><br/>\n找了一圈 Edge 的设置和系统设置都没有找到开关，所幸一了百了：卸载！<br/>\n<img alt=\"noedge\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://tu.sunpma.com/imgs/2021/09/fd1aeb91740f7513.jpg\"/><br/>\n希望世界和平！<br/></p>\n", "last_modified": 1630639891, "replies": 55, "id": 799634}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1630512279", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1630512279", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 45579, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1630512279", "stars": 7501, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"username": "calmlyman", "website": "", "github": "", "psn": "", "avatar_normal": "https://cdn.v2ex.com/avatar/d6ac/07bf/404326_mini.png?m=1593400170", "bio": "", "url": "https://www.v2ex.com/u/calmlyman", "tagline": "", "twitter": "", "created": 1555947324, "avatar_large": "https://cdn.v2ex.com/avatar/d6ac/07bf/404326_mini.png?m=1593400170", "avatar_mini": "https://cdn.v2ex.com/avatar/d6ac/07bf/404326_mini.png?m=1593400170", "location": "", "btc": "", "id": 404326}, "last_reply_by": "laragh", "last_touched": 1630666574, "title": "有没有近视的大佬平时上班工作都带隐形眼镜的呢？", "url": "https://www.v2ex.com/t/799584", "created": 1630629950, "content": "我近视 400 多度，想问问带隐形眼镜看电影长期会不会对眼睛有影响呢？\r\n过来人分享一下谢谢", "content_rendered": "<p>我近视 400 多度，想问问带隐形眼镜看电影长期会不会对眼睛有影响呢？\n过来人分享一下谢谢</p>\n", "last_modified": 1630629950, "replies": 50, "id": 799584}]