[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c74d/97b0/16_large.png?m=1650127281", "name": "share", "avatar_normal": "https://cdn.v2ex.com/navatar/c74d/97b0/16_normal.png?m=1650127281", "title": "分享发现", "url": "https://www.v2ex.com/go/share", "topics": 36413, "footer": "", "header": "分享你看到的好玩的，有信息量的，欢迎从这里获取灵感。", "title_alternative": "Share", "avatar_mini": "https://cdn.v2ex.com/navatar/c74d/97b0/16_mini.png?m=1650127281", "stars": 5018, "aliases": [], "root": false, "id": 16, "parent_node_name": "v2ex"}, "member": {"id": 498405, "username": "jokeface", "url": "https://www.v2ex.com/u/jokeface", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/3806/fcf4/498405_mini.png?m=1620809510", "avatar_normal": "https://cdn.v2ex.com/avatar/3806/fcf4/498405_normal.png?m=1620809510", "avatar_large": "https://cdn.v2ex.com/avatar/3806/fcf4/498405_large.png?m=1620809510", "created": 1594282476, "last_modified": 1620809510}, "last_reply_by": "lrzsw2008", "last_touched": 1665557953, "title": "大家每天必浏览的网站都有哪些？", "url": "https://www.v2ex.com/t/886113", "created": 1665476421, "deleted": 0, "content": "算法背景下感觉自己真的非常闭塞了，丰富下自己的见闻", "content_rendered": "<p>算法背景下感觉自己真的非常闭塞了，丰富下自己的见闻</p>\n", "last_modified": 1665476437, "replies": 96, "id": 886113}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/e7b2/4b11/360_large.png?m=1641783557", "name": "windows", "avatar_normal": "https://cdn.v2ex.com/navatar/e7b2/4b11/360_normal.png?m=1641783557", "title": "Windows", "url": "https://www.v2ex.com/go/windows", "topics": 2933, "footer": "", "header": "Windows, not walls.", "title_alternative": "Windows", "avatar_mini": "https://cdn.v2ex.com/navatar/e7b2/4b11/360_mini.png?m=1641783557", "stars": 955, "aliases": [], "root": false, "id": 360, "parent_node_name": "os"}, "member": {"id": 566872, "username": "haolongsun", "url": "https://www.v2ex.com/u/haolongsun", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/33fa4368d6ec5a60d932a37e53d745d4?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/33fa4368d6ec5a60d932a37e53d745d4?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/33fa4368d6ec5a60d932a37e53d745d4?s=73&d=retro", "created": 1640526851, "last_modified": 1665504312}, "last_reply_by": "leeggco", "last_touched": 1665558191, "title": "win11 把 ui 玩透了", "url": "https://www.v2ex.com/t/886216", "created": 1665504727, "deleted": 0, "content": "最新 22H2 版本，重装了 win 后，转向 win11 ，这 ui ，真香啊，窗口圆角，高斯模糊，暗黑主题，截图，语言转换，粘贴板。\r\n自带的 window terminal 不用美化就贼好看，edge 也和 win 的主题融合在一起。\r\n最重要的 win 的包管理，现在很多东西也都是一行命令解决下载应用和编程语言的问题了。\r\n敲代码现在也是真的舒服，这种感觉是我第一次使用 macOS 的时候感受到 ui 这么精致。\r\n有点期待 win12 了，话不多说直接上图。\r\n\r\nhttps://i.imgur.com/ZTtRLcV.png\r\nhttps://i.imgur.com/q3k2rGW.png\r\nhttps://i.imgur.com/DRqsMls.png\r\nhttps://i.imgur.com/mn6D7px.png\r\nhttps://i.imgur.com/nuNP2nf.png", "content_rendered": "最新 22H2 版本，重装了 win 后，转向 win11 ，这 ui ，真香啊，窗口圆角，高斯模糊，暗黑主题，截图，语言转换，粘贴板。<br />自带的 window terminal 不用美化就贼好看，edge 也和 win 的主题融合在一起。<br />最重要的 win 的包管理，现在很多东西也都是一行命令解决下载应用和编程语言的问题了。<br />敲代码现在也是真的舒服，这种感觉是我第一次使用 macOS 的时候感受到 ui 这么精致。<br />有点期待 win12 了，话不多说直接上图。<br /><br /><a target=\"_blank\" href=\"https://i.imgur.com/ZTtRLcV.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/ZTtRLcV.png\" class=\"embedded_image\" rel=\"noreferrer\"></a><br /><a target=\"_blank\" href=\"https://i.imgur.com/q3k2rGW.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/q3k2rGW.png\" class=\"embedded_image\" rel=\"noreferrer\"></a><br /><a target=\"_blank\" href=\"https://i.imgur.com/DRqsMls.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/DRqsMls.png\" class=\"embedded_image\" rel=\"noreferrer\"></a><br /><a target=\"_blank\" href=\"https://i.imgur.com/mn6D7px.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/mn6D7px.png\" class=\"embedded_image\" rel=\"noreferrer\"></a><br /><a target=\"_blank\" href=\"https://i.imgur.com/nuNP2nf.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/nuNP2nf.png\" class=\"embedded_image\" rel=\"noreferrer\"></a>", "last_modified": 1665504727, "replies": 84, "id": 886216}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 191231, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3579, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 595995, "username": "Nianqingren", "url": "https://www.v2ex.com/u/Nianqingren", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/4ae089a53fcc8e3073918e50ffefd0d1?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/4ae089a53fcc8e3073918e50ffefd0d1?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/4ae089a53fcc8e3073918e50ffefd0d1?s=73&d=retro", "created": 1664665656, "last_modified": 1664665656}, "last_reply_by": "leon9986666", "last_touched": 1665558044, "title": "你是如何知道并开始使用这个网站的？", "url": "https://www.v2ex.com/t/886237", "created": 1665536741, "deleted": 0, "content": "分享下你的经历。可以回忆一下你第一次使用这个论坛的情景👍", "content_rendered": "<p>分享下你的经历。可以回忆一下你第一次使用这个论坛的情景👍</p>\n", "last_modified": 1665536741, "replies": 68, "id": 886237}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/bdb1/06a0/1034_large.png?m=1643940920", "name": "ev", "avatar_normal": "https://cdn.v2ex.com/navatar/bdb1/06a0/1034_normal.png?m=1643940920", "title": "电动汽车", "url": "https://www.v2ex.com/go/ev", "topics": 70, "footer": "", "header": "", "title_alternative": "EV", "avatar_mini": "https://cdn.v2ex.com/navatar/bdb1/06a0/1034_mini.png?m=1643940920", "stars": 146, "aliases": [], "root": false, "id": 1034, "parent_node_name": "tech"}, "member": {"id": 439903, "username": "xtx", "url": "https://www.v2ex.com/u/xtx", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "血液的作用之一是为信仰付出代价。", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/1266/8b36/439903_mini.png?m=1653719968", "avatar_normal": "https://cdn.v2ex.com/avatar/1266/8b36/439903_normal.png?m=1653719968", "avatar_large": "https://cdn.v2ex.com/avatar/1266/8b36/439903_large.png?m=1653719968", "created": 1567694914, "last_modified": 1653719968}, "last_reply_by": "yinhuochong6666", "last_touched": 1665559061, "title": "分享一下最近一个星期的电车高速使用体验。", "url": "https://www.v2ex.com/t/886284", "created": 1665542456, "deleted": 0, "content": "10.4 早上九点从上海出发，10.11 晚上七点回到上海，时长一个星期，驾驶里程 2300 公里。先说结论，远途旅行，油车还是比电车方便，但是电车也能开，充电补能也没有很多人想象中那么麻烦。<br>车型是小鹏 p7 ，官方续航是 nedc 标准下 480km ，说实在的，这个续航放在现在电动车里已经是不够看的了，当时买车时，考虑到用车场景绝大部分为上下班通勤，且有家充，所以买了续航里程最低的，建议要买电车的朋友，购车预算之内还是买续航里程高的。<br>我将从补能，充电速率，充电费用，电耗，行程规划，辅助驾驶几个点说说自己的体验和看法。<br><br>◆补能：基本上每个服务区都有国网的充电站，一般都为 4 个电桩，少部分 6 个，进了服务区都很好找，有指示牌，直接找停车棚也行，需要注意的是，现在的充电桩标准都是 2015 国标，但是电压不同，分为 500V 和 750V ，以小鹏 p7 为例，750V 电桩使用没有任何问题，但是 500V 电桩在电池剩余电量较多时，可能会充不了，猜测和电压有关。除了高速上，大部分旅游景点附近也有国网电桩和少量第三方充电，城市内自然不必多说，电桩到处都是，还是要表扬一下国网，没有国网，电车远程行驶的可能性为零。<br>我在国庆期间高速上充电基本没有排过队。<br>◆充电速率：电量低时，可以达到 60-80kw ，电量高时，20kw 左右，从 20%充到 80-90%，基本一分钟充一度电。<br>◆充电费用：全程总共花费 500 元，外加小鹏免费额度 60 度电，折合下来一公里 0.22 元。<br>◆电耗：电车续航太看天气了，以 p7 为例，下雨天高速顶着 120 开，电耗为百公里 20-21 ，晴天开只要 15 多点。<br>◆行程规划：这个是最重要的，也是开电车最麻烦的一点，用高德地图查看服务区，用 e 充电查看国网电桩分布，估算自己的电耗和剩余里程。<br>◆辅助驾驶：小鹏的辅助驾驶应该是国内第一梯队了，但是现阶段的辅助驾驶只能算是锦上添花，路面车少空旷的情况下，可以开启车道保持和自适应巡航放松一下，车多的时候，还得是自己开，而且辅助驾驶最高只能 120 ，还是觉得慢了点，当然这个是我的问题，我基本都是 125-130 左右开。<br><br>以上体验都是基于长三角地区。", "content_rendered": "<p>10.4 早上九点从上海出发，10.11 晚上七点回到上海，时长一个星期，驾驶里程 2300 公里。先说结论，远途旅行，油车还是比电车方便，但是电车也能开，充电补能也没有很多人想象中那么麻烦。<br/>车型是小鹏 p7 ，官方续航是 nedc 标准下 480km ，说实在的，这个续航放在现在电动车里已经是不够看的了，当时买车时，考虑到用车场景绝大部分为上下班通勤，且有家充，所以买了续航里程最低的，建议要买电车的朋友，购车预算之内还是买续航里程高的。<br/>我将从补能，充电速率，充电费用，电耗，行程规划，辅助驾驶几个点说说自己的体验和看法。<br/><br/>◆补能：基本上每个服务区都有国网的充电站，一般都为 4 个电桩，少部分 6 个，进了服务区都很好找，有指示牌，直接找停车棚也行，需要注意的是，现在的充电桩标准都是 2015 国标，但是电压不同，分为 500V 和 750V ，以小鹏 p7 为例，750V 电桩使用没有任何问题，但是 500V 电桩在电池剩余电量较多时，可能会充不了，猜测和电压有关。除了高速上，大部分旅游景点附近也有国网电桩和少量第三方充电，城市内自然不必多说，电桩到处都是，还是要表扬一下国网，没有国网，电车远程行驶的可能性为零。<br/>我在国庆期间高速上充电基本没有排过队。<br/>◆充电速率：电量低时，可以达到 60-80kw ，电量高时，20kw 左右，从 20%充到 80-90%，基本一分钟充一度电。<br/>◆充电费用：全程总共花费 500 元，外加小鹏免费额度 60 度电，折合下来一公里 0.22 元。<br/>◆电耗：电车续航太看天气了，以 p7 为例，下雨天高速顶着 120 开，电耗为百公里 20-21 ，晴天开只要 15 多点。<br/>◆行程规划：这个是最重要的，也是开电车最麻烦的一点，用高德地图查看服务区，用 e 充电查看国网电桩分布，估算自己的电耗和剩余里程。<br/>◆辅助驾驶：小鹏的辅助驾驶应该是国内第一梯队了，但是现阶段的辅助驾驶只能算是锦上添花，路面车少空旷的情况下，可以开启车道保持和自适应巡航放松一下，车多的时候，还得是自己开，而且辅助驾驶最高只能 120 ，还是觉得慢了点，当然这个是我的问题，我基本都是 125-130 左右开。<br/><br/>以上体验都是基于长三角地区。</p>\n", "last_modified": 1665542550, "replies": 63, "id": 886284}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1659331259", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1659331259", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 51258, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1659331259", "stars": 8021, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 78883, "username": "tikazyq", "url": "https://www.v2ex.com/u/tikazyq", "website": "", "twitter": "", "psn": "", "github": "tikazyq", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/7bc2/d1af/78883_mini.png?m=1468601977", "avatar_normal": "https://cdn.v2ex.com/avatar/7bc2/d1af/78883_normal.png?m=1468601977", "avatar_large": "https://cdn.v2ex.com/avatar/7bc2/d1af/78883_large.png?m=1468601977", "created": 1414421215, "last_modified": 1468601977}, "last_reply_by": "leegradyllljjjj", "last_touched": 1665558988, "title": "单元测试的爱恨情仇，作为码农们，你们写单元测试么？", "url": "https://www.v2ex.com/t/886162", "created": 1665486103, "deleted": 0, "content": "*作为从事软件开发多年的资深码农，看遍了各种事故和火葬现场。在接触测试驱动开发以及敏捷之后，发现这正是解决 bug 丛生、issue 漫天，最终导致 996 、007 修 bug 的困境。*\r\n\r\n*这里将单元测试的一些看法分享给大家，希望能够提供一些启发。英译版同步发布在 [dev.to]( https://dev.to/tikazyq/talking-testing-the-love-and-hate-of-unit-tests-5gl)，欢迎一起交流学习。*\r\n\r\n*下面是正文。*\r\n\r\n---\r\n\r\n# 浅谈测试：单元测试的爱恨情仇\r\n\r\n## 引子\r\n\r\n> \"开发安全可靠的应用程序的最好方式，就是不写代码。\"--Kelsey Hightower\r\n\r\n很多开发者应该或多或少听过**单元测试**（ Unit Tests ），甚至编写过，也或许对其有所了解。不过，在如今瞬息万变的环境下，单元测试似乎正在成为鸡肋。程序员们都知道它的好处，但是对其显得比较冷淡。“进度这么赶，还有什么时间写单元测试呢？”这样的话是不是听着很熟悉？\r\n\r\n## 单元测试是什么？\r\n\r\n所谓单元测试，简而言之就是程序员编写测试代码来验证自己写的功能代码是否能按照要求运行。如果测试代码不能通过，就说明自己写的功能代码是有问题的。\r\n\r\n这种*自己测自己*的方式似乎有些可笑，相当于考试时看着答案做题。然而在测试领域，这样的方式有个专业术语叫**白盒测试**。而白盒测试的对立术语叫**黑盒测试**，也就是用其他方式来验证。单元测试属于白盒测试，而更高级的测试例如*集成测试*（ Integration Tests ）、*端到端测试*（ End to End Tests ）、*UI 测试*（ UI Tests ），都属于黑盒测试。**单元测试仅仅是测试代码本身。**\r\n\r\n![Testing Pyramid]( https://codao.crawlab.cn/images/2022-10-11-013816.png)\r\n\r\n## 单元测试有什么用？\r\n\r\n单元测试在**敏捷开发**（ Agile Development ）中是非常有用的工具。甚至有些敏捷框架，例如极限编程（ XP ），就要求每一个功能必须被单元测试覆盖。在之前的文章[《浅谈敏捷：你的团队在正确实践敏捷吗？》]( https://mp.weixin.qq.com/s?__biz=Mzg5NTU2MzA5MQ==&mid=2247484215&idx=1&sn=a6c55407ceb57245878a513a3382eed7&chksm=c00f270bf778ae1d282c88f84f02a851832364ddd89778cc25b0d1b2db37fecfebb3f83cc63d&token=270691708&lang=zh_CN#rd)就提到过单元测试的重要性。\r\n\r\n概括来说，单元测试有下面几个重要作用：\r\n\r\n- **可持续质量保证**：单元测试能保证业务逻辑代码在经常性的被更改或重构之后不被破坏\r\n- **自动化集成**：单元测试一般可以集成到 CI/CD 中，当代码提交后自动触发\r\n- **功能文档化**：测试用例可以帮助新接触该代码的开发者熟悉代码的功能和验证条件\r\n\r\n因此，表面上来看，单元测试对于软件开发来说会带来比较大的收益。\r\n\r\n## 为什么不写单元测试？\r\n\r\n单元测试可以提高我们的产品质量、测试效率，那为什么程序员还是不喜欢写单元测试呢？据 JetBrains 统计，被调查者中仅有 57% 要写单元测试，仅有 35% 会在大部分项目中实施自动化测试。\r\n\r\n那么，为什么？有几个可能的主要原因：\r\n\r\n- **工作量变多**：“50 行代码的功能，要我写 100 行来测？不加班能完成？”\r\n- **专业自信**：“我一个资深程序员，写出来的程序怎么可能有 bug 呢？”\r\n- **感觉不适用**：“就这么几个页面，也需要写单元测试？”\r\n- **有专人测试**：“反正都有 QA 了，找他们来不就是找 bug 么？”\r\n\r\n然而，这几个原因都经不起推敲：第一，长期来看自己修复 bug 写的代码量肯定远不止这么点；第二，不管是多么牛逼的程序员，代码写多了，根据大数定理，都会有失误的时候；第三，简单功能如果被引用多了，也会变得重要；第四，QA 的主要工作是保证整体质量，而单元测试是保证局部质量，缺陷部件组装出的产品会优质么？\r\n\r\n## 变得有远见\r\n\r\n其实，这里最主要的原因是**思维模式**，程序员大部分时候会站在个体的角度，思考短期的问题，从而忽略了长期的成本收益。作为一个合格的开发者，最主要目标是用最有效的方式开发出最大价值的功能。因此，单元测试在短时间内无法创造价值，从而被很多人忽视。\r\n\r\n单元测试就像读书，短期内不能让人知识渊博、名利兼收，但长期来看是会有效果的。单元测试如果成为习惯或组织文化，就会更容易打造高质量产品和持续交付。要在团队中推广单元测试，需要更根本的流程，例如极限编程、测试驱动编程，或者更高决策者，例如 CTO 、架构师。\r\n\r\n## 社区\r\n\r\n如果您对笔者的文章感兴趣，可以加笔者微信 tikazyq1 并注明 \"码之道\"，笔者会将你拉入 \"码之道\" 交流群。\r\n\r\n本篇文章英文版同步发布在 [dev.to]( https://dev.to/tikazyq/talking-testing-the-love-and-hate-of-unit-tests-5gl)，技术分享无国界，欢迎大佬们指点。", "content_rendered": "<p><em>作为从事软件开发多年的资深码农，看遍了各种事故和火葬现场。在接触测试驱动开发以及敏捷之后，发现这正是解决 bug 丛生、issue 漫天，最终导致 996 、007 修 bug 的困境。</em></p>\n<p><em>这里将单元测试的一些看法分享给大家，希望能够提供一些启发。英译版同步发布在 <a href=\"https://dev.to/tikazyq/talking-testing-the-love-and-hate-of-unit-tests-5gl\" rel=\"nofollow\">dev.to</a>，欢迎一起交流学习。</em></p>\n<p><em>下面是正文。</em></p>\n<hr/>\n<h1>浅谈测试：单元测试的爱恨情仇</h1>\n<h2>引子</h2>\n<blockquote>\n<p>\"开发安全可靠的应用程序的最好方式，就是不写代码。\"--Kelsey Hightower</p>\n</blockquote>\n<p>很多开发者应该或多或少听过<strong>单元测试</strong>（ Unit Tests ），甚至编写过，也或许对其有所了解。不过，在如今瞬息万变的环境下，单元测试似乎正在成为鸡肋。程序员们都知道它的好处，但是对其显得比较冷淡。“进度这么赶，还有什么时间写单元测试呢？”这样的话是不是听着很熟悉？</p>\n<h2>单元测试是什么？</h2>\n<p>所谓单元测试，简而言之就是程序员编写测试代码来验证自己写的功能代码是否能按照要求运行。如果测试代码不能通过，就说明自己写的功能代码是有问题的。</p>\n<p>这种<em>自己测自己</em>的方式似乎有些可笑，相当于考试时看着答案做题。然而在测试领域，这样的方式有个专业术语叫<strong>白盒测试</strong>。而白盒测试的对立术语叫<strong>黑盒测试</strong>，也就是用其他方式来验证。单元测试属于白盒测试，而更高级的测试例如<em>集成测试</em>（ Integration Tests ）、<em>端到端测试</em>（ End to End Tests ）、<em>UI 测试</em>（ UI Tests ），都属于黑盒测试。<strong>单元测试仅仅是测试代码本身。</strong></p>\n<p><img alt=\"Testing Pyramid\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://codao.crawlab.cn/images/2022-10-11-013816.png\"/></p>\n<h2>单元测试有什么用？</h2>\n<p>单元测试在<strong>敏捷开发</strong>（ Agile Development ）中是非常有用的工具。甚至有些敏捷框架，例如极限编程（ XP ），就要求每一个功能必须被单元测试覆盖。在之前的文章<a href=\"https://mp.weixin.qq.com/s?__biz=Mzg5NTU2MzA5MQ==&amp;mid=2247484215&amp;idx=1&amp;sn=a6c55407ceb57245878a513a3382eed7&amp;chksm=c00f270bf778ae1d282c88f84f02a851832364ddd89778cc25b0d1b2db37fecfebb3f83cc63d&amp;token=270691708&amp;lang=zh_CN#rd\" rel=\"nofollow\">《浅谈敏捷：你的团队在正确实践敏捷吗？》</a>就提到过单元测试的重要性。</p>\n<p>概括来说，单元测试有下面几个重要作用：</p>\n<ul>\n<li><strong>可持续质量保证</strong>：单元测试能保证业务逻辑代码在经常性的被更改或重构之后不被破坏</li>\n<li><strong>自动化集成</strong>：单元测试一般可以集成到 CI/CD 中，当代码提交后自动触发</li>\n<li><strong>功能文档化</strong>：测试用例可以帮助新接触该代码的开发者熟悉代码的功能和验证条件</li>\n</ul>\n<p>因此，表面上来看，单元测试对于软件开发来说会带来比较大的收益。</p>\n<h2>为什么不写单元测试？</h2>\n<p>单元测试可以提高我们的产品质量、测试效率，那为什么程序员还是不喜欢写单元测试呢？据 JetBrains 统计，被调查者中仅有 57% 要写单元测试，仅有 35% 会在大部分项目中实施自动化测试。</p>\n<p>那么，为什么？有几个可能的主要原因：</p>\n<ul>\n<li><strong>工作量变多</strong>：“50 行代码的功能，要我写 100 行来测？不加班能完成？”</li>\n<li><strong>专业自信</strong>：“我一个资深程序员，写出来的程序怎么可能有 bug 呢？”</li>\n<li><strong>感觉不适用</strong>：“就这么几个页面，也需要写单元测试？”</li>\n<li><strong>有专人测试</strong>：“反正都有 QA 了，找他们来不就是找 bug 么？”</li>\n</ul>\n<p>然而，这几个原因都经不起推敲：第一，长期来看自己修复 bug 写的代码量肯定远不止这么点；第二，不管是多么牛逼的程序员，代码写多了，根据大数定理，都会有失误的时候；第三，简单功能如果被引用多了，也会变得重要；第四，QA 的主要工作是保证整体质量，而单元测试是保证局部质量，缺陷部件组装出的产品会优质么？</p>\n<h2>变得有远见</h2>\n<p>其实，这里最主要的原因是<strong>思维模式</strong>，程序员大部分时候会站在个体的角度，思考短期的问题，从而忽略了长期的成本收益。作为一个合格的开发者，最主要目标是用最有效的方式开发出最大价值的功能。因此，单元测试在短时间内无法创造价值，从而被很多人忽视。</p>\n<p>单元测试就像读书，短期内不能让人知识渊博、名利兼收，但长期来看是会有效果的。单元测试如果成为习惯或组织文化，就会更容易打造高质量产品和持续交付。要在团队中推广单元测试，需要更根本的流程，例如极限编程、测试驱动编程，或者更高决策者，例如 CTO 、架构师。</p>\n<h2>社区</h2>\n<p>如果您对笔者的文章感兴趣，可以加笔者微信 tikazyq1 并注明 \"码之道\"，笔者会将你拉入 \"码之道\" 交流群。</p>\n<p>本篇文章英文版同步发布在 <a href=\"https://dev.to/tikazyq/talking-testing-the-love-and-hate-of-unit-tests-5gl\" rel=\"nofollow\">dev.to</a>，技术分享无国界，欢迎大佬们指点。</p>\n", "last_modified": 1665486103, "replies": 61, "id": 886162}]