[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1650127257", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1650127257", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 48387, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1650127257", "stars": 7788, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 103835, "username": "babyoung", "url": "https://www.v2ex.com/u/babyoung", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/4df4/9b56/103835_mini.png?m=1637997814", "avatar_normal": "https://cdn.v2ex.com/avatar/4df4/9b56/103835_normal.png?m=1637997814", "avatar_large": "https://cdn.v2ex.com/avatar/4df4/9b56/103835_large.png?m=1637997814", "created": 1426049717, "last_modified": 1637997814}, "last_reply_by": "228ly", "last_touched": 1650476019, "title": "程序员开展副业的一些思考、参考", "url": "https://www.v2ex.com/t/848072", "created": 1650420451, "deleted": 0, "content": "最近看了不少期 [`Ali Abdaal`]( https://www.youtube.com/channel/UCoOae5nYA7VqaXzerajD0lg) 视频 多少是有点感触的\r\n\r\n![image.png]( https://s2.loli.net/2022/04/20/EQ1paue2on3ZNT4.png)\r\n\r\n每周的被动收入高达 27000$ 令人艳羡\r\n\r\n在这里，我也转推下这本小书 `Show your work`（很多博主、视频创作者也都推荐过） \r\n\r\n英文原版也很通俗易懂（下图也展示了我阅读中遇到了一些生词，我会标注并收集到单词本，这个习惯持续了很多年）：\r\n\r\n![971650420251_.pic.jpg]( https://s2.loli.net/2022/04/20/1E5d6Q2sazqJjKc.jpg)\r\n\r\n\r\n由于我本人的经历并不具备很强的说服力，去年开展的一些业务也是巨亏，但是我依然乐意继续探索下去。\r\n\r\n在这里我简单的罗列一下 Ali 提及的一些路子：\r\n\r\n- 理财（股票 基金等）\r\n- 视频创作\r\n- 播客\r\n- 卖数码产品\r\n- 卖课\r\n- 会员制社区\r\n- 开发 app 或者网站", "content_rendered": "<p>最近看了不少期 <a href=\"https://www.youtube.com/channel/UCoOae5nYA7VqaXzerajD0lg\" rel=\"nofollow\"><code>Ali Abdaal</code></a> 视频 多少是有点感触的</p>\n<p><img alt=\"image.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://s2.loli.net/2022/04/20/EQ1paue2on3ZNT4.png\"/></p>\n<p>每周的被动收入高达 27000$ 令人艳羡</p>\n<p>在这里，我也转推下这本小书 <code>Show your work</code>（很多博主、视频创作者也都推荐过） </p>\n<p>英文原版也很通俗易懂（下图也展示了我阅读中遇到了一些生词，我会标注并收集到单词本，这个习惯持续了很多年）：</p>\n<p><img alt=\"971650420251_.pic.jpg\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://s2.loli.net/2022/04/20/1E5d6Q2sazqJjKc.jpg\"/></p>\n<p>由于我本人的经历并不具备很强的说服力，去年开展的一些业务也是巨亏，但是我依然乐意继续探索下去。</p>\n<p>在这里我简单的罗列一下 Ali 提及的一些路子：</p>\n<ul>\n<li>理财（股票 基金等）</li>\n<li>视频创作</li>\n<li>播客</li>\n<li>卖数码产品</li>\n<li>卖课</li>\n<li>会员制社区</li>\n<li>开发 app 或者网站</li>\n</ul>\n", "last_modified": 1650420670, "replies": 165, "id": 848072}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/1f0e/3dad/19_large.png?m=1650127314", "name": "beijing", "avatar_normal": "https://cdn.v2ex.com/navatar/1f0e/3dad/19_normal.png?m=1650127314", "title": "北京", "url": "https://www.v2ex.com/go/beijing", "topics": 3427, "footer": "", "header": "", "title_alternative": "Beijing", "avatar_mini": "https://cdn.v2ex.com/navatar/1f0e/3dad/19_mini.png?m=1650127314", "stars": 1983, "aliases": [], "root": false, "id": 19, "parent_node_name": "cn"}, "member": {"id": 338241, "username": "summersnow521", "url": "https://www.v2ex.com/u/summersnow521", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/5752/0208/338241_mini.png?m=1615798366", "avatar_normal": "https://cdn.v2ex.com/avatar/5752/0208/338241_normal.png?m=1615798366", "avatar_large": "https://cdn.v2ex.com/avatar/5752/0208/338241_large.png?m=1615798366", "created": 1533269034, "last_modified": 1615798366}, "last_reply_by": "kawaiidora", "last_touched": 1650476651, "title": "不生孩子立省 90% 以上生活烦恼，你们怎么看？", "url": "https://www.v2ex.com/t/848073", "created": 1650420555, "deleted": 0, "content": "如题！\r\n坐标帝都，和媳妇儿两人都是北漂程序猿。孩子四岁，目前双方父母都没时间照看了，有感而发。。。\r\n\r\n90% 生活烦恼的大多来自于钱，或基本都可以通过花钱解决：\r\n1. 因孩子上学想接送方便，所以选择距离幼儿园比较近的小区租房，房租 8k/月（额外多 3k/月）；\r\n2. 因后老人没空帮忙带看，所以需要请保姆帮忙接送、处理家务，保姆费预计 5.5k/月；\r\n3. 粗略估算养娃成本（托管费、延时课、穿衣、玩具、食品、生病等）平均约 3.5k/月；\r\n4. 时间成本无法计算；\r\n\r\n以上合计：12k/月，约 15 万 /年\r\n\r\n---------------------分割线---------------------\r\n抱怨归抱怨，但孩子出生后带来的快乐也有很多，而且夫妻之间的矛盾也少了许多，大概是精力都放在孩子身上了吧。\r\n\r\n补充：\r\n1. 租房在附近小区差不多都这价格，由于北漂原因，当初幼儿园报名时只能优先选择能接收的学校，再考虑居住小区，选择的范围自然也就少了；\r\n2. 父母帮忙带了三四年，已经很不容易了，也尊重他们选择；\r\n\r\n生活还要继续，希望挺过这两三年，等孩子上小学后能好点。。。\r\n\r\n加油吧，各位！", "content_rendered": "<p>如题！\n坐标帝都，和媳妇儿两人都是北漂程序猿。孩子四岁，目前双方父母都没时间照看了，有感而发。。。</p>\n<p>90% 生活烦恼的大多来自于钱，或基本都可以通过花钱解决：</p>\n<ol>\n<li>因孩子上学想接送方便，所以选择距离幼儿园比较近的小区租房，房租 8k/月（额外多 3k/月）；</li>\n<li>因后老人没空帮忙带看，所以需要请保姆帮忙接送、处理家务，保姆费预计 5.5k/月；</li>\n<li>粗略估算养娃成本（托管费、延时课、穿衣、玩具、食品、生病等）平均约 3.5k/月；</li>\n<li>时间成本无法计算；</li>\n</ol>\n<p>以上合计：12k/月，约 15 万 /年</p>\n<p>---------------------分割线---------------------\n抱怨归抱怨，但孩子出生后带来的快乐也有很多，而且夫妻之间的矛盾也少了许多，大概是精力都放在孩子身上了吧。</p>\n<p>补充：</p>\n<ol>\n<li>租房在附近小区差不多都这价格，由于北漂原因，当初幼儿园报名时只能优先选择能接收的学校，再考虑居住小区，选择的范围自然也就少了；</li>\n<li>父母帮忙带了三四年，已经很不容易了，也尊重他们选择；</li>\n</ol>\n<p>生活还要继续，希望挺过这两三年，等孩子上小学后能好点。。。</p>\n<p>加油吧，各位！</p>\n", "last_modified": 1650420555, "replies": 148, "id": 848073}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6353/8fe6/519_large.png?m=1595507885", "name": "ideas", "avatar_normal": "https://cdn.v2ex.com/navatar/6353/8fe6/519_normal.png?m=1595507885", "title": "奇思妙想", "url": "https://www.v2ex.com/go/ideas", "topics": 4934, "footer": "", "header": "让你的创意在这里自由流动吧。", "title_alternative": "Ideas", "avatar_mini": "https://cdn.v2ex.com/navatar/6353/8fe6/519_mini.png?m=1595507885", "stars": 2573, "aliases": [], "root": false, "id": 519, "parent_node_name": "v2ex"}, "member": {"id": 578657, "username": "soyojoearth", "url": "https://www.v2ex.com/u/soyojoearth", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/693930ca7a36aed9f29287460f83fa39?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/693930ca7a36aed9f29287460f83fa39?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/693930ca7a36aed9f29287460f83fa39?s=73&d=retro", "created": 1650355939, "last_modified": 1650356466}, "last_reply_by": "GeruzoniAnsasu", "last_touched": 1650473241, "title": "构想：为了打破垄断，想做一个开源的产权去中心化的即时通讯开源项目", "url": "https://www.v2ex.com/t/848089", "created": 1650424049, "deleted": 0, "content": "昨天微信差点被封，于是我突发奇想，希望发起或参与这样一个开源的项目：\r\n\r\n1 、一个相当于去中心化的微信，任何服务器完蛋都不会影响系统的功能；\r\n2 、没有任何人控制该系统全部，没有任何人可以恶意干涉内容；\r\n3 、传输管道加密，点对点加密，朋友圈内容也加密；\r\n4 、App 分发自由，Android 和 iOS 全开源，任何人都可以打包、发布，只要协议一致就可以互通；\r\n5 、服务器代码全开源，也有 Docker 封装，简单一键安装便形成一个节点；\r\n6 、各服务器产权分布式归属，且该系统协议上没有特征，内容不受恶意干涉、避免恶意攻击扫描；\r\n7 、商业上可持续，可以通过广告、群社区经营实现盈利；\r\n\r\n\r\n我花了 1 天推敲了各技术实现基本思路，还画了架构图。（再这里放图链接就提示我需要注册满 30 天）\r\n架构图在 github 项目 /soyojoearth/freechat 首页\r\n\r\n这些需要用到的技术不复杂，但是工作量非常大，希望能有多人参与。\r\n大家觉得怎么样？", "content_rendered": "昨天微信差点被封，于是我突发奇想，希望发起或参与这样一个开源的项目：<br /><br />1 、一个相当于去中心化的微信，任何服务器完蛋都不会影响系统的功能；<br />2 、没有任何人控制该系统全部，没有任何人可以恶意干涉内容；<br />3 、传输管道加密，点对点加密，朋友圈内容也加密；<br />4 、App 分发自由，Android 和 iOS 全开源，任何人都可以打包、发布，只要协议一致就可以互通；<br />5 、服务器代码全开源，也有 Docker 封装，简单一键安装便形成一个节点；<br />6 、各服务器产权分布式归属，且该系统协议上没有特征，内容不受恶意干涉、避免恶意攻击扫描；<br />7 、商业上可持续，可以通过广告、群社区经营实现盈利；<br /><br /><br />我花了 1 天推敲了各技术实现基本思路，还画了架构图。（再这里放图链接就提示我需要注册满 30 天）<br />架构图在 github 项目 /soyojoearth/freechat 首页<br /><br />这些需要用到的技术不复杂，但是工作量非常大，希望能有多人参与。<br />大家觉得怎么样？", "last_modified": 1650424552, "replies": 113, "id": 848089}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 183822, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3460, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 349171, "username": "bzsh", "url": "https://www.v2ex.com/u/bzsh", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/2f14f34f0c90f23d9cf556cd931d926f?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/2f14f34f0c90f23d9cf556cd931d926f?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/2f14f34f0c90f23d9cf556cd931d926f?s=73&d=retro", "created": 1536798040, "last_modified": 1536798040}, "last_reply_by": "xuzhzzz", "last_touched": 1650473215, "title": "有人了解奥园这家房地产公司的现状吗？女朋友买了这家的房子，踏雷了......", "url": "https://www.v2ex.com/t/848057", "created": 1650418277, "deleted": 0, "content": "", "content_rendered": "", "last_modified": 1650418277, "replies": 81, "id": 848057}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/a3c6/5c29/108_large.png?m=1635654723", "name": "bb", "avatar_normal": "https://cdn.v2ex.com/navatar/a3c6/5c29/108_normal.png?m=1635654723", "title": "宽带症候群", "url": "https://www.v2ex.com/go/bb", "topics": 10641, "footer": "", "header": "网速很重要。比快更快。", "title_alternative": "Broadband Symptom Complex", "avatar_mini": "https://cdn.v2ex.com/navatar/a3c6/5c29/108_mini.png?m=1635654723", "stars": 5520, "aliases": [], "root": false, "id": 108, "parent_node_name": "geek"}, "member": {"id": 578390, "username": "DavidA", "url": "https://www.v2ex.com/u/DavidA", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/f4e345e377d2388988d2ff6aecd9febb?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/f4e345e377d2388988d2ff6aecd9febb?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/f4e345e377d2388988d2ff6aecd9febb?s=73&d=retro", "created": 1650031531, "last_modified": 1650031704}, "last_reply_by": "OYSTER2DO", "last_touched": 1650464064, "title": "想 DIY 软路由，有什么学习渠道吗？", "url": "https://www.v2ex.com/t/848056", "created": 1650418007, "deleted": 0, "content": "想 DIY 软路由，我知道用旧电脑也可以，家里就有一台烂旧电脑\r\n\r\n可是考虑到 **功耗**、**美观**\r\n\r\n我想自己 DIY 一个软路由，单纯用来弄 VPN ，所以我觉得性能不用太高？\r\n\r\n有大佬推荐什么了解、学习的**渠道**吗？", "content_rendered": "<p>想 DIY 软路由，我知道用旧电脑也可以，家里就有一台烂旧电脑</p>\n<p>可是考虑到 <strong>功耗</strong>、<strong>美观</strong></p>\n<p>我想自己 DIY 一个软路由，单纯用来弄 VPN ，所以我觉得性能不用太高？</p>\n<p>有大佬推荐什么了解、学习的<strong>渠道</strong>吗？</p>\n", "last_modified": 1650418007, "replies": 74, "id": 848056}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6ecb/dd6e/426_large.png?m=1592893106", "name": "wwdc", "avatar_normal": "https://cdn.v2ex.com/navatar/6ecb/dd6e/426_normal.png?m=1592893106", "title": "WWDC", "url": "https://www.v2ex.com/go/wwdc", "topics": 86, "footer": "", "header": "Apple Worldwide Developers Conference", "title_alternative": "WWDC", "avatar_mini": "https://cdn.v2ex.com/navatar/6ecb/dd6e/426_mini.png?m=1592893106", "stars": 73, "aliases": [], "root": false, "id": 426, "parent_node_name": "apple"}, "member": {"id": 192732, "username": "chipmuck", "url": "https://www.v2ex.com/u/chipmuck", "website": "", "twitter": "NSShuhari", "psn": "", "github": "", "btc": "", "location": "Hangzhou", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/82a4/c102/192732_mini.png?m=1650416611", "avatar_normal": "https://cdn.v2ex.com/avatar/82a4/c102/192732_normal.png?m=1650416611", "avatar_large": "https://cdn.v2ex.com/avatar/82a4/c102/192732_large.png?m=1650416611", "avatar_xlarge": "https://cdn.v2ex.com/avatar/82a4/c102/192732_xlarge.png?m=1650416611", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/82a4/c102/192732_xlarge.png?m=1650416611", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/82a4/c102/192732_xlarge.png?m=1650416611", "created": 1474420809, "last_modified": 1650416611}, "last_reply_by": "dudesun", "last_touched": 1650473202, "title": "WWDC22 许愿池", "url": "https://www.v2ex.com/t/848052", "created": 1650416857, "deleted": 0, "content": "除了常规的软件版本更新外，有没有一些你「希望」会在此次 WWDC 上登场的硬件 /软件服务？\r\n\r\n我先来：\r\n\r\n1. 更稳定的 Xcode\r\n2. iMac 27\r\n3. 天国的 HomePod", "content_rendered": "除了常规的软件版本更新外，有没有一些你「希望」会在此次 WWDC 上登场的硬件 /软件服务？<br /><br />我先来：<br /><br />1. 更稳定的 Xcode<br />2. iMac 27<br />3. 天国的 HomePod", "last_modified": 1650416857, "replies": 68, "id": 848052}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1650127257", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1650127257", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 48387, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1650127257", "stars": 7788, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 154665, "username": "zilan", "url": "https://www.v2ex.com/u/zilan", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/e195/7a62/154665_mini.png?m=1517038367", "avatar_normal": "https://cdn.v2ex.com/avatar/e195/7a62/154665_normal.png?m=1517038367", "avatar_large": "https://cdn.v2ex.com/avatar/e195/7a62/154665_large.png?m=1517038367", "created": 1452244258, "last_modified": 1517038367}, "last_reply_by": "jones2000", "last_touched": 1650473977, "title": "片面感觉前端（有一部分）是在提高入行门槛", "url": "https://www.v2ex.com/t/848148", "created": 1650437639, "deleted": 0, "content": "感觉前端（有一部分的行为）是在提高入行门槛，比如复杂的设计，明明简单的方案能解决的问题，一定要设计一个复杂的系统，遇到了问题后再用一个新的复杂的设计来解决新的问题。\r\n终极目的不是为了降低开发成本，而是“提高（自己的）开发体验”，（而有些前端开发者担心技术本体不够简单，任何人都能参与）最终达到了提高技术门槛，实现技术垄断。\r\n\r\n观点有些片面，不知大家怎么看", "content_rendered": "<p>感觉前端（有一部分的行为）是在提高入行门槛，比如复杂的设计，明明简单的方案能解决的问题，一定要设计一个复杂的系统，遇到了问题后再用一个新的复杂的设计来解决新的问题。\n终极目的不是为了降低开发成本，而是“提高（自己的）开发体验”，（而有些前端开发者担心技术本体不够简单，任何人都能参与）最终达到了提高技术门槛，实现技术垄断。</p>\n<p>观点有些片面，不知大家怎么看</p>\n", "last_modified": 1650437639, "replies": 63, "id": 848148}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6395/ebd0/954_large.png?m=1499745703", "name": "algorithm", "avatar_normal": "https://cdn.v2ex.com/navatar/6395/ebd0/954_normal.png?m=1499745703", "title": "算法", "url": "https://www.v2ex.com/go/algorithm", "topics": 385, "footer": "", "header": "", "title_alternative": "Algorithm", "avatar_mini": "https://cdn.v2ex.com/navatar/6395/ebd0/954_mini.png?m=1499745703", "stars": 470, "aliases": [], "root": false, "id": 954, "parent_node_name": "programmer"}, "member": {"id": 162136, "username": "3dwelcome", "url": "https://www.v2ex.com/u/3dwelcome", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/d2d0/2f32/162136_mini.png?m=1644832617", "avatar_normal": "https://cdn.v2ex.com/avatar/d2d0/2f32/162136_normal.png?m=1644832617", "avatar_large": "https://cdn.v2ex.com/avatar/d2d0/2f32/162136_large.png?m=1644832617", "created": 1457260101, "last_modified": 1644832617}, "last_reply_by": "documentzhangx66", "last_touched": 1650469889, "title": "构建一个完美无冲突的 hashmap（上图附代码)", "url": "https://www.v2ex.com/t/848178", "created": 1650443445, "deleted": 0, "content": "继上篇，上文的 5bit 占位算法，平均查一次需要计算 5 次哈希函数，效率不行。\r\n\r\n我在想，既然数据库用户密码哈希都能加盐，那么 hashmap 优化也是可以加的，同一个 key ，加了不同的盐后，计算出的哈希值是完全不一样的，既可以避免冲突，也能提升查找效率。\r\n\r\n具体算法还是很简单，以查找一个英文字典举例：\r\n\r\n1. 分配一个比数据量要大一点的桶数组。\r\n2. 依次遍历原始字符串，把当前字符串 hash 后的结果，保存到对应的桶 ID 里。\r\n3. 如果目标桶被占用了，那么换一个盐或者种子 ID ，一直到找到空余的桶。\r\n4. 依次处理完所有数据。\r\n\r\n这样就构建结束，由于加了盐，那么查找 key 的时候，也需要同时把 key 对应的种子 ID 也附带传进去。\r\n\r\n\r\n\r\n我用 VS2022 写了一点点性能测试代码，对一个字典查找 8 千万次，在 release 下编译。\r\n如下图所示，由于完美哈希没有一个冲突，查找效率明显要比标准的 stl 好很多。\r\n\r\nhttps://i.imgur.com/VqjdiN4.jpg", "content_rendered": "继上篇，上文的 5bit 占位算法，平均查一次需要计算 5 次哈希函数，效率不行。<br /><br />我在想，既然数据库用户密码哈希都能加盐，那么 hashmap 优化也是可以加的，同一个 key ，加了不同的盐后，计算出的哈希值是完全不一样的，既可以避免冲突，也能提升查找效率。<br /><br />具体算法还是很简单，以查找一个英文字典举例：<br /><br />1. 分配一个比数据量要大一点的桶数组。<br />2. 依次遍历原始字符串，把当前字符串 hash 后的结果，保存到对应的桶 ID 里。<br />3. 如果目标桶被占用了，那么换一个盐或者种子 ID ，一直到找到空余的桶。<br />4. 依次处理完所有数据。<br /><br />这样就构建结束，由于加了盐，那么查找 key 的时候，也需要同时把 key 对应的种子 ID 也附带传进去。<br /><br /><br /><br />我用 VS2022 写了一点点性能测试代码，对一个字典查找 8 千万次，在 release 下编译。<br />如下图所示，由于完美哈希没有一个冲突，查找效率明显要比标准的 stl 好很多。<br /><br /><a target=\"_blank\" href=\"https://i.imgur.com/VqjdiN4.jpg\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/VqjdiN4.jpg\" class=\"embedded_image\" rel=\"noreferrer\"></a>", "last_modified": 1650443445, "replies": 55, "id": 848178}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/ab88/b157/836_large.png?m=1450649879", "name": "telegram", "avatar_normal": "https://cdn.v2ex.com/navatar/ab88/b157/836_normal.png?m=1450649879", "title": "Telegram", "url": "https://www.v2ex.com/go/telegram", "topics": 550, "footer": "", "header": "一个全新的主打安全和隐私的通讯平台——Telegram Messenger，来自俄罗斯最大的社交网站 VK 的创建人 Nikolai Durov 和 Pavel Durov 兄弟", "title_alternative": "Telegram", "avatar_mini": "https://cdn.v2ex.com/navatar/ab88/b157/836_mini.png?m=1450649879", "stars": 863, "aliases": [], "root": false, "id": 836, "parent_node_name": "internet"}, "member": {"id": 17854, "username": "realfatboy", "url": "https://www.v2ex.com/u/realfatboy", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/fa2382dc5ca4db92e62d74359b68ad7c?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/fa2382dc5ca4db92e62d74359b68ad7c?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/fa2382dc5ca4db92e62d74359b68ad7c?s=73&d=retro", "created": 1331358599, "last_modified": 1331444999}, "last_reply_by": "SgtPepper", "last_touched": 1650477750, "title": "为什么微信那么占空间，而电报（telegram）却没有这个问题？", "url": "https://www.v2ex.com/t/848198", "created": 1650446840, "deleted": 0, "content": "电报的开车群，天天一大堆图片和视频，但我查看电报实际占用的手机空间都不算多。\r\n\r\n另外也好奇电报这么多人发这么多视频，说存在云服务器，它的服务器这么多吗？它也没什么收费项目，没广告，怎么可能覆盖到费用支出的？", "content_rendered": "<p>电报的开车群，天天一大堆图片和视频，但我查看电报实际占用的手机空间都不算多。</p>\n<p>另外也好奇电报这么多人发这么多视频，说存在云服务器，它的服务器这么多吗？它也没什么收费项目，没广告，怎么可能覆盖到费用支出的？</p>\n", "last_modified": 1650446840, "replies": 50, "id": 848198}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 183822, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3460, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 265618, "username": "zx9481", "url": "https://www.v2ex.com/u/zx9481", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/943b/33bb/265618_mini.png?m=1531536576", "avatar_normal": "https://cdn.v2ex.com/avatar/943b/33bb/265618_normal.png?m=1531536576", "avatar_large": "https://cdn.v2ex.com/avatar/943b/33bb/265618_large.png?m=1531536576", "created": 1510067967, "last_modified": 1531536576}, "last_reply_by": "DavidXs", "last_touched": 1650464246, "title": "离职 5 个月, 上家公司喊我回去, 应该如何委婉的拒绝呢？", "url": "https://www.v2ex.com/t/848044", "created": 1650415716, "deleted": 0, "content": "", "content_rendered": "", "last_modified": 1650415716, "replies": 47, "id": 848044}]