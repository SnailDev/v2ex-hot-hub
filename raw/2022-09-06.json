[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/1fc2/1400/864_large.png?m=1658911802", "name": "promotions", "avatar_normal": "https://cdn.v2ex.com/navatar/1fc2/1400/864_normal.png?m=1658911802", "title": "推广", "url": "https://www.v2ex.com/go/promotions", "topics": 6632, "footer": "", "header": "来自厂商的推广活动类主题，会被归类到这个节点。希望有情怀的产商们在发布推广内容时，主动选择发布到本节点下。点击 <a href=\"/help/node\">这里</a> 阅读 V2EX 的节点使用指南。", "title_alternative": "Promotions", "avatar_mini": "https://cdn.v2ex.com/navatar/1fc2/1400/864_mini.png?m=1658911802", "stars": 717, "aliases": [], "root": false, "id": 864, "parent_node_name": ""}, "member": {"id": 265236, "username": "Yunsheng", "url": "https://www.v2ex.com/u/Yunsheng", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "今年的猕猴桃 9 月起正式开卖，有需要的朋友看我的简介", "bio": "家里有猕猴桃果园，每年给大家带来好吃的。\r\n\r\n购买链接：https://weidian.com/item.html?itemID=2162577866&wfr=wxp&source=goods_home&ifr=itemdetail&sfr=app\r\n\r\n微信： amlvbmdzaXdvbGU=", "avatar_mini": "https://cdn.v2ex.com/avatar/9ff6/bcf3/265236_mini.png?m=1661835017", "avatar_normal": "https://cdn.v2ex.com/avatar/9ff6/bcf3/265236_normal.png?m=1661835017", "avatar_large": "https://cdn.v2ex.com/avatar/9ff6/bcf3/265236_large.png?m=1661835017", "created": 1509948729, "last_modified": 1661835017}, "last_reply_by": "KnightNic", "last_touched": 1662404013, "title": "亲，您中奖了，请于今晚 24 点前联系我，过期重新抽奖，本帖继续抽奖", "url": "https://www.v2ex.com/t/877784", "created": 1662352313, "deleted": 0, "content": "**原抽奖贴：** https://www.v2ex.com/t/876449?p=3#reply419\r\n上一个帖子的楼层为*415*楼，中奖者为**232**楼 @buppter：\r\n![]( https://tva1.sinaimg.cn/large/e6c9d24ely1h5vll8h9dhj216m04saa7.jpg)\r\n**截止目前，中奖者都未曾联系我，请该 v 友赶紧联系我，截止到晚上 24 点，如果还未联系，则视为放弃，重新抽奖。**\r\n\r\n# 本帖继续抽奖，抽奖截止日期 2022.9.07 24:00:00\r\n感谢之前支持我的老铁们，正逢中秋，回家团聚或者亲戚朋友送礼，欢迎大家选购我家的猕猴桃🥝，让我早点帮父母卖完。下面由我介绍一下我们家的猕猴桃🥝。\r\n\r\n```\r\n猕猴桃🥝又名奇异果\r\n富含维生素 C ，可强化免疫系统，补充脑力所消耗的营养；它的低钠高钾的完美比例，可补充熬夜加班所失去的体力。\r\n促消化清洁肠胃\r\n帮助睡眠、安抚情绪\r\n美颜圣品\r\n减肥良药\r\n...\r\n总之好处多多，哈哈，我就不继续吹了。\r\n```\r\n\r\n## 微信扫码即可购买\r\n![]( https://tva1.sinaimg.cn/large/e6c9d24ely1h5vlzbw5iuj20ku112q5j.jpg)\r\n## 1V1 客服微信\r\n![]( https://tva1.sinaimg.cn/large/e6c9d24ely1h5vm7col9yj20kw0qqq4l.jpg)\r\n## 宣传照（实拍无 P 图）\r\n![]( https://tva1.sinaimg.cn/large/008i3skNly1guee0n22zwj60sg0lcdk302.jpg)\r\n![]( https://tva1.sinaimg.cn/large/008i3skNly1guee0whw7vj60sg0lcgtk02.jpg)\r\n![]( https://tva1.sinaimg.cn/large/008i3skNly1guee0ry50hj60lc0sgqb002.jpg)", "content_rendered": "<p><strong>原抽奖贴：</strong> <a href=\"https://www.v2ex.com/t/876449?p=3#reply419\" rel=\"nofollow\">https://www.v2ex.com/t/876449?p=3#reply419</a>\n上一个帖子的楼层为<em>415</em>楼，中奖者为<strong>232</strong>楼 @buppter：\n<img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1h5vll8h9dhj216m04saa7.jpg\"/>\n<strong>截止目前，中奖者都未曾联系我，请该 v 友赶紧联系我，截止到晚上 24 点，如果还未联系，则视为放弃，重新抽奖。</strong></p>\n<h1>本帖继续抽奖，抽奖截止日期 2022.9.07 24:00:00</h1>\n<p>感谢之前支持我的老铁们，正逢中秋，回家团聚或者亲戚朋友送礼，欢迎大家选购我家的猕猴桃🥝，让我早点帮父母卖完。下面由我介绍一下我们家的猕猴桃🥝。</p>\n<pre><code>猕猴桃🥝又名奇异果\n富含维生素 C ，可强化免疫系统，补充脑力所消耗的营养；它的低钠高钾的完美比例，可补充熬夜加班所失去的体力。\n促消化清洁肠胃\n帮助睡眠、安抚情绪\n美颜圣品\n减肥良药\n...\n总之好处多多，哈哈，我就不继续吹了。\n</code></pre>\n<h2>微信扫码即可购买</h2>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1h5vlzbw5iuj20ku112q5j.jpg\"/></p>\n<h2>1V1 客服微信</h2>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1h5vm7col9yj20kw0qqq4l.jpg\"/></p>\n<h2>宣传照（实拍无 P 图）</h2>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://tva1.sinaimg.cn/large/008i3skNly1guee0n22zwj60sg0lcdk302.jpg\"/>\n<img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://tva1.sinaimg.cn/large/008i3skNly1guee0whw7vj60sg0lcgtk02.jpg\"/>\n<img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://tva1.sinaimg.cn/large/008i3skNly1guee0ry50hj60lc0sgqb002.jpg\"/></p>\n", "last_modified": 1662352361, "replies": 225, "id": 877784}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/3cef/96dc/949_large.png?m=1614702882", "name": "nas", "avatar_normal": "https://cdn.v2ex.com/navatar/3cef/96dc/949_normal.png?m=1614702882", "title": "NAS", "url": "https://www.v2ex.com/go/nas", "topics": 717, "footer": "", "header": "关于网络存储设备的讨论", "title_alternative": "NAS", "avatar_mini": "https://cdn.v2ex.com/navatar/3cef/96dc/949_mini.png?m=1614702882", "stars": 1112, "aliases": [], "root": false, "id": 949, "parent_node_name": "hardware"}, "member": {"id": 538319, "username": "LengSe9", "url": "https://www.v2ex.com/u/LengSe9", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/428c/3df1/538319_mini.png?m=1638273561", "avatar_normal": "https://cdn.v2ex.com/avatar/428c/3df1/538319_normal.png?m=1638273561", "avatar_large": "https://cdn.v2ex.com/avatar/428c/3df1/538319_large.png?m=1638273561", "created": 1616081152, "last_modified": 1638273561}, "last_reply_by": "kennylam777", "last_touched": 1662418308, "title": "华为明天要发布 NAS 了，😀NAS 要火起来了🔥！", "url": "https://www.v2ex.com/t/877829", "created": 1662363622, "deleted": 0, "content": "9 月 6 日（下周二），华为将举办 Mate 50 系列新品发布会，届时将推出首款搭载 HarmonyOS 的家庭数据中心——华为家庭存储，主打“全家人的数据收纳箱”。\r\n\r\n根据此前爆料，华为家庭存储采用金属外壳，设计非常紧凑，而且采用双盘位设计，最高可支持 40TB 海量空间。\r\n\r\n今天，有 B 站 UP 主放出了华为家庭存储无硬盘版本的操作指导视频，基本能对这款 NAS 的功能进行全面的了解。\r\n\r\n视频中可以看到，华为家庭存储采用了磁吸盖板，里面集成了双盘位，轻轻一拉就能安装硬盘，全程无螺丝。\r\n\r\n配置也比较方便，只要三步：1 、连网线； 2 、安装智慧生活 APP ，登陆华为账号； 3 、触碰 NFC 按提示完成配置即可，而且可以直接设备共享给家人。\r\n\r\n经过以上三步就能直接访问华为家庭存储了，完全不需要群晖那种专业的配置操作，对于新手更加友好。\r\n\r\n配置完成后，搭载鸿蒙 3.0 系统的手机可以直接在图库中访问 NAS ，而其他手机可以在智慧生活 APP 中，点击华为家庭存储进行访问。\r\n\r\n华为智慧屏与华为家庭存储在同一 Wi-Fi 下，可直接播放里面的音视频；用户还能设置电脑同步盘，实时同步电脑文件，换机无忧。", "content_rendered": "<p>9 月 6 日（下周二），华为将举办 Mate 50 系列新品发布会，届时将推出首款搭载 HarmonyOS 的家庭数据中心——华为家庭存储，主打“全家人的数据收纳箱”。</p>\n<p>根据此前爆料，华为家庭存储采用金属外壳，设计非常紧凑，而且采用双盘位设计，最高可支持 40TB 海量空间。</p>\n<p>今天，有 B 站 UP 主放出了华为家庭存储无硬盘版本的操作指导视频，基本能对这款 NAS 的功能进行全面的了解。</p>\n<p>视频中可以看到，华为家庭存储采用了磁吸盖板，里面集成了双盘位，轻轻一拉就能安装硬盘，全程无螺丝。</p>\n<p>配置也比较方便，只要三步：1 、连网线； 2 、安装智慧生活 APP ，登陆华为账号； 3 、触碰 NFC 按提示完成配置即可，而且可以直接设备共享给家人。</p>\n<p>经过以上三步就能直接访问华为家庭存储了，完全不需要群晖那种专业的配置操作，对于新手更加友好。</p>\n<p>配置完成后，搭载鸿蒙 3.0 系统的手机可以直接在图库中访问 NAS ，而其他手机可以在智慧生活 APP 中，点击华为家庭存储进行访问。</p>\n<p>华为智慧屏与华为家庭存储在同一 Wi-Fi 下，可直接播放里面的音视频；用户还能设置电脑同步盘，实时同步电脑文件，换机无忧。</p>\n", "last_modified": 1662363622, "replies": 194, "id": 877829}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/70ef/df2e/17_large.png?m=1660301119", "name": "create", "avatar_normal": "https://cdn.v2ex.com/navatar/70ef/df2e/17_normal.png?m=1660301119", "title": "分享创造", "url": "https://www.v2ex.com/go/create", "topics": 18370, "footer": "", "header": "欢迎你在这里发布自己的最新作品！", "title_alternative": "Create", "avatar_mini": "https://cdn.v2ex.com/navatar/70ef/df2e/17_mini.png?m=1660301119", "stars": 4512, "aliases": [], "root": false, "id": 17, "parent_node_name": "geek"}, "member": {"id": 148974, "username": "star7th", "url": "https://www.v2ex.com/u/star7th", "website": "http://blog.star7th.com/", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "前端、PHP、node.js和Linux", "avatar_mini": "https://cdn.v2ex.com/gravatar/28688ae0c93f06c9f73a3e6ba79e0508?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/28688ae0c93f06c9f73a3e6ba79e0508?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/28688ae0c93f06c9f73a3e6ba79e0508?s=73&d=retro", "created": 1448637932, "last_modified": 1648098744}, "last_reply_by": "Aloento", "last_touched": 1662394891, "title": "我是如何把网站图片 cdn 流量成本压到全网最低(之一)的", "url": "https://www.v2ex.com/t/877718", "created": 1662341564, "deleted": 0, "content": "### 缘起\r\n      \r\n我经营的一些网站和产品的访问量越来越高，付出的 cdn 流量成本（主要是图片资源）也越来越大。抱着节省成本的想法，我尝试在网络上找下有没有便宜的 cdn 商家。 像阿里云、腾讯云、七牛云，这些公有云 cdn 的价格都大同小异，我感觉即使从这一家换到另一家，也节省不了多少成本，同时还增加了迁移的麻烦。因此我把目光投向传统机房，预感可能越接近机器底层，能优化的空间越大。\r\n\r\n经过几天的考察，发现很多非热门地区的机房都或多或少都有一些闲置的优惠产品，甚至其中也不乏优质带宽机器。特别是三四线机房，线路测试其实还不错。很明显这些闲置资源没有得到充分利用。一个点子在我脑海中酝酿了。\r\n\r\n  \r\n### 使用开源 or 自己原创？\r\n\r\n假如我把各地的闲置机器组织起来，把它们当成一个个节点，组建起一个分布式网络，自动容灾切换，岂不就是一个廉价的自建 cdn 方案了？ 顺着这个思路，我去找一下开源的 cdn 软件 ，看看有没有现成的解决方案。\r\n\r\n然而事情没有我想的那么简单。开源 cdn 并没有很好的容灾切换机制，无法实时避障。 它核心原理里，用域名 cname 的方式指向某个节点 ip ，当节点挂了的时候，由于域名 cname 解析变更有 10 分钟以上的缓存，所以必定会导致用户有一段时间的访问故障。\r\n我现在探索的是把各地机房集成到一起，其中机器节点的可靠性是参差不齐的。如果想做成一套 cdn ，那么就必须要假设节点是不可靠的，随时可能故障的，然后为此设计一套完善的容灾解决方案。\r\n\r\n既然找不到现成的开源解决方案，那就自己动手写代码实现吧。\r\n\r\n### 基本逻辑\r\n\r\n我边啃着玉米，边用笔在纸上画着逻辑交互图。 经过一阵子的反复斟酌，基本逻辑已经成型。 \r\n\r\n1 ，这套程序主要有两个角色，调度服务器和节点服务器。调度服务器架设在阿里云 k8s 上，保障高可用。而节点服务器则是分布在各地机房，做好可能会故障、随时容灾切换的准备。\r\n\r\n2 ，调度服务器的作用是导流和容灾，将用户流量以重定向的方式导向可用的节点，同时避开故障节点，做到实时无缝切换。\r\n\r\n3 ，节点服务器的主要作用是拉取源文件到本地缓存，从而被用户访问。\r\n\r\n4 ，节点服务器跟调度服务器之间要用某 tcp 协议实时连接监控，监控粒度细分到每个文件，方便调度服务器实时避开故障节点，这样才能保证故障时候，用户访问的每个链接都可以正常切换访问。这里实时性是非常重要的，也是容灾方案的核心。\r\n\r\n\r\n### 小试牛刀\r\n\r\n于是我花了一个多月的时间去写代码来实现这个逻辑。核心代码其实写得很快，但是为了保障稳定性，增加了非常多的异常容灾措施，要花时间不断测试不断重写。 初期只放三个异地机房节点，把流量切进来看看。\r\n为了保险起见，先从小的做起。我一开始切日均 10G 流量过去，让它跑几天。\r\n几天后，没问题。\r\n试试日均 50G 流量？  50G 跑了几天，ok 。日均 300G ？ 依然正常运行 。\r\n\r\n### 开放商用\r\n\r\n现在，已经完美运行了一个月，每天承受超过 1000G 流量，暂时没发现有故障现象。我以及一些朋友的很多产品都在用。我刻意关掉其中一个节点，调度服务器马上切流量到其他节点。我刻意关闭全部节点，流量也马上转到源站。整个过程中，只要调度服务器正常运作，那么，无论节点故障与否，用户都将继续无感知地正常访问图片。 而调度服务器直接运行在阿里云 k8s 上，可靠性是非常高的。因此整套架构的可靠性很高。\r\n\r\n有了这个架构，如果需要承受更大流量，我只需要增加节点数即可。而全国范围内的机房机器多的是 ，我可以随时租机器来新增节点。当我意识到有规模化运作大流量的可能性后， 我决定把 cdn 能力包装出去 ，商业化运作。于是注册并备案了大风云网， 访问地址是  [www.dfyun.com.cn]( https://www.dfyun.com.cn  \"www.dfyun.com.cn\") \r\n        \r\n### 结语\r\n\r\n大风云[ www.dfyun.com.cn ]( https://www.dfyun.com.cn  \" www.dfyun.com.cn \") 严格来讲不是传统 cdn ，它是另一种内容分发机制，基于传统 cdn 以及传统机房机器， 用软件技术实现资源整合，是应用层面的一种微创新，在图片访问，文件下载等这些场景下可以成倍地降低流量成本 ，成本低于 0.05G/元 ， 降低到公有云 cdn 价格的四分之一以下（只对比平时价格，不考虑搞活动的临时特价），几乎是全网 cdn 流量成本最低之一了。", "content_rendered": "<h3>缘起</h3>\n<p>我经营的一些网站和产品的访问量越来越高，付出的 cdn 流量成本（主要是图片资源）也越来越大。抱着节省成本的想法，我尝试在网络上找下有没有便宜的 cdn 商家。 像阿里云、腾讯云、七牛云，这些公有云 cdn 的价格都大同小异，我感觉即使从这一家换到另一家，也节省不了多少成本，同时还增加了迁移的麻烦。因此我把目光投向传统机房，预感可能越接近机器底层，能优化的空间越大。</p>\n<p>经过几天的考察，发现很多非热门地区的机房都或多或少都有一些闲置的优惠产品，甚至其中也不乏优质带宽机器。特别是三四线机房，线路测试其实还不错。很明显这些闲置资源没有得到充分利用。一个点子在我脑海中酝酿了。</p>\n<h3>使用开源 or 自己原创？</h3>\n<p>假如我把各地的闲置机器组织起来，把它们当成一个个节点，组建起一个分布式网络，自动容灾切换，岂不就是一个廉价的自建 cdn 方案了？ 顺着这个思路，我去找一下开源的 cdn 软件 ，看看有没有现成的解决方案。</p>\n<p>然而事情没有我想的那么简单。开源 cdn 并没有很好的容灾切换机制，无法实时避障。 它核心原理里，用域名 cname 的方式指向某个节点 ip ，当节点挂了的时候，由于域名 cname 解析变更有 10 分钟以上的缓存，所以必定会导致用户有一段时间的访问故障。\n我现在探索的是把各地机房集成到一起，其中机器节点的可靠性是参差不齐的。如果想做成一套 cdn ，那么就必须要假设节点是不可靠的，随时可能故障的，然后为此设计一套完善的容灾解决方案。</p>\n<p>既然找不到现成的开源解决方案，那就自己动手写代码实现吧。</p>\n<h3>基本逻辑</h3>\n<p>我边啃着玉米，边用笔在纸上画着逻辑交互图。 经过一阵子的反复斟酌，基本逻辑已经成型。 </p>\n<p>1 ，这套程序主要有两个角色，调度服务器和节点服务器。调度服务器架设在阿里云 k8s 上，保障高可用。而节点服务器则是分布在各地机房，做好可能会故障、随时容灾切换的准备。</p>\n<p>2 ，调度服务器的作用是导流和容灾，将用户流量以重定向的方式导向可用的节点，同时避开故障节点，做到实时无缝切换。</p>\n<p>3 ，节点服务器的主要作用是拉取源文件到本地缓存，从而被用户访问。</p>\n<p>4 ，节点服务器跟调度服务器之间要用某 tcp 协议实时连接监控，监控粒度细分到每个文件，方便调度服务器实时避开故障节点，这样才能保证故障时候，用户访问的每个链接都可以正常切换访问。这里实时性是非常重要的，也是容灾方案的核心。</p>\n<h3>小试牛刀</h3>\n<p>于是我花了一个多月的时间去写代码来实现这个逻辑。核心代码其实写得很快，但是为了保障稳定性，增加了非常多的异常容灾措施，要花时间不断测试不断重写。 初期只放三个异地机房节点，把流量切进来看看。\n为了保险起见，先从小的做起。我一开始切日均 10G 流量过去，让它跑几天。\n几天后，没问题。\n试试日均 50G 流量？  50G 跑了几天，ok 。日均 300G ？ 依然正常运行 。</p>\n<h3>开放商用</h3>\n<p>现在，已经完美运行了一个月，每天承受超过 1000G 流量，暂时没发现有故障现象。我以及一些朋友的很多产品都在用。我刻意关掉其中一个节点，调度服务器马上切流量到其他节点。我刻意关闭全部节点，流量也马上转到源站。整个过程中，只要调度服务器正常运作，那么，无论节点故障与否，用户都将继续无感知地正常访问图片。 而调度服务器直接运行在阿里云 k8s 上，可靠性是非常高的。因此整套架构的可靠性很高。</p>\n<p>有了这个架构，如果需要承受更大流量，我只需要增加节点数即可。而全国范围内的机房机器多的是 ，我可以随时租机器来新增节点。当我意识到有规模化运作大流量的可能性后， 我决定把 cdn 能力包装出去 ，商业化运作。于是注册并备案了大风云网， 访问地址是  <a href=\"https://www.dfyun.com.cn\" rel=\"nofollow\" title=\"www.dfyun.com.cn\">www.dfyun.com.cn</a> </p>\n<h3>结语</h3>\n<p>大风云<a href=\"https://www.dfyun.com.cn\" rel=\"nofollow\" title=\" www.dfyun.com.cn \"> </a><a href=\"http://www.dfyun.com.cn\" rel=\"nofollow\">www.dfyun.com.cn</a>  严格来讲不是传统 cdn ，它是另一种内容分发机制，基于传统 cdn 以及传统机房机器， 用软件技术实现资源整合，是应用层面的一种微创新，在图片访问，文件下载等这些场景下可以成倍地降低流量成本 ，成本低于 0.05G/元 ， 降低到公有云 cdn 价格的四分之一以下（只对比平时价格，不考虑搞活动的临时特价），几乎是全网 cdn 流量成本最低之一了。</p>\n", "last_modified": 1662341756, "replies": 117, "id": 877718}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1659331259", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1659331259", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 50699, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1659331259", "stars": 7970, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 554339, "username": "wanmyj", "url": "https://www.v2ex.com/u/wanmyj", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/be109705594bab0fb19c8fc051619b7d?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/be109705594bab0fb19c8fc051619b7d?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/be109705594bab0fb19c8fc051619b7d?s=73&d=retro", "created": 1629910849, "last_modified": 1629910849}, "last_reply_by": "Aloento", "last_touched": 1662411761, "title": "想基于电报开发完全去中心化的端端加密的即时通信 APP，目的是避免审查，有朋友有兴趣吗", "url": "https://www.v2ex.com/t/877787", "created": 1662353461, "deleted": 0, "content": "## Problem：\r\n0. 不翻墙的墙内安全群聊\r\n1. 中心化的 APP 一定会在被封和被审查当中二选一\r\n2. imessage 这种虽然不会被关键字审查（理论上），但不能跨平台\r\n\r\n\r\n## Solution：\r\n0. 基本设想是类似于`magnet link`，需要客户端，并且所有客户端都可以作为某些服务节点\r\n1. 由`group owner`发起一个`group link`，内容包含群 hash ，和自身 IP 和开放端口等信息组成的 tracker (NAT 造成的困难可以再想办法解决，我还没想到最优方案)，有效期，校验等信息。发布出去等待`group member`连接，建立群聊天室。\r\n2. 任何群组员`group member`都可以当 tracker 提供`group link`给其他人。\r\n3. group 内采用端端加密通信，并且无中心 server 。如果所有`group member`在同一时间换掉了 IP 地址，那这个群就会消亡。\r\n4. 聊天记录记录在一个或多个`group member`的本地，如果所有`group member`同时删掉了某条聊天记录，则这条记录无法恢复。\r\n\r\n本人在外企工作，平均每天能有 3 个小时的开发时间.这个项目可能需要数千小时的开发量，我的工程经验怕难以承担这种项目，所以想找一些同好一起完成这个 project 。最好有个有 IM 和网络工程经验的大佬来做 leader 。\r\n\r\n我想这个项目一定要开源，无论哪种许可证。", "content_rendered": "<h2>Problem：</h2>\n<ol>\n<li>不翻墙的墙内安全群聊</li>\n<li>中心化的 APP 一定会在被封和被审查当中二选一</li>\n<li>imessage 这种虽然不会被关键字审查（理论上），但不能跨平台</li>\n</ol>\n<h2>Solution：</h2>\n<ol>\n<li>基本设想是类似于<code>magnet link</code>，需要客户端，并且所有客户端都可以作为某些服务节点</li>\n<li>由<code>group owner</code>发起一个<code>group link</code>，内容包含群 hash ，和自身 IP 和开放端口等信息组成的 tracker (NAT 造成的困难可以再想办法解决，我还没想到最优方案)，有效期，校验等信息。发布出去等待<code>group member</code>连接，建立群聊天室。</li>\n<li>任何群组员<code>group member</code>都可以当 tracker 提供<code>group link</code>给其他人。</li>\n<li>group 内采用端端加密通信，并且无中心 server 。如果所有<code>group member</code>在同一时间换掉了 IP 地址，那这个群就会消亡。</li>\n<li>聊天记录记录在一个或多个<code>group member</code>的本地，如果所有<code>group member</code>同时删掉了某条聊天记录，则这条记录无法恢复。</li>\n</ol>\n<p>本人在外企工作，平均每天能有 3 个小时的开发时间.这个项目可能需要数千小时的开发量，我的工程经验怕难以承担这种项目，所以想找一些同好一起完成这个 project 。最好有个有 IM 和网络工程经验的大佬来做 leader 。</p>\n<p>我想这个项目一定要开源，无论哪种许可证。</p>\n", "last_modified": 1662353724, "replies": 108, "id": 877787}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 189653, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3551, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 576704, "username": "airbotgo", "url": "https://www.v2ex.com/u/airbotgo", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/2d8f9a5b4fbddc9e8307b207222e9938?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/2d8f9a5b4fbddc9e8307b207222e9938?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/2d8f9a5b4fbddc9e8307b207222e9938?s=73&d=retro", "created": 1648272585, "last_modified": 1651624471}, "last_reply_by": "ijrou", "last_touched": 1662383983, "title": "腾讯这种行为是违规行为吗？", "url": "https://www.v2ex.com/t/877717", "created": 1662341434, "deleted": 0, "content": "1 、游戏故意多分区\r\n以王者荣耀为例，故意分出 iOS 、安卓、微信、QQ 四个组合分区，区之间账号隔离。目的是让用户重复消费。\r\n这种行为违规吗？\r\n\r\n2 、故意限制外区游戏\r\n以英雄联盟手游为例，外区英雄联盟手游，安卓、iOS 数据互通，且游戏内没有满天飞的广告。我玩外区（玩过美区、日区）必须挂梯子或加速器，否则无法连接服务器。\r\n这种行为违规吗？\r\n\r\n3 、游戏账号仅允许 QQ 、微信登录\r\n不能邮箱、游戏 ID 等其它登录方式，必须先下载它们的 QQ 、微信。\r\n这种行为违规吗？\r\n\r\n4 、付费用户遇到问题找不到真人客服\r\n提供的客服电话，从来没有打通过，对于付费用户来说，完全不能保障权益。\r\n这种行为违规吗？\r\n\r\n我天天祈祷腾讯倒闭。", "content_rendered": "1 、游戏故意多分区<br />以王者荣耀为例，故意分出 iOS 、安卓、微信、QQ 四个组合分区，区之间账号隔离。目的是让用户重复消费。<br />这种行为违规吗？<br /><br />2 、故意限制外区游戏<br />以英雄联盟手游为例，外区英雄联盟手游，安卓、iOS 数据互通，且游戏内没有满天飞的广告。我玩外区（玩过美区、日区）必须挂梯子或加速器，否则无法连接服务器。<br />这种行为违规吗？<br /><br />3 、游戏账号仅允许 QQ 、微信登录<br />不能邮箱、游戏 ID 等其它登录方式，必须先下载它们的 QQ 、微信。<br />这种行为违规吗？<br /><br />4 、付费用户遇到问题找不到真人客服<br />提供的客服电话，从来没有打通过，对于付费用户来说，完全不能保障权益。<br />这种行为违规吗？<br /><br />我天天祈祷腾讯倒闭。", "last_modified": 1662341434, "replies": 75, "id": 877717}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1661957605", "name": "career", "avatar_normal": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1661957605", "title": "职场话题", "url": "https://www.v2ex.com/go/career", "topics": 13413, "footer": "", "header": "这里，我们聊聊那些工作中遇到的开心和不开心的事。", "title_alternative": "Career", "avatar_mini": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1661957605", "stars": 2446, "aliases": [], "root": false, "id": 770, "parent_node_name": "work"}, "member": {"id": 264819, "username": "Cat7373", "url": "https://www.v2ex.com/u/Cat7373", "website": "https://blog.cat73.org", "twitter": "", "psn": "", "github": "Cat7373", "btc": "", "location": "山东济南", "tagline": "二到久时天然呆，呆到深处自然萌", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/c32a/6106/264819_mini.png?m=1658299854", "avatar_normal": "https://cdn.v2ex.com/avatar/c32a/6106/264819_normal.png?m=1658299854", "avatar_large": "https://cdn.v2ex.com/avatar/c32a/6106/264819_large.png?m=1658299854", "avatar_xlarge": "https://cdn.v2ex.com/avatar/c32a/6106/264819_xlarge.png?m=1658299854", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/c32a/6106/264819_xlarge.png?m=1658299854", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/c32a/6106/264819_xlarge.png?m=1658299854", "created": 1509752489, "last_modified": 1658299854}, "last_reply_by": "hardwork", "last_touched": 1662415596, "title": "现在年轻人这么刚的么？", "url": "https://www.v2ex.com/t/877840", "created": 1662365264, "deleted": 0, "content": "事情是这样，我在做资料，下周交，需整理组内成员信息。\r\n\r\n这哥们周三入职，今天周一，我正好已经在整理了，就找他要毕业时间，一次性做好它，于是。。。。。。\r\n\r\n![]( https://s2.loli.net/2022/09/05/TaNJlzCKZPA5M1w.png)\r\n\r\n我也没要很过分的东西呀，就是个毕业时间，还有一天半就正式入职了，入职也要登记毕业证复印件的，这怎么就。。。。\r\n\r\n这是他和人事聊的，也就在我找他要信息半小时前：\r\n\r\n![]( https://s2.loli.net/2022/09/05/coDWYMvCTXaf68r.png)", "content_rendered": "<p>事情是这样，我在做资料，下周交，需整理组内成员信息。</p>\n<p>这哥们周三入职，今天周一，我正好已经在整理了，就找他要毕业时间，一次性做好它，于是。。。。。。</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://s2.loli.net/2022/09/05/TaNJlzCKZPA5M1w.png\"/></p>\n<p>我也没要很过分的东西呀，就是个毕业时间，还有一天半就正式入职了，入职也要登记毕业证复印件的，这怎么就。。。。</p>\n<p>这是他和人事聊的，也就在我找他要信息半小时前：</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://s2.loli.net/2022/09/05/coDWYMvCTXaf68r.png\"/></p>\n", "last_modified": 1662374690, "replies": 62, "id": 877840}]