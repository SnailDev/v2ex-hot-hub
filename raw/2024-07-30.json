[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/2d6c/c4b2/507_large.png?m=1695370154", "name": "cv", "avatar_normal": "https://cdn.v2ex.com/navatar/2d6c/c4b2/507_normal.png?m=1695370154", "title": "求职", "url": "https://www.v2ex.com/go/cv", "topics": 8329, "footer": "", "header": "欢迎在这里发布自己的求职简历。", "title_alternative": "CV", "avatar_mini": "https://cdn.v2ex.com/navatar/2d6c/c4b2/507_mini.png?m=1695370154", "stars": 1657, "aliases": [], "root": false, "id": 507, "parent_node_name": "work"}, "member": {"id": 503476, "username": "lijianan", "url": "https://www.v2ex.com/u/lijianan", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/0c61/fe34/503476_mini.png?m=1722223375", "avatar_normal": "https://cdn.v2ex.com/avatar/0c61/fe34/503476_normal.png?m=1722223375", "avatar_large": "https://cdn.v2ex.com/avatar/0c61/fe34/503476_large.png?m=1722223375", "avatar_xlarge": "https://cdn.v2ex.com/avatar/0c61/fe34/503476_xlarge.png?m=1722223375", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/0c61/fe34/503476_xlarge.png?m=1722223375", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/0c61/fe34/503476_xlarge.png?m=1722223375", "created": 1597220553, "last_modified": 1722223375}, "last_reply_by": "samin", "last_touched": 1722307256, "title": "五年前端，记录下最近一年的面试记录，顺便求个内推", "url": "https://www.v2ex.com/t/1060838", "created": 1722224877, "deleted": 0, "content": "### 去年面试到现在，经历比较坎坷，这里记录一下：\r\n\r\n（背景：五年前端，大专，base 杭州）\r\n\r\n| 公司 | 结果 | 备注 |\r\n| --- | --- | --- |\r\n| 阿里，飞猪（杭州） | 三面挂 | 可能是学历问题，也可能是一些八股答的不好 |\r\n| 蚂蚁金服，OceanBase （杭州） | 二面挂 | 答复：业务特质不够匹配 |\r\n| 蚂蚁金服，antv （杭州） | 一面挂 | 答复：业务经验、业务 scene 比较薄弱 |\r\n| 字节，飞书桌面端（杭州） | 一面挂 | 算法没做出来 |\r\n| 字节，抖音生活服务（杭州） | 一面挂 | 学历问题，中止流程 |\r\n| 有赞，社交电商（杭州） | 二面挂 | 算法没做出来 |\r\n| 聚水潭（杭州） | 三面挂（产品面） | 同期有更合适的人选 |\r\n| 政采云（杭州） | 三面挂（ HR 面） | hr 面挂，可能是给不起 |\r\n| 前端培训机构，渡一教育（ remote ） | offer （两轮） | 不感兴趣，而且给的不多，拒了 |\r\n| Fancy （杭州） | offer （三轮） | 面的是高级前端，入职之后莫名奇妙给了个架构师的 title ，并且内部情况和当初预想中的不太一样，入职一周跑路了 |\r\n| 追电网络（杭州） | 一面挂 | 感觉面试官不太专业，坚持自己错误的观点是正确的 |\r\n| 即时设计（北京） | 三面被放鸽子 | 面试前突然流程中止，说是老板的决定（一年之后又来找我，直接拒了） |\r\n| 直行便（杭州） | 三面被放鸽子 | 面试时间放鸽子，发消息已读不回，避雷 |\r\n| Apifox （广州） | 三面挂（ HR 面） | hr 面挂，可能是要高了 |\r\n| afterShip （深圳） | 三面挂（ HR 面） | hr 面挂，可能是要高了 |\r\n| 美图秀秀（深圳） | 谈薪失败 | 给的太低，直接拒了 |\r\n| 某 web3 公司（上海） | 三面挂 | 一些密码学的问题没回答上来 |\r\n| mest （ web3 remote ） | offer （两轮） | 试用期没过，入职一个月被开除（小作坊，只有 10 个人不到，后来听说倒闭了） |\r\n| 数式科技（杭州） | 一面挂 | 线下面试，Boss 上写的双休，现场才告知是单休（并且听到期望薪资之后有点阴阳怪气） |\r\n| 网易，杭州研究院 | 一面挂 | 一面纯八股，跟简历没有关系，懒得准备，挂就挂了吧 |\r\n| 坚果云（上海） | 二面挂 | 要求线下面，于是跑过去上海，过程比较顺利，回来之后通知没通过，原因是已经有其他人选在推进了，并且路费也不会报销 |\r\n| 迅雷（杭州） | 二面挂 | 二面非技术面，20 分钟就结束，面试官大多数时间低头，不知道有没有在听我讲话 |\r\n| 精准学（杭州） | offer （两轮） | 入职四个月项目中止，团队解散，当天通知，要求当天走人（两个月之后 Boss 直聘上刷到他们又在招前端了，真是奇葩） |\r\n| 分叉智能（杭州） | 二面挂 | 感觉二面面试官不像是搞技术的，但是硬要聊一些技术细节 |\r\n| BC game （日本，菠菜项目） | 二面挂 | 二面遇到大犟种了 |\r\n| MmoGah （ remote ） | 放弃 | 以为挂了，过了一个月才告知通过了，懒得继续了 |\r\n| 得物，数据平台（杭州） | offer （两轮） | 薪资很诱人，但是考虑到得物加班强度比较大，最后还是拒了（很后悔，早知道接了） |\r\n| moego 萌时科技（深圳） | offer （五轮） | 入职待了两周，公司不错，但是不喜欢深圳，跑路回杭州了 |\r\n| 腾讯文档（深圳） | 三面挂（ HR 面） | HR 面挂，可能是期望薪资要多了 |\r\n| 蚂蚁金服，芝麻信用（杭州） | 一面挂 | 笔试题没做出来，不能调试，不能打 log ，只能在线盲写，好难 |\r\n| zoom （杭州） | 一面挂 | 一面之后没下文了 |\r\n| 有赞（杭州） | 一面挂 | 一面之后没下文了 |\r\n| 预策科技（杭州） | 二面挂 | HR 反馈面试官觉得不合适，面试官反馈老板觉得不合适 |\r\n\r\n### 最后给自己打个广告，杭州求内推！\r\n\r\n#### 我的简历：\r\n- http://www.lijianan.com\r\n\r\n#### 联系方式：\r\n- 微信：MTk5NDEyMDg4NzI=\r\n- 电话：MTk5NDEyMDg4NzI=\r\n- 邮箱：NTc0OTgwNjA2QHFxLmNvbQ==", "content_rendered": "<h3>去年面试到现在，经历比较坎坷，这里记录一下：</h3>\n<p>（背景：五年前端，大专，base 杭州）</p>\n<table>\n<thead>\n<tr>\n<th>公司</th>\n<th>结果</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>阿里，飞猪（杭州）</td>\n<td>三面挂</td>\n<td>可能是学历问题，也可能是一些八股答的不好</td>\n</tr>\n<tr>\n<td>蚂蚁金服，OceanBase （杭州）</td>\n<td>二面挂</td>\n<td>答复：业务特质不够匹配</td>\n</tr>\n<tr>\n<td>蚂蚁金服，antv （杭州）</td>\n<td>一面挂</td>\n<td>答复：业务经验、业务 scene 比较薄弱</td>\n</tr>\n<tr>\n<td>字节，飞书桌面端（杭州）</td>\n<td>一面挂</td>\n<td>算法没做出来</td>\n</tr>\n<tr>\n<td>字节，抖音生活服务（杭州）</td>\n<td>一面挂</td>\n<td>学历问题，中止流程</td>\n</tr>\n<tr>\n<td>有赞，社交电商（杭州）</td>\n<td>二面挂</td>\n<td>算法没做出来</td>\n</tr>\n<tr>\n<td>聚水潭（杭州）</td>\n<td>三面挂（产品面）</td>\n<td>同期有更合适的人选</td>\n</tr>\n<tr>\n<td>政采云（杭州）</td>\n<td>三面挂（ HR 面）</td>\n<td>hr 面挂，可能是给不起</td>\n</tr>\n<tr>\n<td>前端培训机构，渡一教育（ remote ）</td>\n<td>offer （两轮）</td>\n<td>不感兴趣，而且给的不多，拒了</td>\n</tr>\n<tr>\n<td>Fancy （杭州）</td>\n<td>offer （三轮）</td>\n<td>面的是高级前端，入职之后莫名奇妙给了个架构师的 title ，并且内部情况和当初预想中的不太一样，入职一周跑路了</td>\n</tr>\n<tr>\n<td>追电网络（杭州）</td>\n<td>一面挂</td>\n<td>感觉面试官不太专业，坚持自己错误的观点是正确的</td>\n</tr>\n<tr>\n<td>即时设计（北京）</td>\n<td>三面被放鸽子</td>\n<td>面试前突然流程中止，说是老板的决定（一年之后又来找我，直接拒了）</td>\n</tr>\n<tr>\n<td>直行便（杭州）</td>\n<td>三面被放鸽子</td>\n<td>面试时间放鸽子，发消息已读不回，避雷</td>\n</tr>\n<tr>\n<td>Apifox （广州）</td>\n<td>三面挂（ HR 面）</td>\n<td>hr 面挂，可能是要高了</td>\n</tr>\n<tr>\n<td>afterShip （深圳）</td>\n<td>三面挂（ HR 面）</td>\n<td>hr 面挂，可能是要高了</td>\n</tr>\n<tr>\n<td>美图秀秀（深圳）</td>\n<td>谈薪失败</td>\n<td>给的太低，直接拒了</td>\n</tr>\n<tr>\n<td>某 web3 公司（上海）</td>\n<td>三面挂</td>\n<td>一些密码学的问题没回答上来</td>\n</tr>\n<tr>\n<td>mest （ web3 remote ）</td>\n<td>offer （两轮）</td>\n<td>试用期没过，入职一个月被开除（小作坊，只有 10 个人不到，后来听说倒闭了）</td>\n</tr>\n<tr>\n<td>数式科技（杭州）</td>\n<td>一面挂</td>\n<td>线下面试，Boss 上写的双休，现场才告知是单休（并且听到期望薪资之后有点阴阳怪气）</td>\n</tr>\n<tr>\n<td>网易，杭州研究院</td>\n<td>一面挂</td>\n<td>一面纯八股，跟简历没有关系，懒得准备，挂就挂了吧</td>\n</tr>\n<tr>\n<td>坚果云（上海）</td>\n<td>二面挂</td>\n<td>要求线下面，于是跑过去上海，过程比较顺利，回来之后通知没通过，原因是已经有其他人选在推进了，并且路费也不会报销</td>\n</tr>\n<tr>\n<td>迅雷（杭州）</td>\n<td>二面挂</td>\n<td>二面非技术面，20 分钟就结束，面试官大多数时间低头，不知道有没有在听我讲话</td>\n</tr>\n<tr>\n<td>精准学（杭州）</td>\n<td>offer （两轮）</td>\n<td>入职四个月项目中止，团队解散，当天通知，要求当天走人（两个月之后 Boss 直聘上刷到他们又在招前端了，真是奇葩）</td>\n</tr>\n<tr>\n<td>分叉智能（杭州）</td>\n<td>二面挂</td>\n<td>感觉二面面试官不像是搞技术的，但是硬要聊一些技术细节</td>\n</tr>\n<tr>\n<td>BC game （日本，菠菜项目）</td>\n<td>二面挂</td>\n<td>二面遇到大犟种了</td>\n</tr>\n<tr>\n<td>MmoGah （ remote ）</td>\n<td>放弃</td>\n<td>以为挂了，过了一个月才告知通过了，懒得继续了</td>\n</tr>\n<tr>\n<td>得物，数据平台（杭州）</td>\n<td>offer （两轮）</td>\n<td>薪资很诱人，但是考虑到得物加班强度比较大，最后还是拒了（很后悔，早知道接了）</td>\n</tr>\n<tr>\n<td>moego 萌时科技（深圳）</td>\n<td>offer （五轮）</td>\n<td>入职待了两周，公司不错，但是不喜欢深圳，跑路回杭州了</td>\n</tr>\n<tr>\n<td>腾讯文档（深圳）</td>\n<td>三面挂（ HR 面）</td>\n<td>HR 面挂，可能是期望薪资要多了</td>\n</tr>\n<tr>\n<td>蚂蚁金服，芝麻信用（杭州）</td>\n<td>一面挂</td>\n<td>笔试题没做出来，不能调试，不能打 log ，只能在线盲写，好难</td>\n</tr>\n<tr>\n<td>zoom （杭州）</td>\n<td>一面挂</td>\n<td>一面之后没下文了</td>\n</tr>\n<tr>\n<td>有赞（杭州）</td>\n<td>一面挂</td>\n<td>一面之后没下文了</td>\n</tr>\n<tr>\n<td>预策科技（杭州）</td>\n<td>二面挂</td>\n<td>HR 反馈面试官觉得不合适，面试官反馈老板觉得不合适</td>\n</tr>\n</tbody></table><h3>最后给自己打个广告，杭州求内推！</h3>\n<h4>我的简历：</h4>\n<ul>\n<li><a href=\"http://www.lijianan.com\" rel=\"nofollow\">http://www.lijianan.com</a></li>\n</ul>\n<h4>联系方式：</h4>\n<ul>\n<li>微信：MTk5NDEyMDg4NzI=</li>\n<li>电话：MTk5NDEyMDg4NzI=</li>\n<li>邮箱：NTc0OTgwNjA2QHFxLmNvbQ==</li>\n</ul>\n", "last_modified": 1722250337, "replies": 157, "id": 1060838}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 6140, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785", "stars": 1486, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 431548, "username": "brader", "url": "https://www.v2ex.com/u/brader", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/eca1d420fce2d65511db5a76e703d807?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/eca1d420fce2d65511db5a76e703d807?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/eca1d420fce2d65511db5a76e703d807?s=73&d=retro", "created": 1563931085, "last_modified": 1717730403}, "last_reply_by": "a2519862329", "last_touched": 1722307259, "title": "周末终于去拔了智齿", "url": "https://www.v2ex.com/t/1060828", "created": 1722223698, "deleted": 0, "content": "医生技术真好，先拔左边两颗，打完麻药开始拔，几分钟就给我搞定了。\r\n3 颗牙（下面 2 颗，左上 1 颗），朋友介绍的给我打 85 折，报完医保最后自费 2015.7 ，大家觉得贵吗？\r\n\r\nhttps://i.imgur.com/pWb3jsW.jpeg\r\nhttps://i.imgur.com/tDw5RVZ.jpeg", "content_rendered": "医生技术真好，先拔左边两颗，打完麻药开始拔，几分钟就给我搞定了。<br />3 颗牙（下面 2 颗，左上 1 颗），朋友介绍的给我打 85 折，报完医保最后自费 2015.7 ，大家觉得贵吗？<br /><br /><a target=\"_blank\" href=\"https://i.imgur.com/pWb3jsW.jpeg\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/pWb3jsW.jpeg\" class=\"embedded_image\" rel=\"noreferrer\"></a><br /><a target=\"_blank\" href=\"https://i.imgur.com/tDw5RVZ.jpeg\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/tDw5RVZ.jpeg\" class=\"embedded_image\" rel=\"noreferrer\"></a>", "last_modified": 1722223698, "replies": 120, "id": 1060828}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c74d/97b0/16_large.png?m=1707293361", "name": "share", "avatar_normal": "https://cdn.v2ex.com/navatar/c74d/97b0/16_normal.png?m=1707293361", "title": "分享发现", "url": "https://www.v2ex.com/go/share", "topics": 41749, "footer": "", "header": "分享你看到的好玩的，有信息量的，欢迎从这里获取灵感。", "title_alternative": "Share", "avatar_mini": "https://cdn.v2ex.com/navatar/c74d/97b0/16_mini.png?m=1707293361", "stars": 5856, "aliases": [], "root": false, "id": 16, "parent_node_name": "v2ex"}, "member": {"id": 254082, "username": "kqq19930511", "url": "https://www.v2ex.com/u/kqq19930511", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/b3a5/181c/254082_mini.png?m=1699581173", "avatar_normal": "https://cdn.v2ex.com/avatar/b3a5/181c/254082_normal.png?m=1699581173", "avatar_large": "https://cdn.v2ex.com/avatar/b3a5/181c/254082_large.png?m=1699581173", "avatar_xlarge": "https://cdn.v2ex.com/avatar/b3a5/181c/254082_xlarge.png?m=1699581173", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/b3a5/181c/254082_xlarge.png?m=1699581173", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/b3a5/181c/254082_xlarge.png?m=1699581173", "created": 1505271242, "last_modified": 1699581173}, "last_reply_by": "furlxy", "last_touched": 1722297124, "title": "和大家分享一下差点被诈骗的经历", "url": "https://www.v2ex.com/t/1060842", "created": 1722225765, "deleted": 0, "content": "周日在咸鱼上充话费 400 充 500 ，冲完后就有湖南娄底的公安打电话给我了，说我涉嫌洗钱了，百度一查确实说可能涉嫌洗钱，但是这个公安很奇怪，说要封我手机号，给我两个方案：\r\n\r\n- 让我和被诈骗的人加微信，直接转账给他，我没答应\r\n- 让我去最近的派出所，说明一下情况，我就开车过去了，然后派出所的民警和这个公安联系说让他内部发协查，这个人说晚点发，然后让交警把电话给我，说想尽快解决可以第一种方案，我还是没同意\r\n\r\n后面又没消息了，我主动打电话给这个公安，然后他又说在内部商量，10 分钟后回复我，等了半天也没下文了\r\n\r\n今天又有个个人打电话给我，说自己被骗了 500 块，我直接挂了，想问一下群友有遇到过这种情况吗？怎么感觉这个公安是个骗子", "content_rendered": "<p>周日在咸鱼上充话费 400 充 500 ，冲完后就有湖南娄底的公安打电话给我了，说我涉嫌洗钱了，百度一查确实说可能涉嫌洗钱，但是这个公安很奇怪，说要封我手机号，给我两个方案：</p>\n<ul>\n<li>让我和被诈骗的人加微信，直接转账给他，我没答应</li>\n<li>让我去最近的派出所，说明一下情况，我就开车过去了，然后派出所的民警和这个公安联系说让他内部发协查，这个人说晚点发，然后让交警把电话给我，说想尽快解决可以第一种方案，我还是没同意</li>\n</ul>\n<p>后面又没消息了，我主动打电话给这个公安，然后他又说在内部商量，10 分钟后回复我，等了半天也没下文了</p>\n<p>今天又有个个人打电话给我，说自己被骗了 500 块，我直接挂了，想问一下群友有遇到过这种情况吗？怎么感觉这个公安是个骗子</p>\n", "last_modified": 1722301007, "replies": 79, "id": 1060842}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1700771269", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1700771269", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 63595, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1700771269", "stars": 9039, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 524283, "username": "Grocker", "url": "https://www.v2ex.com/u/Grocker", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/fa24/03ac/524283_mini.png?m=1722223857", "avatar_normal": "https://cdn.v2ex.com/avatar/fa24/03ac/524283_normal.png?m=1722223857", "avatar_large": "https://cdn.v2ex.com/avatar/fa24/03ac/524283_large.png?m=1722223857", "avatar_xlarge": "https://cdn.v2ex.com/avatar/fa24/03ac/524283_xlarge.png?m=1722223857", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/fa24/03ac/524283_xlarge.png?m=1722223857", "created": 1608195052, "last_modified": 1722223857}, "last_reply_by": "mightybruce", "last_touched": 1722306480, "title": "分辨多个用户之间是否是分身的算法？", "url": "https://www.v2ex.com/t/1060831", "created": 1722224075, "deleted": 0, "content": "我有一个需求是为了分辨多个用户之间是否是分身（需求背景是为了防止新注册用户薅羊毛，优惠力度挺大的，是分身的用户只要一人享受了优惠，其他人不能再次享受），\r\n所以我要将多个用户之间人为的去关联，比如用户 A 关联了 B ，A 和 B 互为分身；用户 B 再关联了 C ，B 和 C 互为 分身，C 和 A 也互为分身，因为有中间人 B ，以此类推，中间人的层级不限，这种用推荐使用什么算法实现呢？\r\n\r\n我自己想到的是多存数据将这种层级平铺：\r\n\r\n当用户 A 直接关联用户 B 时，我们在 `associations` 表中插入两条记录：\r\n\r\nassociations 表结构：user_id 关联用户 ID ，associated_user_id：被关联用户 ID ，is_direct：是否是直接关联\r\n```sql\r\nINSERT INTO associations (user_id, associated_user_id, is_direct) VALUES (A 的用户 ID, B 的用户 ID, TRUE);\r\nINSERT INTO associations (user_id, associated_user_id, is_direct) VALUES (B 的用户 ID, A 的用户 ID, TRUE);\r\n```\r\n\r\n当用户 B 再直接关联用户 C 时，不仅插入 B 和 C 之间的直接关联记录，还插入 A 和 C 之间的间接关联记录：\r\n```sql\r\nINSERT INTO associations (user_id, associated_user_id, is_direct) VALUES (B 的用户 ID, C 的用户 ID, TRUE);\r\nINSERT INTO associations (user_id, associated_user_id, is_direct) VALUES (C 的用户 ID, B 的用户 ID, TRUE);\r\nINSERT INTO associations (user_id, associated_user_id, is_direct) VALUES (A 的用户 ID, C 的用户 ID, FALSE);\r\nINSERT INTO associations (user_id, associated_user_id, is_direct) VALUES (C 的用户 ID, A 的用户 ID, FALSE);\r\n```\r\n需要用到的场景有：\r\n取消关联某两个用户之间的关联\r\n查询给定用户的所有分身", "content_rendered": "<p>我有一个需求是为了分辨多个用户之间是否是分身（需求背景是为了防止新注册用户薅羊毛，优惠力度挺大的，是分身的用户只要一人享受了优惠，其他人不能再次享受），\n所以我要将多个用户之间人为的去关联，比如用户 A 关联了 B ，A 和 B 互为分身；用户 B 再关联了 C ，B 和 C 互为 分身，C 和 A 也互为分身，因为有中间人 B ，以此类推，中间人的层级不限，这种用推荐使用什么算法实现呢？</p>\n<p>我自己想到的是多存数据将这种层级平铺：</p>\n<p>当用户 A 直接关联用户 B 时，我们在 <code>associations</code> 表中插入两条记录：</p>\n<p>associations 表结构：user_id 关联用户 ID ，associated_user_id：被关联用户 ID ，is_direct：是否是直接关联</p>\n<pre><code class=\"language-sql\">INSERT INTO associations (user_id, associated_user_id, is_direct) VALUES (A 的用户 ID, B 的用户 ID, TRUE);\nINSERT INTO associations (user_id, associated_user_id, is_direct) VALUES (B 的用户 ID, A 的用户 ID, TRUE);\n</code></pre>\n<p>当用户 B 再直接关联用户 C 时，不仅插入 B 和 C 之间的直接关联记录，还插入 A 和 C 之间的间接关联记录：</p>\n<pre><code class=\"language-sql\">INSERT INTO associations (user_id, associated_user_id, is_direct) VALUES (B 的用户 ID, C 的用户 ID, TRUE);\nINSERT INTO associations (user_id, associated_user_id, is_direct) VALUES (C 的用户 ID, B 的用户 ID, TRUE);\nINSERT INTO associations (user_id, associated_user_id, is_direct) VALUES (A 的用户 ID, C 的用户 ID, FALSE);\nINSERT INTO associations (user_id, associated_user_id, is_direct) VALUES (C 的用户 ID, A 的用户 ID, FALSE);\n</code></pre>\n<p>需要用到的场景有：\n取消关联某两个用户之间的关联\n查询给定用户的所有分身</p>\n", "last_modified": 1722224303, "replies": 70, "id": 1060831}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1630643913", "name": "apple", "avatar_normal": "https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1630643913", "title": "Apple", "url": "https://www.v2ex.com/go/apple", "topics": 26123, "footer": "", "header": "设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。", "title_alternative": "Apple", "avatar_mini": "https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1630643913", "stars": 2986, "aliases": [], "root": false, "id": 184, "parent_node_name": "hardware"}, "member": {"id": 591653, "username": "CedricChanning", "url": "https://www.v2ex.com/u/CedricChanning", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/5413/52d3/591653_mini.png?m=1693831723", "avatar_normal": "https://cdn.v2ex.com/avatar/5413/52d3/591653_normal.png?m=1693831723", "avatar_large": "https://cdn.v2ex.com/avatar/5413/52d3/591653_large.png?m=1693831723", "avatar_xlarge": "https://cdn.v2ex.com/avatar/5413/52d3/591653_xlarge.png?m=1693831723", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/5413/52d3/591653_xlarge.png?m=1693831723", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/5413/52d3/591653_xlarge.png?m=1693831723", "created": 1660833043, "last_modified": 1693831723}, "last_reply_by": "lizhi110123", "last_touched": 1722308465, "title": "iOS 18.1 Beta", "url": "https://www.v2ex.com/t/1061034", "created": 1722276653, "deleted": 0, "content": "Apple Intelligence 是不是可以确定在中国大陆国行无法使用了", "content_rendered": "Apple Intelligence 是不是可以确定在中国大陆国行无法使用了", "last_modified": 1722276653, "replies": 69, "id": 1061034}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c74d/97b0/16_large.png?m=1707293361", "name": "share", "avatar_normal": "https://cdn.v2ex.com/navatar/c74d/97b0/16_normal.png?m=1707293361", "title": "分享发现", "url": "https://www.v2ex.com/go/share", "topics": 41749, "footer": "", "header": "分享你看到的好玩的，有信息量的，欢迎从这里获取灵感。", "title_alternative": "Share", "avatar_mini": "https://cdn.v2ex.com/navatar/c74d/97b0/16_mini.png?m=1707293361", "stars": 5856, "aliases": [], "root": false, "id": 16, "parent_node_name": "v2ex"}, "member": {"id": 507458, "username": "v135ex", "url": "https://www.v2ex.com/u/v135ex", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/e961/ed8b/507458_mini.png?m=1722254540", "avatar_normal": "https://cdn.v2ex.com/avatar/e961/ed8b/507458_normal.png?m=1722254540", "avatar_large": "https://cdn.v2ex.com/avatar/e961/ed8b/507458_large.png?m=1722254540", "created": 1599706464, "last_modified": 1722254540}, "last_reply_by": "chfight", "last_touched": 1722308900, "title": "我也聊一聊中药（有关日常生活发现)", "url": "https://www.v2ex.com/t/1060995", "created": 1722255098, "deleted": 0, "content": "最近站内又有关于中药的贴子很火，里面有个论据叫做“为什么中药没用还这么多人吃，国家还要大力推广”。很有道理，我以前也很不明白。但是经过了三年疫情，让我了解了一些情况。\r\n\r\n\r\n我得家乡没什么产业，一穷二白。但是在 90 年代政府推广了很多中药材，在这边试点种植，其中的一种起源于云南，后面慢慢的成为了当地农民的经济命脉。这种中药材就是金银花，广泛运用于感冒药、凉茶饮料、清火祛湿等各个方向。在 2003 年非典期间，价格起飞造就了本地一大批富豪，时机可谓是可遇不可求。\r\n\r\n\r\n无独有偶，2022 年底，管控突然放开，莲花清瘟胶囊的主要成分也有金银花，所以导致价格再度起飞。当地收购价从 50 元/斤直接起飞到 150 元/斤，时势造英雄，我得一个哥哥梭哈成功把握住了机会，咸鱼翻身也直接成了富豪。\r\n\r\n\r\n看到这儿大家应该也明白了，不提价格波动，如果真的“中药无用”，那么我们当地百姓将失去一大笔重要收入。所以我想这也应该是一个理由，中药作为经济的一部分，融入了我们社会。不知道有没有跟我们这里情况类似的地方，大家也可以分享下", "content_rendered": "<p>最近站内又有关于中药的贴子很火，里面有个论据叫做“为什么中药没用还这么多人吃，国家还要大力推广”。很有道理，我以前也很不明白。但是经过了三年疫情，让我了解了一些情况。</p>\n<p>我得家乡没什么产业，一穷二白。但是在 90 年代政府推广了很多中药材，在这边试点种植，其中的一种起源于云南，后面慢慢的成为了当地农民的经济命脉。这种中药材就是金银花，广泛运用于感冒药、凉茶饮料、清火祛湿等各个方向。在 2003 年非典期间，价格起飞造就了本地一大批富豪，时机可谓是可遇不可求。</p>\n<p>无独有偶，2022 年底，管控突然放开，莲花清瘟胶囊的主要成分也有金银花，所以导致价格再度起飞。当地收购价从 50 元/斤直接起飞到 150 元/斤，时势造英雄，我得一个哥哥梭哈成功把握住了机会，咸鱼翻身也直接成了富豪。</p>\n<p>看到这儿大家应该也明白了，不提价格波动，如果真的“中药无用”，那么我们当地百姓将失去一大笔重要收入。所以我想这也应该是一个理由，中药作为经济的一部分，融入了我们社会。不知道有没有跟我们这里情况类似的地方，大家也可以分享下</p>\n", "last_modified": 1722255180, "replies": 64, "id": 1060995}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 6140, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785", "stars": 1486, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 631293, "username": "MrZhangLo", "url": "https://www.v2ex.com/u/MrZhangLo", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/0d13/9cdd/631293_mini.png?m=1722238782", "avatar_normal": "https://cdn.v2ex.com/avatar/0d13/9cdd/631293_normal.png?m=1722238782", "avatar_large": "https://cdn.v2ex.com/avatar/0d13/9cdd/631293_large.png?m=1722238782", "avatar_xlarge": "https://cdn.v2ex.com/avatar/0d13/9cdd/631293_xlarge.png?m=1722238782", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/0d13/9cdd/631293_xlarge.png?m=1722238782", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/0d13/9cdd/631293_xlarge.png?m=1722238782", "created": 1685176363, "last_modified": 1722238782}, "last_reply_by": "kevinmissu", "last_touched": 1722307336, "title": "遇到了人生重要的选择", "url": "https://www.v2ex.com/t/1060913", "created": 1722239433, "deleted": 0, "content": "现状： \r\n本人老家武汉，毕业后一直在上海工作五年，今年因工作要求出差武汉一年。\r\n\r\n现在有两个选择：\r\n1.一年出差完后，回上海。\r\n2.岗位调整到武汉，以后就留在武汉工作。\r\n\r\n公司是兄弟部门关系，上海是开发，武汉是业务，都很稳定。\r\n\r\n本人视角优缺点分析：\r\n\r\n回上海：\r\n优点：\r\n1.工作内容更喜欢，偏技术\r\n2.对上海好感度高\r\n3.工作晋升发展空间大\r\n4.工资相对高\r\n\r\n缺点：\r\n1.普通家庭，上海房价负担不起，看不到头\r\n2.父母在老家，养老问题\r\n3.工作压力相对大一些\r\n\r\n留武汉：\r\n优点：\r\n1.生活成本低、房价低\r\n2.离父母、亲戚近\r\n3.朋友多\r\n\r\n缺点：\r\n1.工作内容不喜欢，偏业务和管理\r\n2.目前工资低上海 7w 左右，后续可能会更大\r\n3.对武汉印象不是很好：司机素质低、街道破烂\r\n\r\n个人意向更偏向回上海。但是理性上来说，留武汉是更正确的选择。\r\n\r\n希望 v 友们分析分析，如果是你会怎么做。", "content_rendered": "现状： <br />本人老家武汉，毕业后一直在上海工作五年，今年因工作要求出差武汉一年。<br /><br />现在有两个选择：<br />1.一年出差完后，回上海。<br />2.岗位调整到武汉，以后就留在武汉工作。<br /><br />公司是兄弟部门关系，上海是开发，武汉是业务，都很稳定。<br /><br />本人视角优缺点分析：<br /><br />回上海：<br />优点：<br />1.工作内容更喜欢，偏技术<br />2.对上海好感度高<br />3.工作晋升发展空间大<br />4.工资相对高<br /><br />缺点：<br />1.普通家庭，上海房价负担不起，看不到头<br />2.父母在老家，养老问题<br />3.工作压力相对大一些<br /><br />留武汉：<br />优点：<br />1.生活成本低、房价低<br />2.离父母、亲戚近<br />3.朋友多<br /><br />缺点：<br />1.工作内容不喜欢，偏业务和管理<br />2.目前工资低上海 7w 左右，后续可能会更大<br />3.对武汉印象不是很好：司机素质低、街道破烂<br /><br />个人意向更偏向回上海。但是理性上来说，留武汉是更正确的选择。<br /><br />希望 v 友们分析分析，如果是你会怎么做。", "last_modified": 1722239458, "replies": 63, "id": 1060913}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 6140, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785", "stars": 1486, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 638140, "username": "Brocol", "url": "https://www.v2ex.com/u/Brocol", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/b00dd2fb96fbdea90004d4b55a6556c0?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/b00dd2fb96fbdea90004d4b55a6556c0?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/b00dd2fb96fbdea90004d4b55a6556c0?s=73&d=retro", "created": 1689127944, "last_modified": 1689127944}, "last_reply_by": "liuguangxuan", "last_touched": 1722308414, "title": "为什么现在举报只能通过抖音等这种社交平台", "url": "https://www.v2ex.com/t/1061028", "created": 1722271616, "deleted": 0, "content": "最近这几年陆续刷到抖音上面各种实名举报等视频\r\n多数都是因为现实生活中各种渠道没有用，才不得已在网上进行实名举报，希望获得一些流量形成热点，到达举报的效果，看到这种视频总会觉得非常的可悲\r\n不清楚这种事情落到自己头上，该怎么处理？花钱买流量吗，哈哈", "content_rendered": "<p>最近这几年陆续刷到抖音上面各种实名举报等视频\n多数都是因为现实生活中各种渠道没有用，才不得已在网上进行实名举报，希望获得一些流量形成热点，到达举报的效果，看到这种视频总会觉得非常的可悲\n不清楚这种事情落到自己头上，该怎么处理？花钱买流量吗，哈哈</p>\n", "last_modified": 1722271616, "replies": 56, "id": 1061028}]