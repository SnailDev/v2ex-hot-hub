[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/b53b/3a3d/55_large.png?m=1611920927", "name": "games", "avatar_normal": "https://cdn.v2ex.com/navatar/b53b/3a3d/55_normal.png?m=1611920927", "title": "游戏", "url": "https://www.v2ex.com/go/games", "topics": 2727, "footer": "", "header": "Life is short, have more fun.", "title_alternative": "Games", "avatar_mini": "https://cdn.v2ex.com/navatar/b53b/3a3d/55_mini.png?m=1611920927", "stars": 2377, "aliases": [], "root": false, "id": 55, "parent_node_name": "computer"}, "member": {"id": 579186, "username": "cqjdcheng", "url": "https://www.v2ex.com/u/cqjdcheng", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/7387d00508014434224152fe2f61bf71?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/7387d00508014434224152fe2f61bf71?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/7387d00508014434224152fe2f61bf71?s=73&d=retro", "created": 1650789213, "last_modified": 1650789213}, "last_reply_by": "wwd179", "last_touched": 1720504919, "title": "感觉电子阳痿了，都不知道玩什么游戏了，你们还在坚持什么游戏？", "url": "https://www.v2ex.com/t/1055652", "created": 1720419531, "deleted": 0, "content": "没有其他别得爱好，就喜欢玩玩游戏。\r\n现在年纪大了，时间少了，对任何游戏都提不起兴趣了。\r\n只有空余时间和朋友打打瓦。\r\n你们还在坚持什么游戏？", "content_rendered": "没有其他别得爱好，就喜欢玩玩游戏。<br />现在年纪大了，时间少了，对任何游戏都提不起兴趣了。<br />只有空余时间和朋友打打瓦。<br />你们还在坚持什么游戏？", "last_modified": 1720450645, "replies": 315, "id": 1055652}, {"node": {"avatar_large": "/static/img/node_default_large.png", "name": "fit", "avatar_normal": "/static/img/node_default_normal.png", "title": "健康", "url": "https://www.v2ex.com/go/fit", "topics": 1215, "footer": "", "header": "这个节点的设立，是为了让大家可以分享关于健身和健康生活方式的经验。如果你有什么正在困扰自己的身体症状，请立刻寻求正规医院的帮助。", "title_alternative": "Fit", "avatar_mini": "/static/img/node_default_mini.png", "stars": 341, "aliases": [], "root": false, "id": 700, "parent_node_name": "life"}, "member": {"id": 587078, "username": "DokiDokiSophon", "url": "https://www.v2ex.com/u/DokiDokiSophon", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/c5f406d96ff8a4d37d59d734f03c5c09?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/c5f406d96ff8a4d37d59d734f03c5c09?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/c5f406d96ff8a4d37d59d734f03c5c09?s=73&d=retro", "created": 1657013041, "last_modified": 1716780891}, "last_reply_by": "lee122929", "last_touched": 1720504415, "title": "被确诊重度抑郁症状", "url": "https://www.v2ex.com/t/1055690", "created": 1720425296, "deleted": 0, "content": "半年前感觉上天对我很不公平，很郁闷的度过了半年，其实那会儿就应该发现病了，但是自己压根没意识到。\r\n\r\n上上周因为人际关系处理出现问题，一整天处于极度的焦虑和害怕中，也没有意识到出了问题。\r\n\r\n上周二表白被拒，感觉耐受极限一下子冲破了阈值，随后头晕+失眠+恐惧+愤怒+自卑+一触就炸+大脑持续充血\r\n\r\n乘着清醒的时候约了心理门诊\r\n\r\n直到周六，拿到确诊单，重度抑郁症状，然后和表白那人吵了一架，开了药\r\n\r\n因为我的问题，弄了一堆烂摊子没法收拾\r\n\r\n现在不知道咋办\r\n\r\n\r\n\r\n回想起来，高中就有类似的症状，也没有意识到。\r\n\r\n我一直在委曲求全，别人喜欢什么我就扮演什么角色\r\n\r\n别人喜欢脾气好的，我压着我的脾气\r\n\r\n别人喜欢大度的，我不拘小节\r\n\r\n别人喜欢老实的，我拿真心对待每个人\r\n\r\n...\r\n结果呢，最后我一无所有\r\n\r\n\r\n这时候，\r\n\r\n有人说我在别人的身上找情绪价值\r\n\r\n有人说我的所作所为是为了寻找自己的安全感\r\n\r\n有人说我喜怒无常\r\n\r\n有人说我的所作所为都在假象一个心理预期，没有达到预期我就会指责别人\r\n\r\n我接受着来自全世界的指责\r\n\r\n回想起来，原来我是这样的人\r\n\r\n\r\n到头来，我压制的东西还是爆发出来，最后一场空\r\n\r\n爆发的时候我没觉得我有问题，我觉得我做的就是对的\r\n\r\n后来我觉得我做的就是错的", "content_rendered": "<p>半年前感觉上天对我很不公平，很郁闷的度过了半年，其实那会儿就应该发现病了，但是自己压根没意识到。</p>\n<p>上上周因为人际关系处理出现问题，一整天处于极度的焦虑和害怕中，也没有意识到出了问题。</p>\n<p>上周二表白被拒，感觉耐受极限一下子冲破了阈值，随后头晕+失眠+恐惧+愤怒+自卑+一触就炸+大脑持续充血</p>\n<p>乘着清醒的时候约了心理门诊</p>\n<p>直到周六，拿到确诊单，重度抑郁症状，然后和表白那人吵了一架，开了药</p>\n<p>因为我的问题，弄了一堆烂摊子没法收拾</p>\n<p>现在不知道咋办</p>\n<p>回想起来，高中就有类似的症状，也没有意识到。</p>\n<p>我一直在委曲求全，别人喜欢什么我就扮演什么角色</p>\n<p>别人喜欢脾气好的，我压着我的脾气</p>\n<p>别人喜欢大度的，我不拘小节</p>\n<p>别人喜欢老实的，我拿真心对待每个人</p>\n<p>...\n结果呢，最后我一无所有</p>\n<p>这时候，</p>\n<p>有人说我在别人的身上找情绪价值</p>\n<p>有人说我的所作所为是为了寻找自己的安全感</p>\n<p>有人说我喜怒无常</p>\n<p>有人说我的所作所为都在假象一个心理预期，没有达到预期我就会指责别人</p>\n<p>我接受着来自全世界的指责</p>\n<p>回想起来，原来我是这样的人</p>\n<p>到头来，我压制的东西还是爆发出来，最后一场空</p>\n<p>爆发的时候我没觉得我有问题，我觉得我做的就是对的</p>\n<p>后来我觉得我做的就是错的</p>\n", "last_modified": 1720435805, "replies": 111, "id": 1055690}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 6056, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785", "stars": 1465, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 550562, "username": "hekouwang123", "url": "https://www.v2ex.com/u/hekouwang123", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/4bc866d6b02f79a26ad94e602ceb3dc5?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/4bc866d6b02f79a26ad94e602ceb3dc5?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/4bc866d6b02f79a26ad94e602ceb3dc5?s=73&d=retro", "created": 1625916021, "last_modified": 1625916021}, "last_reply_by": "diantongren", "last_touched": 1720504498, "title": "人生第一次坐救护车", "url": "https://www.v2ex.com/t/1055782", "created": 1720448367, "deleted": 0, "content": "“喂，这里是 120 ，请问是什么事？”\r\n\r\n“你好，我不行了，肚子痛的很厉害，还狂吐不止，快来救我”\r\n\r\n“地址哪里？”\r\n\r\n“xxxxxx”\r\n\r\n怎么也没有想到，昨天还生龙活虎的自己，今天突然一下子就被救护车拖走了。\r\n\r\n上午去公司就已经感觉不舒服，肚子一直在持续的痛，我忍着，以为单纯的上几次厕所就能好，等到中午吃饭，同事邀我一起下去吃饭时，我心里纠结了一会，还是让他们先去了。这时候疼痛已经升级，犹豫再三，还是跟领导说了，领导建议我去医院看一下。其实我心里盘算着，不就是肚子痛吗，还用得着上医院吗？直接在家里躺一会就好了。\r\n\r\n在回来的路上，这两天上海的天气很炎热，出租车里都开上了空调，所以车里窗户都是紧闭的，我十分的想开一下窗，脑袋已经开始晕晕乎乎的了，车子的左右转弯加上窗外一闪而过的风景，像是两道强有力的催化剂，让我晕的更厉害。\r\n\r\n回到家没多久，我就吐了，这时候似乎触及到了肚子深处的那股痛处，吐一会，那里的痛处好像就稍微好一点了。\r\n\r\n没想到这一吐就是不可收拾。从下午一点多一直吐到了 5 点，整个人在厕所完全出不来了。坐在马桶上，过了一会手脚就已经酸的不行，换个姿势，蹲在地上，一会也酸的不行，又继续换回到马桶上，一下午来来回回这几个姿势，整个人都已经被掏空。尽管我一回家就开着空调，全身还是在不停地出着汗。一层又一层的汗像一层又一层的纸，粘在我皮肤上，把每个毛孔都堵得死死的。\r\n\r\n我在床上勉强的躺了一会，稍微感觉身体舒服了一些，我意识到不能再这样下去了，以前喝多的时候会这样，但现在比醉酒的状态还难受，八成是食物中毒了，直接打了 120 ，于是就有了开头的那一幕。\r\n\r\n联系好了救护人员，本来约定着在楼下，但打电话这会我又再次气血翻涌，已经吐的没什么力气了，但是这股剧烈的痉挛又让我强行吐了出来，再次从身体里憋出一股力气，让身体更加的虚弱，我就再次跟救护人员说，你们上来了，我快不行了，走楼梯都很费劲。\r\n\r\n上来了三个身强力壮的男救护员，我只看到他们穿着白色的 T 恤，黑色的长裤，甚至没有力气抬头看一下他们的长相。我一手扶着楼梯栏杆，一手扶着救护人员胳膊，像个老年人一样，步履蹒跚的下了楼。他们把我扶到担架上，我就躺着被他们抬出来了，小区里碰到一些人，都好奇的打量着我：这小伙子咋了，年纪轻轻的怎么被人抬着走了？\r\n\r\n上了救护车，意志已经不清楚了，我躺在床上，面朝着车尾躺着，第一次发现原来救护车的后车门是透明的，可以很清楚的看到外面的世界。救护车开的飞快，我看着后面一辆又一辆的车朝着我驶来，然后又被甩开，救护员问我要去哪个医院，我心里其实想着的是十院，但是已经没有力气说出话来了，就是最近的，嘴里面蹦出这么几个字，救护员就把我拉到了另外一个医院。在救护车上又吐了，其实这时候胃里面已经全空了，根本吐不出来什么，救护员跟我说忍着忍着，你胃已经空了这么吐下去伤身体。。。\r\n\r\n我被搀扶着来到了医院大厅里，医生先让我做了个血压，可是我连坐在那里的力气都没有，他们把我扶好，让我把手伸进那个测血压的洞里，我手伸进去，但是却没有力气摊好，全身一个劲的往下溜，一连测了好几次才测成功。\r\n\r\n医生问我有没有带家属过来，我刚开始没想着带朋友过来，自己本身就很狼狈，朋友们现在都在上班，实在不好意思麻烦别人，但这一刻我被医院繁琐的手续和流程震住了，直接拨通了朋友的电话，在等待朋友的过程中，医生让我躺在一个移动床上，把我推到了一个走廊里，这条走廊很长，除了留开必要的通道，都放满了病床。我看着护士把针管插进了我的血管里，左边的血管是用来验血的，右手的血管是用来输液的，我抬头看了一下，整整 5 大瓶药水，这得吊到什么时候？\r\n\r\n我躺在病床上，路过形形色色的路人，他们看着我，我也看着他们，相互对视了一眼，又很默契的相互撤离视线，来来回回多次以后，我厌倦了这种被看来看去的像是观赏性动物的感觉，就轻轻的，费了好大劲的挪动了一下身子，宁愿面壁思过，也不愿意再看来看去的了。\r\n\r\n有一阵子，在想朋友什么时候过来，就想着有个盼头，医院的时间过得特别慢，也没什么精力去刷手机了。\r\n\r\n过了一会，朋友终于赶了过来，心里的石头仿佛落下来了一样。他来了之后，我这里就少了很多事了。先是推着我去做了一个 CT,又是帮我去拿相关的检验报告。平时上班都是穿着长衣长裤的，我怎么也不知道怎么想的，今天都是短衣短裤，躺在病床上，被医院的空调冻得瑟瑟发抖，可能也是因为输液水是冷冻的原因，我就感觉我的小臂一直都是冰冰凉凉的，让朋友帮我现买了一床毯子。药水打完了，要换下一个吊瓶，都是朋友帮忙去喊的护士。\r\n\r\n五瓶吊瓶打完，已经是晚上 9 点多了，我这时候感觉稍微恢复了一点力气。我和朋友一起走出医院，他准备把我送回家里，我们在医院门口等车，他在路口徘徊，我没有站着的力气，随便找了个马路上的台阶，也不管脏不脏，直接坐了上去。。。\r\n\r\n这次生病真的是很出乎意料，我也不知道具体是吃了什么东西，头天晚上是吃了一些新疆的烧烤，第二天早上就吃了一点面包和咖啡，朋友建议我去追责那个烧烤店，我想想好像也没什么道理，又不是只吃了他们家的，也可能是各种食物相克造成的。。。\r\n\r\n不过我现在真的不敢大早上再来一大杯冰咖啡了，至少得等到中午吧，让肠胃缓缓。\r\n\r\n身体健康真的比什么都重要。", "content_rendered": "<p>“喂，这里是 120 ，请问是什么事？”</p>\n<p>“你好，我不行了，肚子痛的很厉害，还狂吐不止，快来救我”</p>\n<p>“地址哪里？”</p>\n<p>“xxxxxx”</p>\n<p>怎么也没有想到，昨天还生龙活虎的自己，今天突然一下子就被救护车拖走了。</p>\n<p>上午去公司就已经感觉不舒服，肚子一直在持续的痛，我忍着，以为单纯的上几次厕所就能好，等到中午吃饭，同事邀我一起下去吃饭时，我心里纠结了一会，还是让他们先去了。这时候疼痛已经升级，犹豫再三，还是跟领导说了，领导建议我去医院看一下。其实我心里盘算着，不就是肚子痛吗，还用得着上医院吗？直接在家里躺一会就好了。</p>\n<p>在回来的路上，这两天上海的天气很炎热，出租车里都开上了空调，所以车里窗户都是紧闭的，我十分的想开一下窗，脑袋已经开始晕晕乎乎的了，车子的左右转弯加上窗外一闪而过的风景，像是两道强有力的催化剂，让我晕的更厉害。</p>\n<p>回到家没多久，我就吐了，这时候似乎触及到了肚子深处的那股痛处，吐一会，那里的痛处好像就稍微好一点了。</p>\n<p>没想到这一吐就是不可收拾。从下午一点多一直吐到了 5 点，整个人在厕所完全出不来了。坐在马桶上，过了一会手脚就已经酸的不行，换个姿势，蹲在地上，一会也酸的不行，又继续换回到马桶上，一下午来来回回这几个姿势，整个人都已经被掏空。尽管我一回家就开着空调，全身还是在不停地出着汗。一层又一层的汗像一层又一层的纸，粘在我皮肤上，把每个毛孔都堵得死死的。</p>\n<p>我在床上勉强的躺了一会，稍微感觉身体舒服了一些，我意识到不能再这样下去了，以前喝多的时候会这样，但现在比醉酒的状态还难受，八成是食物中毒了，直接打了 120 ，于是就有了开头的那一幕。</p>\n<p>联系好了救护人员，本来约定着在楼下，但打电话这会我又再次气血翻涌，已经吐的没什么力气了，但是这股剧烈的痉挛又让我强行吐了出来，再次从身体里憋出一股力气，让身体更加的虚弱，我就再次跟救护人员说，你们上来了，我快不行了，走楼梯都很费劲。</p>\n<p>上来了三个身强力壮的男救护员，我只看到他们穿着白色的 T 恤，黑色的长裤，甚至没有力气抬头看一下他们的长相。我一手扶着楼梯栏杆，一手扶着救护人员胳膊，像个老年人一样，步履蹒跚的下了楼。他们把我扶到担架上，我就躺着被他们抬出来了，小区里碰到一些人，都好奇的打量着我：这小伙子咋了，年纪轻轻的怎么被人抬着走了？</p>\n<p>上了救护车，意志已经不清楚了，我躺在床上，面朝着车尾躺着，第一次发现原来救护车的后车门是透明的，可以很清楚的看到外面的世界。救护车开的飞快，我看着后面一辆又一辆的车朝着我驶来，然后又被甩开，救护员问我要去哪个医院，我心里其实想着的是十院，但是已经没有力气说出话来了，就是最近的，嘴里面蹦出这么几个字，救护员就把我拉到了另外一个医院。在救护车上又吐了，其实这时候胃里面已经全空了，根本吐不出来什么，救护员跟我说忍着忍着，你胃已经空了这么吐下去伤身体。。。</p>\n<p>我被搀扶着来到了医院大厅里，医生先让我做了个血压，可是我连坐在那里的力气都没有，他们把我扶好，让我把手伸进那个测血压的洞里，我手伸进去，但是却没有力气摊好，全身一个劲的往下溜，一连测了好几次才测成功。</p>\n<p>医生问我有没有带家属过来，我刚开始没想着带朋友过来，自己本身就很狼狈，朋友们现在都在上班，实在不好意思麻烦别人，但这一刻我被医院繁琐的手续和流程震住了，直接拨通了朋友的电话，在等待朋友的过程中，医生让我躺在一个移动床上，把我推到了一个走廊里，这条走廊很长，除了留开必要的通道，都放满了病床。我看着护士把针管插进了我的血管里，左边的血管是用来验血的，右手的血管是用来输液的，我抬头看了一下，整整 5 大瓶药水，这得吊到什么时候？</p>\n<p>我躺在病床上，路过形形色色的路人，他们看着我，我也看着他们，相互对视了一眼，又很默契的相互撤离视线，来来回回多次以后，我厌倦了这种被看来看去的像是观赏性动物的感觉，就轻轻的，费了好大劲的挪动了一下身子，宁愿面壁思过，也不愿意再看来看去的了。</p>\n<p>有一阵子，在想朋友什么时候过来，就想着有个盼头，医院的时间过得特别慢，也没什么精力去刷手机了。</p>\n<p>过了一会，朋友终于赶了过来，心里的石头仿佛落下来了一样。他来了之后，我这里就少了很多事了。先是推着我去做了一个 CT,又是帮我去拿相关的检验报告。平时上班都是穿着长衣长裤的，我怎么也不知道怎么想的，今天都是短衣短裤，躺在病床上，被医院的空调冻得瑟瑟发抖，可能也是因为输液水是冷冻的原因，我就感觉我的小臂一直都是冰冰凉凉的，让朋友帮我现买了一床毯子。药水打完了，要换下一个吊瓶，都是朋友帮忙去喊的护士。</p>\n<p>五瓶吊瓶打完，已经是晚上 9 点多了，我这时候感觉稍微恢复了一点力气。我和朋友一起走出医院，他准备把我送回家里，我们在医院门口等车，他在路口徘徊，我没有站着的力气，随便找了个马路上的台阶，也不管脏不脏，直接坐了上去。。。</p>\n<p>这次生病真的是很出乎意料，我也不知道具体是吃了什么东西，头天晚上是吃了一些新疆的烧烤，第二天早上就吃了一点面包和咖啡，朋友建议我去追责那个烧烤店，我想想好像也没什么道理，又不是只吃了他们家的，也可能是各种食物相克造成的。。。</p>\n<p>不过我现在真的不敢大早上再来一大杯冰咖啡了，至少得等到中午吧，让肠胃缓缓。</p>\n<p>身体健康真的比什么都重要。</p>\n", "last_modified": 1720448367, "replies": 79, "id": 1055782}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/03af/dbd6/63_large.png?m=1644490200", "name": "java", "avatar_normal": "https://cdn.v2ex.com/navatar/03af/dbd6/63_normal.png?m=1644490200", "title": "Java", "url": "https://www.v2ex.com/go/java", "topics": 5924, "footer": "", "header": "Sun 公司发明，被广泛使用的一门编程语言。", "title_alternative": "Java", "avatar_mini": "https://cdn.v2ex.com/navatar/03af/dbd6/63_mini.png?m=1644490200", "stars": 5612, "aliases": [], "root": false, "id": 63, "parent_node_name": "programming"}, "member": {"id": 63613, "username": "karottc", "url": "https://www.v2ex.com/u/karottc", "website": "www.karottc.com", "twitter": "", "psn": "", "github": "karottc", "btc": "", "location": "深圳", "tagline": "Do one thing, do it best !!!", "bio": "嗯，是我！", "avatar_mini": "https://cdn.v2ex.com/avatar/927c/0491/63613_mini.png?m=1403279995", "avatar_normal": "https://cdn.v2ex.com/avatar/927c/0491/63613_normal.png?m=1403279995", "avatar_large": "https://cdn.v2ex.com/avatar/927c/0491/63613_large.png?m=1403279995", "created": 1401077477, "last_modified": 1403279995}, "last_reply_by": "Features", "last_touched": 1720503822, "title": "果然吃内存，一个简单的 Java 程序就占用了 250M 内存", "url": "https://www.v2ex.com/t/1055770", "created": 1720442214, "deleted": 0, "content": "之前一直在用 Java 写 **企业级代码**，并没有很在意 java 的内存问题，比如多个/少个一两百兆就没关心。\r\n\r\n平时用 java 写的直接运行就结束的代码，基本都是本地电脑运行，也没有发现内存问题。\r\n\r\n直到最近，用 java 写了一个简单的程序，运行在我的 1C1G 的腾讯云机器上，才发现 java 确实内存大户。\r\n\r\n\r\n程序的功能为：\r\n1. 每 10 分钟抓取某个链接的数据\r\n2. 抓取到的内容和 mysql 里面已有的内容作对比\r\n3. 存在就更新，不存在就插入到 mysql 中\r\n4. 每天早上 10 点发送一个企业微信通知\r\n\r\n这就是这个程序的所有功能，由于用到了定时任务和操作 mysql, 所以我第一个版直接用了 springboot ，平时工作也用整起来快。\r\n用到的库为：okhttp + gson + mybaits + jdbc + logback\r\n\r\n程序运行稳定之后内存占用：**250M**\r\n\r\n\r\n这个简单的功能这个内存占用实在是太大了。\r\n\r\n然后我觉得可能是 springboot 的原因，所以我写了第二版：\r\n用了 okhttp + gson + mybatis + jdbc\r\n去掉了框架和 logback, 直接用 print 输出 log ， 定时任务也直接用了 while(true) + sleep 来实现。\r\n\r\n这版程序稳定运行之后内存占用：**90M**\r\n\r\n上面两版没有加任何优化参数，就是 java -jar xxx.jar 运行。\r\njava 版本：java21\r\n\r\n---\r\n\r\njava21 了，还是这个内存表现，失望啊。", "content_rendered": "<p>之前一直在用 Java 写 <strong>企业级代码</strong>，并没有很在意 java 的内存问题，比如多个/少个一两百兆就没关心。</p>\n<p>平时用 java 写的直接运行就结束的代码，基本都是本地电脑运行，也没有发现内存问题。</p>\n<p>直到最近，用 java 写了一个简单的程序，运行在我的 1C1G 的腾讯云机器上，才发现 java 确实内存大户。</p>\n<p>程序的功能为：</p>\n<ol>\n<li>每 10 分钟抓取某个链接的数据</li>\n<li>抓取到的内容和 mysql 里面已有的内容作对比</li>\n<li>存在就更新，不存在就插入到 mysql 中</li>\n<li>每天早上 10 点发送一个企业微信通知</li>\n</ol>\n<p>这就是这个程序的所有功能，由于用到了定时任务和操作 mysql, 所以我第一个版直接用了 springboot ，平时工作也用整起来快。\n用到的库为：okhttp + gson + mybaits + jdbc + logback</p>\n<p>程序运行稳定之后内存占用：<strong>250M</strong></p>\n<p>这个简单的功能这个内存占用实在是太大了。</p>\n<p>然后我觉得可能是 springboot 的原因，所以我写了第二版：\n用了 okhttp + gson + mybatis + jdbc\n去掉了框架和 logback, 直接用 print 输出 log ， 定时任务也直接用了 while(true) + sleep 来实现。</p>\n<p>这版程序稳定运行之后内存占用：<strong>90M</strong></p>\n<p>上面两版没有加任何优化参数，就是 java -jar xxx.jar 运行。\njava 版本：java21</p>\n<hr/>\n<p>java21 了，还是这个内存表现，失望啊。</p>\n", "last_modified": 1720442214, "replies": 77, "id": 1055770}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 6056, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785", "stars": 1465, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 564882, "username": "CLOUDU", "url": "https://www.v2ex.com/u/CLOUDU", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/f6d9/a691/564882_mini.png?m=1720488626", "avatar_normal": "https://cdn.v2ex.com/avatar/f6d9/a691/564882_normal.png?m=1720488626", "avatar_large": "https://cdn.v2ex.com/avatar/f6d9/a691/564882_large.png?m=1720488626", "avatar_xlarge": "https://cdn.v2ex.com/avatar/f6d9/a691/564882_xlarge.png?m=1720488626", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/f6d9/a691/564882_xlarge.png?m=1720488626", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/f6d9/a691/564882_xlarge.png?m=1720488626", "created": 1639131838, "last_modified": 1720488626}, "last_reply_by": "PoorBe", "last_touched": 1720458085, "title": "博士中年危机，难道我真的老了吗", "url": "https://www.v2ex.com/t/1055830", "created": 1720489621, "deleted": 0, "content": "北方 985 工科博士，上周博士录取通知书刚到，本校连读。\r\n\r\n大前年突然神经性耳聋，连续打了 3 周前列地尔救了回来，目前感觉不出差别，但听力测试有明显差距。\r\n\r\n前年检查出前列腺钙化斑，回学校复查后发现有前列腺炎，陆陆续续吃了很久的药，现在医生说痊愈了但是明显感觉不得劲。\r\n\r\n没有女朋友，也不知道性生活是什么概念，听到朋友谈对象后心里特别难受，感觉自己手里的东西随风飘走回不来了。\r\n\r\n也提不起兴趣找女朋友，自我感觉条件还行吧，但是每次都是软件上聊两句就没兴趣了。\r\n\r\n前两天忙碌了很久的基金也被告知挂了，上头是好几个老师工作的压力，下面是几个不顶用的学生，感觉压力真的很大。\r\n\r\n公路车骑了一年，最近刚升级了一些装备，本想趁着 8 月份好好骑骑，结果膝盖不舒服，遂去医院做核磁，查有膝盖积液，虽然不严重但是要吃药，静养不运动。\r\n\r\n昨天又生了热疹，后背刺痒到难以忍受，又害怕抗过敏药跟膝盖的药冲突也不敢吃。\r\n\r\n我并不是一个悲观的人，但是一连串的事情真把我搞破防了。\r\n\r\n看到以前爬山、跑马拉松和踢球的照片就很怀念，无比怀念那个年轻健康的自己。\r\n\r\n我不是一个悲观内向的人，但是我不由得发问，我真的老了吗？", "content_rendered": "<p>北方 985 工科博士，上周博士录取通知书刚到，本校连读。</p>\n<p>大前年突然神经性耳聋，连续打了 3 周前列地尔救了回来，目前感觉不出差别，但听力测试有明显差距。</p>\n<p>前年检查出前列腺钙化斑，回学校复查后发现有前列腺炎，陆陆续续吃了很久的药，现在医生说痊愈了但是明显感觉不得劲。</p>\n<p>没有女朋友，也不知道性生活是什么概念，听到朋友谈对象后心里特别难受，感觉自己手里的东西随风飘走回不来了。</p>\n<p>也提不起兴趣找女朋友，自我感觉条件还行吧，但是每次都是软件上聊两句就没兴趣了。</p>\n<p>前两天忙碌了很久的基金也被告知挂了，上头是好几个老师工作的压力，下面是几个不顶用的学生，感觉压力真的很大。</p>\n<p>公路车骑了一年，最近刚升级了一些装备，本想趁着 8 月份好好骑骑，结果膝盖不舒服，遂去医院做核磁，查有膝盖积液，虽然不严重但是要吃药，静养不运动。</p>\n<p>昨天又生了热疹，后背刺痒到难以忍受，又害怕抗过敏药跟膝盖的药冲突也不敢吃。</p>\n<p>我并不是一个悲观的人，但是一连串的事情真把我搞破防了。</p>\n<p>看到以前爬山、跑马拉松和踢球的照片就很怀念，无比怀念那个年轻健康的自己。</p>\n<p>我不是一个悲观内向的人，但是我不由得发问，我真的老了吗？</p>\n", "last_modified": 1720489621, "replies": 76, "id": 1055830}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1695370146", "name": "career", "avatar_normal": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1695370146", "title": "职场话题", "url": "https://www.v2ex.com/go/career", "topics": 17546, "footer": "", "header": "这里，我们聊聊那些工作中遇到的开心和不开心的事。", "title_alternative": "Career", "avatar_mini": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1695370146", "stars": 3168, "aliases": [], "root": false, "id": 770, "parent_node_name": "work"}, "member": {"id": 572399, "username": "NSen", "url": "https://www.v2ex.com/u/NSen", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/57c3c8e7a33be88aa6a3373462a8abfa?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/57c3c8e7a33be88aa6a3373462a8abfa?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/57c3c8e7a33be88aa6a3373462a8abfa?s=73&d=retro", "created": 1644485287, "last_modified": 1646382066}, "last_reply_by": "nitmali", "last_touched": 1720504221, "title": "现在大专找工作（尤其是单位）是不是直接就没机会", "url": "https://www.v2ex.com/t/1055801", "created": 1720473194, "deleted": 0, "content": "感觉现在的大专直接是有罪的，找个工作各种受限，要崩溃了，广大 v 友有什么就业建议没", "content_rendered": "感觉现在的大专直接是有罪的，找个工作各种受限，要崩溃了，广大 v 友有什么就业建议没", "last_modified": 1720484822, "replies": 65, "id": 1055801}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 220695, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 4210, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 189194, "username": "dejavuwind", "url": "https://www.v2ex.com/u/dejavuwind", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "博学之，审问之，慎思之，明辨之，笃行之。", "avatar_mini": "https://cdn.v2ex.com/avatar/5fd1/f2bb/189194_mini.png?m=1558582658", "avatar_normal": "https://cdn.v2ex.com/avatar/5fd1/f2bb/189194_normal.png?m=1558582658", "avatar_large": "https://cdn.v2ex.com/avatar/5fd1/f2bb/189194_large.png?m=1558582658", "created": 1472431286, "last_modified": 1558582658}, "last_reply_by": "thxgod", "last_touched": 1720504798, "title": "究竟是哪个天才想出来的降本增效就是集体降薪？", "url": "https://www.v2ex.com/t/1055832", "created": 1720489896, "deleted": 0, "content": "难道公司业务产出停滞通过降低大家的收入就能促进产出提升了？难道逼大家卷工时，卷绩效，就能让公司利润提升？\r\n\r\n有没有可能只是业务发展到了上限，市场本身的发展规模进入瓶颈，这时候再加更多的人力投入也只是边际效用极低的一种做法？\r\n\r\n缩编的话我还能稍稍理解，当然如何缩、以及怎么处理释放出来的这部分人力那这是另一个问题了。\r\n\r\n——有感于各种降本增效政策。", "content_rendered": "难道公司业务产出停滞通过降低大家的收入就能促进产出提升了？难道逼大家卷工时，卷绩效，就能让公司利润提升？<br /><br />有没有可能只是业务发展到了上限，市场本身的发展规模进入瓶颈，这时候再加更多的人力投入也只是边际效用极低的一种做法？<br /><br />缩编的话我还能稍稍理解，当然如何缩、以及怎么处理释放出来的这部分人力那这是另一个问题了。<br /><br />——有感于各种降本增效政策。", "last_modified": 1720489896, "replies": 54, "id": 1055832}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1695370146", "name": "career", "avatar_normal": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1695370146", "title": "职场话题", "url": "https://www.v2ex.com/go/career", "topics": 17546, "footer": "", "header": "这里，我们聊聊那些工作中遇到的开心和不开心的事。", "title_alternative": "Career", "avatar_mini": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1695370146", "stars": 3168, "aliases": [], "root": false, "id": 770, "parent_node_name": "work"}, "member": {"id": 543891, "username": "HongXinss", "url": "https://www.v2ex.com/u/HongXinss", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/a954e5dc390e11fe5c4d6963ae7ca716?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/a954e5dc390e11fe5c4d6963ae7ca716?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/a954e5dc390e11fe5c4d6963ae7ca716?s=73&d=retro", "created": 1619492879, "last_modified": 1619492879}, "last_reply_by": "ggmood", "last_touched": 1719641156, "title": "同事把工位公共垃圾桶私自侵占，且没有感觉到自己没有素质", "url": "https://www.v2ex.com/t/1055745", "created": 1720434448, "deleted": 0, "content": "我们工位是三三排列，互相背对着，本来一直没垃圾桶，后面申请了一个放在走廊正中间，最开始的时候都挺守规矩，直到一个月前，最边上的同事开始把垃圾桶放在自己位置旁边，后续保洁阿姨拿到中间来之后，他还是一到中午吃饭就把垃圾桶拿去一个人用且不自觉放回公共位置，开玩笑跟他说公共垃圾桶私用，他不知道是装的还是根本没有素质说垃圾桶自己跑过来的。\r\n\r\n救命，为什么会有这种没有素质的人，实在忍不住要吐槽一下。", "content_rendered": "我们工位是三三排列，互相背对着，本来一直没垃圾桶，后面申请了一个放在走廊正中间，最开始的时候都挺守规矩，直到一个月前，最边上的同事开始把垃圾桶放在自己位置旁边，后续保洁阿姨拿到中间来之后，他还是一到中午吃饭就把垃圾桶拿去一个人用且不自觉放回公共位置，开玩笑跟他说公共垃圾桶私用，他不知道是装的还是根本没有素质说垃圾桶自己跑过来的。<br /><br />救命，为什么会有这种没有素质的人，实在忍不住要吐槽一下。", "last_modified": 1720435788, "replies": 50, "id": 1055745}]