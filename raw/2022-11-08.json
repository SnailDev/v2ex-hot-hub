[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1659331259", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1659331259", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 51813, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1659331259", "stars": 8062, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 249667, "username": "xth12138", "url": "https://www.v2ex.com/u/xth12138", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/a8fe/8c0d/249667_mini.png?m=1667848398", "avatar_normal": "https://cdn.v2ex.com/avatar/a8fe/8c0d/249667_normal.png?m=1667848398", "avatar_large": "https://cdn.v2ex.com/avatar/a8fe/8c0d/249667_large.png?m=1667848398", "created": 1503149802, "last_modified": 1667848398}, "last_reply_by": "iqri2000", "last_touched": 1667898106, "title": "推荐一些我认为认真搞技术的 up 主", "url": "https://www.v2ex.com/t/893469", "created": 1667848431, "deleted": 0, "content": "观隔壁鱼皮帖有感，推荐一些我关注的认为认真搞技术的 up 主，欢迎大家补充。\r\n\r\n这些 up 有的也有付费课程，但没有什么知识星球这种鬼玩意，也没有恶心的推销。\r\n\r\n[DailyProgrammer]( https://space.bilibili.com/27312009) Go 语言相关的东西\r\n\r\n[yaaangmin]( https://space.bilibili.com/4564101) 讲 csapp\r\n\r\n[硬核课堂]( https://space.bilibili.com/1324259795) 论文、系统设计什么的\r\n\r\n[峰华前端工程师]( https://space.bilibili.com/302954484) 主要是前端相关的内容，视频质量高，看着舒服\r\n\r\n[谭玉刚]( https://space.bilibili.com/41036636) 操作系统啥的，比较硬核\r\n\r\n[软件工艺师]( https://space.bilibili.com/361469957) 广受好评的琦玉老师，看发型就是高手，Rust 、Go 、还有很多其他的\r\n\r\n[正月点灯笼]( https://space.bilibili.com/24014925) 看过算法相关的视频，通俗易懂\r\n\r\n[喜欢历史的程序君]( https://space.bilibili.com/39222989) Rust\r\n\r\n[九曲阑干]( https://space.bilibili.com/354767108) csapp", "content_rendered": "<p>观隔壁鱼皮帖有感，推荐一些我关注的认为认真搞技术的 up 主，欢迎大家补充。</p>\n<p>这些 up 有的也有付费课程，但没有什么知识星球这种鬼玩意，也没有恶心的推销。</p>\n<p><a href=\"https://space.bilibili.com/27312009\" rel=\"nofollow\">DailyProgrammer</a> Go 语言相关的东西</p>\n<p><a href=\"https://space.bilibili.com/4564101\" rel=\"nofollow\">yaaangmin</a> 讲 csapp</p>\n<p><a href=\"https://space.bilibili.com/1324259795\" rel=\"nofollow\">硬核课堂</a> 论文、系统设计什么的</p>\n<p><a href=\"https://space.bilibili.com/302954484\" rel=\"nofollow\">峰华前端工程师</a> 主要是前端相关的内容，视频质量高，看着舒服</p>\n<p><a href=\"https://space.bilibili.com/41036636\" rel=\"nofollow\">谭玉刚</a> 操作系统啥的，比较硬核</p>\n<p><a href=\"https://space.bilibili.com/361469957\" rel=\"nofollow\">软件工艺师</a> 广受好评的琦玉老师，看发型就是高手，Rust 、Go 、还有很多其他的</p>\n<p><a href=\"https://space.bilibili.com/24014925\" rel=\"nofollow\">正月点灯笼</a> 看过算法相关的视频，通俗易懂</p>\n<p><a href=\"https://space.bilibili.com/39222989\" rel=\"nofollow\">喜欢历史的程序君</a> Rust</p>\n<p><a href=\"https://space.bilibili.com/354767108\" rel=\"nofollow\">九曲阑干</a> csapp</p>\n", "last_modified": 1667848431, "replies": 116, "id": 893469}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/70ef/df2e/17_large.png?m=1660301119", "name": "create", "avatar_normal": "https://cdn.v2ex.com/navatar/70ef/df2e/17_normal.png?m=1660301119", "title": "分享创造", "url": "https://www.v2ex.com/go/create", "topics": 18728, "footer": "", "header": "欢迎你在这里发布自己的最新作品！", "title_alternative": "Create", "avatar_mini": "https://cdn.v2ex.com/navatar/70ef/df2e/17_mini.png?m=1660301119", "stars": 4600, "aliases": [], "root": false, "id": 17, "parent_node_name": "geek"}, "member": {"id": 2987, "username": "nicoljiang", "url": "https://www.v2ex.com/u/nicoljiang", "website": "https://unsplash.dogedoge.com/", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "nicol@soft.org", "avatar_mini": "https://cdn.v2ex.com/avatar/ae1d/2c2d/2987_mini.png?m=1667818538", "avatar_normal": "https://cdn.v2ex.com/avatar/ae1d/2c2d/2987_normal.png?m=1667818538", "avatar_large": "https://cdn.v2ex.com/avatar/ae1d/2c2d/2987_large.png?m=1667818538", "created": 1289843928, "last_modified": 1667818538}, "last_reply_by": "nicoljiang", "last_touched": 1667897875, "title": "时隔三年，新项目招募基石用户 —— 缤纷云 S4 对象存储 Preview，希望做独立开发者、创业者、创意人士的贴心伙伴", "url": "https://www.v2ex.com/t/893410", "created": 1667820768, "deleted": 0, "content": "## 体验方法\r\n1. 访问 https://www.dogecast.com/ 并注册账户\r\n2. 注册成功后将右上角的 Account ID 发送到 nicol@soft.org ，将尽快为你开通桶的创建权限（目前最多支持 5 个桶）\r\n\r\n## 前言\r\nhttps://www.v2ex.com/t/659652\r\n图片处理方面继承图床的所有功能，并做了升级，曾经还在用的老用户可以联系我做迁移。\r\n\r\n## 为什么叫 S4 ？\r\nAmazon S3 是当今全球最通用的对象存储，它名为 Simple Storage Service 。所以 S4 兼容 S3 协议，但是 S4 比 S3 多了一个 Smart （ S3 不自带任何文件处理、优化功能，甚至连 Gzip 都没有），于是叫 S4 。\r\n\r\n总的来说，它将是一个类似于 Wasabi.com + Cloudinary.com 的服务。\r\n\r\n## 为什么做这个？\r\n1. 脑“患”： https://www.reddit.com/r/DataHoarder/ ，喜欢大规模存储；\r\n2. 国内的云计算太贵了，用得起的大概只有「拿了很多热钱的企业」和「**新用户**」；\r\n3. 其实美国也有成本很低的廉价对象存储，例如：backblaze.com 和 wasabi.com 就是其中的佼佼者，但国内太慢了。\r\n\r\n所以我决定自己做一个。\r\n\r\n## 有哪些 Smart\r\n我们为创意行业构建了也许是目前最好的实时图片处理系统，具体而言：\r\n\r\n1. 国内率先支持 Heic 、Avif 格式（具体「前言」一贴中有提到）\r\n2. 目前国内率先支持内容感知的智能裁剪（具体「前言」一贴中有提到）\r\n3. 目前国内率先支持 基于 icc profile 的色彩管理（新特性，支持 Adobe RGB 、Apple P3 、ProPhoto 、CMYK ）\r\n4. 目前国内率先支持 常见相机 Raw 格式直接处理（新特性，包括 ProRaw ）\r\n5. 目前国内率先支持 超大图（不超过 500M ）直接处理（阿里云 OSS 限制 20M ）\r\n6. 目前国内率先支持 量化压缩 Jpeg （对比： https://www.ladydaily.com/image_formats/)\r\n7. 目前国内率先支持 TinyPng 实时压缩（对比： https://www.ladydaily.com/image_formats/)\r\n8. 目前国内率先支持 blurhash 转换\r\n0. 我们会主动尝试最新媒体技术并推进实用。\r\n\r\n## 有没有内置 CDN\r\n目前境内对接了百度 CDN ，境外的正在选型。\r\n\r\n## 成本能有多低？\r\n以 阿里云 OSS 举例：\r\n\r\n1. 我们的存储价格平均为 6 分钱以下，甚至远低于其低频存储；\r\n2. 出口网络费用更是只有其 1/4 。如果有幸能做大规模，价格还能更低；\r\n3. 每月前 100GB 存储、20GB 流量免费（包括 https ）\r\n\r\n*具体可以看这个表格： https://docs.qq.com/sheet/DQ3VwTlJQY1l5dU9G*\r\n\r\n\r\n## 如何能做到比 OSS 便宜这么多？是否有歪门邪道的套路？\r\nOSS 作为阿里云的一部分，各个方面使用着全球最顶级的设备、雇佣者全球最顶级的科学家与工程师。成本自然居高不下，而我们希望用成熟的技术服务普通大众，没有带领人类探索前沿的伟大愿景，所以不需要雇佣各种顶级科学家，有机会节省非常巨大的非必要成本。\r\n\r\n## 其他云会有各种骨折优惠，算下来会比 S4 更便宜，你们怎么理解\r\n除非能保证你一直是「新用户」，否则你会像我一样某种程度上被锁定住（曾经存储过 18T 数据，最后狠心转移出来流量费用都花了几千块）\r\n\r\n## 国内云都在亏损，你们为什么还要入局\r\n我们认为目前各大云计算都在用 toC 的玩法做 toB 市场，即：大成本扩张 -> 骨折圈地 -> 收割。但企业用户非常理性，且忠诚度低，所以玩不转。我们希望不搞噱头，用合理的成本构建服务，以合理的定价精益化运营。实际上若廉价云存储在欧美可以跑通，大陆一定能也可以有一席之地。\r\n\r\n## 有什么值得注意的限制？\r\n1. 我们的性能低于 `OSS 标准`，但高于 `低频存储` ，大部分场完全不需要上万 QPS ，我们争取做到其 60%的性能就足以满足 95%的需求场景；\r\n2. 就功能的丰富度而言，还差许多，但随着开发的推进，会很快补上；\r\n3. 如果你使用了阿里的服务器，且服务器需要跟对象存储大量交互，则会消耗服务器外网流量，众所周知，阿里云的流量巨贵，总体而言，如果你可以用七牛云、又拍云，基本上完全可以平替过来。\r\n4. 目前只有浙江可用区，我们争取在 1 年内上线北方可用区。\r\n    \r\n## 可用性与数据可靠性是否会打折扣？\r\n数据可靠性跟分布式规模有关，以我们目前的规模勉强达到 10 个 9 的可靠性（ S3 为 11 个 9 ），我们希望在 1 年内能达到 11 个 9 。\r\n\r\n## 怎么算基石用户？有什么好处？\r\n我们暂时划定前 500 位 注册的账户位基石用户。基石用户会额外有一些终身优惠，详细的策略正在制定。\r\n\r\n## 目前是否可以在生产环境中使用？\r\n当前测试系统已经比较稳定地运行了 2 年，但仍然不建议作为你重要资料的唯一存储。若有需要，目前可以先联系我们。\r\n\r\n## 短中期有什么规划？\r\n1. 补齐必要周边功能（数据面板、更详细的 CDN 管理、子账户管理、AccessKey 管理、TTL 、WORM 、审查日志 等）\r\n2. 上线正式版\r\n3. 上线内容机审服务\r\n4. 补齐文档\r\n5. 新增北方可用区\r\n\r\n## 目前有没有可公开查看的用例？\r\n1. unsplash.dogedoge.com - 是基于 S4 构建的 Unsplash.com 大陆镜像\r\n2. https://itab.link - 图库功能部分使用了 S4 构建的存储\r\n3. 闪电壁纸 - 基于 S4 构建的 Unsplash 、Wallhaven 图库： https://apps.apple.com/cn/app/%E9%97%AA%E7%94%B5%E5%A3%81%E7%BA%B8/id1624213065\r\n\r\n## 其他想说的\r\n1. 欢迎各种想法碰撞、合作联系及疑问咨询；\r\n2. 欢迎各种学生、未成年极客来探讨赞助。\r\n也可单独联系： nicol@soft.org", "content_rendered": "<h2>体验方法</h2>\n<ol>\n<li>访问 <a href=\"https://www.dogecast.com/\" rel=\"nofollow\">https://www.dogecast.com/</a> 并注册账户</li>\n<li>注册成功后将右上角的 Account ID 发送到 <a href=\"mailto:nicol@soft.org\">nicol@soft.org</a> ，将尽快为你开通桶的创建权限（目前最多支持 5 个桶）</li>\n</ol>\n<h2>前言</h2>\n<p><a href=\"https://www.v2ex.com/t/659652\" rel=\"nofollow\">https://www.v2ex.com/t/659652</a>\n图片处理方面继承图床的所有功能，并做了升级，曾经还在用的老用户可以联系我做迁移。</p>\n<h2>为什么叫 S4 ？</h2>\n<p>Amazon S3 是当今全球最通用的对象存储，它名为 Simple Storage Service 。所以 S4 兼容 S3 协议，但是 S4 比 S3 多了一个 Smart （ S3 不自带任何文件处理、优化功能，甚至连 Gzip 都没有），于是叫 S4 。</p>\n<p>总的来说，它将是一个类似于 <a href=\"http://Wasabi.com\" rel=\"nofollow\">Wasabi.com</a> + <a href=\"http://Cloudinary.com\" rel=\"nofollow\">Cloudinary.com</a> 的服务。</p>\n<h2>为什么做这个？</h2>\n<ol>\n<li>脑“患”： <a href=\"https://www.reddit.com/r/DataHoarder/\" rel=\"nofollow\">https://www.reddit.com/r/DataHoarder/</a> ，喜欢大规模存储；</li>\n<li>国内的云计算太贵了，用得起的大概只有「拿了很多热钱的企业」和「<strong>新用户</strong>」；</li>\n<li>其实美国也有成本很低的廉价对象存储，例如：<a href=\"http://backblaze.com\" rel=\"nofollow\">backblaze.com</a> 和 <a href=\"http://wasabi.com\" rel=\"nofollow\">wasabi.com</a> 就是其中的佼佼者，但国内太慢了。</li>\n</ol>\n<p>所以我决定自己做一个。</p>\n<h2>有哪些 Smart</h2>\n<p>我们为创意行业构建了也许是目前最好的实时图片处理系统，具体而言：</p>\n<ol>\n<li>国内率先支持 Heic 、Avif 格式（具体「前言」一贴中有提到）</li>\n<li>目前国内率先支持内容感知的智能裁剪（具体「前言」一贴中有提到）</li>\n<li>目前国内率先支持 基于 icc profile 的色彩管理（新特性，支持 Adobe RGB 、Apple P3 、ProPhoto 、CMYK ）</li>\n<li>目前国内率先支持 常见相机 Raw 格式直接处理（新特性，包括 ProRaw ）</li>\n<li>目前国内率先支持 超大图（不超过 500M ）直接处理（阿里云 OSS 限制 20M ）</li>\n<li>目前国内率先支持 量化压缩 Jpeg （对比： <a href=\"https://www.ladydaily.com/image_formats/\" rel=\"nofollow\">https://www.ladydaily.com/image_formats/</a>)</li>\n<li>目前国内率先支持 TinyPng 实时压缩（对比： <a href=\"https://www.ladydaily.com/image_formats/\" rel=\"nofollow\">https://www.ladydaily.com/image_formats/</a>)</li>\n<li>目前国内率先支持 blurhash 转换</li>\n<li>我们会主动尝试最新媒体技术并推进实用。</li>\n</ol>\n<h2>有没有内置 CDN</h2>\n<p>目前境内对接了百度 CDN ，境外的正在选型。</p>\n<h2>成本能有多低？</h2>\n<p>以 阿里云 OSS 举例：</p>\n<ol>\n<li>我们的存储价格平均为 6 分钱以下，甚至远低于其低频存储；</li>\n<li>出口网络费用更是只有其 1/4 。如果有幸能做大规模，价格还能更低；</li>\n<li>每月前 100GB 存储、20GB 流量免费（包括 https ）</li>\n</ol>\n<p><em>具体可以看这个表格： <a href=\"https://docs.qq.com/sheet/DQ3VwTlJQY1l5dU9G\" rel=\"nofollow\">https://docs.qq.com/sheet/DQ3VwTlJQY1l5dU9G</a></em></p>\n<h2>如何能做到比 OSS 便宜这么多？是否有歪门邪道的套路？</h2>\n<p>OSS 作为阿里云的一部分，各个方面使用着全球最顶级的设备、雇佣者全球最顶级的科学家与工程师。成本自然居高不下，而我们希望用成熟的技术服务普通大众，没有带领人类探索前沿的伟大愿景，所以不需要雇佣各种顶级科学家，有机会节省非常巨大的非必要成本。</p>\n<h2>其他云会有各种骨折优惠，算下来会比 S4 更便宜，你们怎么理解</h2>\n<p>除非能保证你一直是「新用户」，否则你会像我一样某种程度上被锁定住（曾经存储过 18T 数据，最后狠心转移出来流量费用都花了几千块）</p>\n<h2>国内云都在亏损，你们为什么还要入局</h2>\n<p>我们认为目前各大云计算都在用 toC 的玩法做 toB 市场，即：大成本扩张 -&gt; 骨折圈地 -&gt; 收割。但企业用户非常理性，且忠诚度低，所以玩不转。我们希望不搞噱头，用合理的成本构建服务，以合理的定价精益化运营。实际上若廉价云存储在欧美可以跑通，大陆一定能也可以有一席之地。</p>\n<h2>有什么值得注意的限制？</h2>\n<ol>\n<li>我们的性能低于 <code>OSS 标准</code>，但高于 <code>低频存储</code> ，大部分场完全不需要上万 QPS ，我们争取做到其 60%的性能就足以满足 95%的需求场景；</li>\n<li>就功能的丰富度而言，还差许多，但随着开发的推进，会很快补上；</li>\n<li>如果你使用了阿里的服务器，且服务器需要跟对象存储大量交互，则会消耗服务器外网流量，众所周知，阿里云的流量巨贵，总体而言，如果你可以用七牛云、又拍云，基本上完全可以平替过来。</li>\n<li>目前只有浙江可用区，我们争取在 1 年内上线北方可用区。</li>\n</ol>\n<h2>可用性与数据可靠性是否会打折扣？</h2>\n<p>数据可靠性跟分布式规模有关，以我们目前的规模勉强达到 10 个 9 的可靠性（ S3 为 11 个 9 ），我们希望在 1 年内能达到 11 个 9 。</p>\n<h2>怎么算基石用户？有什么好处？</h2>\n<p>我们暂时划定前 500 位 注册的账户位基石用户。基石用户会额外有一些终身优惠，详细的策略正在制定。</p>\n<h2>目前是否可以在生产环境中使用？</h2>\n<p>当前测试系统已经比较稳定地运行了 2 年，但仍然不建议作为你重要资料的唯一存储。若有需要，目前可以先联系我们。</p>\n<h2>短中期有什么规划？</h2>\n<ol>\n<li>补齐必要周边功能（数据面板、更详细的 CDN 管理、子账户管理、AccessKey 管理、TTL 、WORM 、审查日志 等）</li>\n<li>上线正式版</li>\n<li>上线内容机审服务</li>\n<li>补齐文档</li>\n<li>新增北方可用区</li>\n</ol>\n<h2>目前有没有可公开查看的用例？</h2>\n<ol>\n<li><a href=\"http://unsplash.dogedoge.com\" rel=\"nofollow\">unsplash.dogedoge.com</a> - 是基于 S4 构建的 <a href=\"http://Unsplash.com\" rel=\"nofollow\">Unsplash.com</a> 大陆镜像</li>\n<li><a href=\"https://itab.link\" rel=\"nofollow\">https://itab.link</a> - 图库功能部分使用了 S4 构建的存储</li>\n<li>闪电壁纸 - 基于 S4 构建的 Unsplash 、Wallhaven 图库： <a href=\"https://apps.apple.com/cn/app/%E9%97%AA%E7%94%B5%E5%A3%81%E7%BA%B8/id1624213065\" rel=\"nofollow\">https://apps.apple.com/cn/app/%E9%97%AA%E7%94%B5%E5%A3%81%E7%BA%B8/id1624213065</a></li>\n</ol>\n<h2>其他想说的</h2>\n<ol>\n<li>欢迎各种想法碰撞、合作联系及疑问咨询；</li>\n<li>欢迎各种学生、未成年极客来探讨赞助。\n也可单独联系： <a href=\"mailto:nicol@soft.org\">nicol@soft.org</a></li>\n</ol>\n", "last_modified": 1667820768, "replies": 90, "id": 893410}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6512/bd43/11_large.png?m=1651565926", "name": "linux", "avatar_normal": "https://cdn.v2ex.com/navatar/6512/bd43/11_normal.png?m=1651565926", "title": "Linux", "url": "https://www.v2ex.com/go/linux", "topics": 7024, "footer": "", "header": "Linux is a Unix-like computer operating system assembled under the model of free and open source software development and distribution.", "title_alternative": "Linux", "avatar_mini": "https://cdn.v2ex.com/navatar/6512/bd43/11_mini.png?m=1651565926", "stars": 5950, "aliases": [], "root": false, "id": 11, "parent_node_name": "os"}, "member": {"id": 161013, "username": "maichaide", "url": "https://www.v2ex.com/u/maichaide", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/5442abbfadb305cee621eed4564b8c14?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/5442abbfadb305cee621eed4564b8c14?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/5442abbfadb305cee621eed4564b8c14?s=73&d=retro", "created": 1456708753, "last_modified": 1663217825}, "last_reply_by": "si", "last_touched": 1667897221, "title": "远离国产软件，只配在虚拟机和沙箱里跑！", "url": "https://www.v2ex.com/t/893462", "created": 1667837785, "deleted": 0, "content": "硬盘一阵狂响，WPS for linux 后门服务启动了！\r\nhttps://i.imgur.com/LqpY9cP.png", "content_rendered": "硬盘一阵狂响，WPS for linux 后门服务启动了！<br /><a target=\"_blank\" href=\"https://i.imgur.com/LqpY9cP.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/LqpY9cP.png\" class=\"embedded_image\" rel=\"noreferrer\"></a>", "last_modified": 1667837785, "replies": 87, "id": 893462}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1659331259", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1659331259", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 51813, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1659331259", "stars": 8062, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 542077, "username": "whereisgungun", "url": "https://www.v2ex.com/u/whereisgungun", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/d6475e89058e2cf5bc30210cf8acba06?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/d6475e89058e2cf5bc30210cf8acba06?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/d6475e89058e2cf5bc30210cf8acba06?s=73&d=retro", "created": 1618144331, "last_modified": 1667825991}, "last_reply_by": "newmlp", "last_touched": 1667897288, "title": "Java 求解如何优化 100 个 if 判断？", "url": "https://www.v2ex.com/t/893424", "created": 1667826291, "deleted": 0, "content": "需求是这样的：\r\n上游服务调用接口（ TCP 协议，用 netty 做了服务端，上游是客户端）发来报文，这个报文里面会有 35 个属性，我们简单定义这 35 个属性为 A 、B 、C 、D....然后每个属性的值为 a 、b 、c 、d....现在有接近 100 个模板，然后我们的功能就是要根据报文来确定要用哪一个，重点是这 100 个模板是没有规律的。\r\n\r\n比如：\r\nif(a==1 && b==2) {return \"模板 1\";}\r\nif(c.length==1 && d.equals(\"xxx\")) {return \"模板 2\";}\r\n...\r\n也就是说，会有 100 个 if 判断来确定此次调用的报文对应哪个模板，而且报文是不冲突的，35 个属性的值只要命中其中一个模板，其他的就都不符合，都是互斥的。（算是 CompletableFuture 的 anyOf 方法。）\r\n\r\n现在暂时找不出这 100 个 if 里面有什么具体的规律，35 个属性也没有。求问各位大神有什么好的思路优化吗？线程池 or 中间件？\r\n\r\nPS：作为最底层的外包，也没法要求上游能做什么改动了。。他们是一个老旧的银行系统，以前也是用的一个一个判断来着，现在把项目丢给我们了。。", "content_rendered": "需求是这样的：<br />上游服务调用接口（ TCP 协议，用 netty 做了服务端，上游是客户端）发来报文，这个报文里面会有 35 个属性，我们简单定义这 35 个属性为 A 、B 、C 、D....然后每个属性的值为 a 、b 、c 、d....现在有接近 100 个模板，然后我们的功能就是要根据报文来确定要用哪一个，重点是这 100 个模板是没有规律的。<br /><br />比如：<br />if(a==1 &amp;&amp; b==2) {return \"模板 1\";}<br />if(c.length==1 &amp;&amp; d.equals(\"xxx\")) {return \"模板 2\";}<br />...<br />也就是说，会有 100 个 if 判断来确定此次调用的报文对应哪个模板，而且报文是不冲突的，35 个属性的值只要命中其中一个模板，其他的就都不符合，都是互斥的。（算是 CompletableFuture 的 anyOf 方法。）<br /><br />现在暂时找不出这 100 个 if 里面有什么具体的规律，35 个属性也没有。求问各位大神有什么好的思路优化吗？线程池 or 中间件？<br /><br />PS：作为最底层的外包，也没法要求上游能做什么改动了。。他们是一个老旧的银行系统，以前也是用的一个一个判断来着，现在把项目丢给我们了。。", "last_modified": 1667826620, "replies": 76, "id": 893424}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 3590, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785", "stars": 976, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 535010, "username": "jdandelion573", "url": "https://www.v2ex.com/u/jdandelion573", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/9eecb0f660b82aa2c7b476474848582f?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/9eecb0f660b82aa2c7b476474848582f?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/9eecb0f660b82aa2c7b476474848582f?s=73&d=retro", "created": 1614338625, "last_modified": 1614338625}, "last_reply_by": "zhou405x", "last_touched": 1667897586, "title": "你们上一次笑是什么时候？", "url": "https://www.v2ex.com/t/893544", "created": 1667880418, "deleted": 0, "content": "很久没有开心过，今天看到小丑接生视频笑了，人间还是有美好让人忍俊不止的事情，贴出来让大家开心一下。\r\n\r\nhttps://www.youtube.com/watch?v=850uLTWXDEk", "content_rendered": "<p>很久没有开心过，今天看到小丑接生视频笑了，人间还是有美好让人忍俊不止的事情，贴出来让大家开心一下。</p>\n<p><a href=\"https://www.youtube.com/watch?v=850uLTWXDEk\" rel=\"nofollow\">https://www.youtube.com/watch?v=850uLTWXDEk</a></p>\n", "last_modified": 1667880418, "replies": 66, "id": 893544}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 192629, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3610, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 574610, "username": "ziho", "url": "https://www.v2ex.com/u/ziho", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/dbed/1396/574610_mini.png?m=1667844204", "avatar_normal": "https://cdn.v2ex.com/avatar/dbed/1396/574610_normal.png?m=1667844204", "avatar_large": "https://cdn.v2ex.com/avatar/dbed/1396/574610_large.png?m=1667844204", "avatar_xlarge": "https://cdn.v2ex.com/avatar/dbed/1396/574610_xlarge.png?m=1667844204", "created": 1646658590, "last_modified": 1667844204}, "last_reply_by": "xuanbg", "last_touched": 1667889445, "title": "楼下的住户在凌晨一点到三点用铁锤砸墙，求助", "url": "https://www.v2ex.com/t/893468", "created": 1667845431, "deleted": 0, "content": "如题，（珠三角某二三线城市）同一栋小区居民楼的一住户每到深夜时分，用铁锤大力敲砸承重墙，大约每间隔十到二十分钟便会敲打数次，同时拖动家中重物、家具，发出巨大噪音严重影响附近住户们的睡眠，导致邻居们苦不堪言\r\n\r\n曾联系小区业委会与该住户沟通，无果\r\n\r\n曾拨打 110 ，民警和社区居委多次上访予以劝诫警告，收效甚微\r\n\r\n求助各位 V 友是否有其他处理办法", "content_rendered": "如题，（珠三角某二三线城市）同一栋小区居民楼的一住户每到深夜时分，用铁锤大力敲砸承重墙，大约每间隔十到二十分钟便会敲打数次，同时拖动家中重物、家具，发出巨大噪音严重影响附近住户们的睡眠，导致邻居们苦不堪言<br /><br />曾联系小区业委会与该住户沟通，无果<br /><br />曾拨打 110 ，民警和社区居委多次上访予以劝诫警告，收效甚微<br /><br />求助各位 V 友是否有其他处理办法", "last_modified": 1667845431, "replies": 56, "id": 893468}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 3590, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785", "stars": 976, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 18392, "username": "revival83", "url": "https://www.v2ex.com/u/revival83", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "北京", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/2b48/30a2/18392_mini.png?m=1392345536", "avatar_normal": "https://cdn.v2ex.com/avatar/2b48/30a2/18392_normal.png?m=1392345536", "avatar_large": "https://cdn.v2ex.com/avatar/2b48/30a2/18392_large.png?m=1392345536", "created": 1332135411, "last_modified": 1392345536}, "last_reply_by": "zhandouji", "last_touched": 1667328481, "title": "感觉自己快活不下去了，兄弟们给指条路吧", "url": "https://www.v2ex.com/t/893514", "created": 1667875681, "deleted": 0, "content": "本身糖尿病六七年了，2020 年家人去世后身体健康直线下降，现在是高血糖、高血脂、高尿酸、胃食管反流、颈动脉斑块、钙化性肌腱炎等等，转氨酶也高（可能是吃降血脂药吃的），现在症状时不时就头剧烈疼心脏周围也疼，浑身无力。去医院该看的也都看了医生就是说检查没问题让吃止痛药，身体情况真的太差了，感觉活着就是靠药续命了。\r\n\r\n由于年龄也大了明年 38 了，最近两三年都没怎么工作了，一直跑医院，现在就想能找份什么样的工作，以前做新媒体运营由于这两三年也脱节了基本没人要了，而且年龄大，体检肝功也不正常，体力活儿晒个衣服抬胳膊没一会儿就累了。想过送外卖送快递但感觉不现实。\r\n\r\n现在就想能不能干点什么事儿能轻一些体力的，因为每天时不时就会心脏和头疼确实找不到原因了只能止痛药扛着，但是再没有收入老本就吃完了，吃药钱都没了，只要降血脂药一段颈动脉的斑块和血管就会更严重了。希望兄弟们给指条路。", "content_rendered": "<p>本身糖尿病六七年了，2020 年家人去世后身体健康直线下降，现在是高血糖、高血脂、高尿酸、胃食管反流、颈动脉斑块、钙化性肌腱炎等等，转氨酶也高（可能是吃降血脂药吃的），现在症状时不时就头剧烈疼心脏周围也疼，浑身无力。去医院该看的也都看了医生就是说检查没问题让吃止痛药，身体情况真的太差了，感觉活着就是靠药续命了。</p>\n<p>由于年龄也大了明年 38 了，最近两三年都没怎么工作了，一直跑医院，现在就想能找份什么样的工作，以前做新媒体运营由于这两三年也脱节了基本没人要了，而且年龄大，体检肝功也不正常，体力活儿晒个衣服抬胳膊没一会儿就累了。想过送外卖送快递但感觉不现实。</p>\n<p>现在就想能不能干点什么事儿能轻一些体力的，因为每天时不时就会心脏和头疼确实找不到原因了只能止痛药扛着，但是再没有收入老本就吃完了，吃药钱都没了，只要降血脂药一段颈动脉的斑块和血管就会更严重了。希望兄弟们给指条路。</p>\n", "last_modified": 1667875681, "replies": 51, "id": 893514}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1659331259", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1659331259", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 51813, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1659331259", "stars": 8062, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 275518, "username": "lslvxy", "url": "https://www.v2ex.com/u/lslvxy", "website": "https://laysan.me", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/098f/49c8/275518_mini.png?m=1658940344", "avatar_normal": "https://cdn.v2ex.com/avatar/098f/49c8/275518_normal.png?m=1658940344", "avatar_large": "https://cdn.v2ex.com/avatar/098f/49c8/275518_large.png?m=1658940344", "created": 1513665051, "last_modified": 1658940344}, "last_reply_by": "freestyle26", "last_touched": 1667898030, "title": "想换电脑了， MAC or ThinkPad", "url": "https://www.v2ex.com/t/893577", "created": 1667888060, "deleted": 0, "content": "手里的 MBP 已经快要寿终正寝了，寻思着是时候换个趁手的家伙了。\r\n\r\n目前有两个选择，M1 Pro MAX 和 ThinkPad P1 gen5 。\r\n\r\nmac 用久了又想用用 Windows ，顺便可以玩玩原神。\r\n\r\n搞开发的话有 wsl 也挺方便的，目前比较倾向 ThinkPad\r\n\r\n各位大佬有没有什么建议", "content_rendered": "<p>手里的 MBP 已经快要寿终正寝了，寻思着是时候换个趁手的家伙了。</p>\n<p>目前有两个选择，M1 Pro MAX 和 ThinkPad P1 gen5 。</p>\n<p>mac 用久了又想用用 Windows ，顺便可以玩玩原神。</p>\n<p>搞开发的话有 wsl 也挺方便的，目前比较倾向 ThinkPad</p>\n<p>各位大佬有没有什么建议</p>\n", "last_modified": 1667888060, "replies": 48, "id": 893577}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1659331259", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1659331259", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 51813, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1659331259", "stars": 8062, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 594528, "username": "yw121141111", "url": "https://www.v2ex.com/u/yw121141111", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/01569de8079fc9928731c6334ed1025e?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/01569de8079fc9928731c6334ed1025e?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/01569de8079fc9928731c6334ed1025e?s=73&d=retro", "created": 1663318939, "last_modified": 1663318939}, "last_reply_by": "gps949", "last_touched": 1667892999, "title": "纯小白 请问怎么保护自己的服务器", "url": "https://www.v2ex.com/t/893386", "created": 1667814717, "deleted": 0, "content": "今天刚买的阿里云 玩了一会 docker 开放了 22 端口和 docker 的默认端口 就报警说有挖矿程序 纯小白 请问改怎么做能尽量避免此类情况 求指点", "content_rendered": "<p>今天刚买的阿里云 玩了一会 docker 开放了 22 端口和 docker 的默认端口 就报警说有挖矿程序 纯小白 请问改怎么做能尽量避免此类情况 求指点</p>\n", "last_modified": 1667814717, "replies": 48, "id": 893386}]